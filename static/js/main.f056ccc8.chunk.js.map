{"version":3,"sources":["fetcher.ts","constants.ts","connectors.ts","assets/metamask.png","components/ConnectorModal/index.tsx","assets/ledger.png","assets/probity.png","components/ExternalSites/index.tsx","contexts/TransactionContext.ts","utils.ts","contexts/AssetContext.ts","components/Navbar/index.tsx","assets/flr.jpg","assets/sgb.png","assets/usd.png","assets/xrp.png","assets/eth.png","components/Balances/index.tsx","components/ErrorAlert/index.tsx","containers/Activity/index.tsx","components/AssetSelector/index.tsx","pages/Investment/SubscriptionActivity.tsx","pages/Investment/RedemptionActivity.tsx","types.ts","components/Info/index.tsx","pages/Investment/index.tsx","components/PriceFeed/index.tsx","pages/Loans/BorrowActivity.tsx","pages/Loans/RepayActivity.tsx","pages/Loans/index.tsx","pages/Exchange/TradeActivity.tsx","pages/Exchange/ProvideActivity.tsx","pages/Exchange/index.tsx","pages/Cash/index.tsx","pages/Crypto/DepositActivity.tsx","pages/Crypto/WithdrawActivity.tsx","pages/Crypto/index.tsx","pages/Collateral/DepositActivity.tsx","pages/Collateral/WithdrawActivity.tsx","pages/Collateral/index.tsx","pages/Profile/index.tsx","pages/Transactions/index.tsx","pages/Transfers/index.tsx","components/Pagination/index.tsx","pages/Auctions/index.tsx","assets/logo.png","pages/Register/index.tsx","pages/Monitor/index.tsx","pages/Contracts/index.tsx","pages/Login/index.tsx","containers/App/index.tsx","reportWebVitals.ts","index.tsx"],"names":["fetcher","library","abi","_ref","_len","arguments","length","args","Array","_key","arg1","arg2","params","slice","utils","isAddress","_contract$callStatic","address","method","Contract","getSigner","callStatic","apply","_toConsumableArray","concat","CONTRACTS","USD","UsdABI","AUCTIONEER","AuctioneerABI","LIQUIDATOR","LiquidatorABI","USD_MANAGER","Erc20AssetManagerABI","PRICE_FEED","PriceFeedABI","NATIVE_ASSET_MANAGER","NativeAssetManagerABI","REGISTRY","RegistryABI","PBT","PbtABI","RESERVE_POOL","ReservePoolABI","TELLER","TellerABI","TREASURY","TreasuryABI","VAULT_ENGINE","VaultEngineIssuerABI","INTERFACES","PROJECT_ID","process","DEFAULT_APP_METADATA","name","description","url","icons","DEFAULT_METHODS","RPC_URLS","RAD","BigNumber","from","RAY","WAD","formatOptions","thousandSeparated","optionalMantissa","trimMantissa","mantissa","injected","InjectedConnector","supportedChainIds","ledger","chainId","LedgerConnector","pollingInterval","WalletConnectConnector","Connector","title","body","icon","disabled","onClick","_React$useState","React","useState","_React$useState2","_slicedToArray","hover","setHover","_jsxs","Card","className","classnames","onMouseOver","onMouseOut","children","_jsx","Img","variant","src","Body","Title","ConnectWalletModal","_ref2","show","handleClose","activate","useWeb3React","connector","Modal","onHide","Header","closeButton","Row","xs","md","Col","metamaskIcon","ExternalSites","target","href","createContext","transactions","updateTransactions","transaction","scrollToTop","window","scrollTo","top","behavior","getAssetId","hash","getNativeTokenSymbol","asset","_CONTRACTS$","updateAsset","Balance","_CONTRACTS","_CONTRACTS$currentAss","_CONTRACTS2","_CONTRACTS2$currentAs","ctx","useContext","AssetContext","_useWeb3React","account","nativeTokenSymbol","currentAsset","_useSWR","useSWR","balance","data","mutateBalance","mutate","symbol","useEffect","undefined","on","removeAllListeners","numbro","parseFloat","formatEther","toFixed","format","Navbar","_CONTRACTS3","_CONTRACTS3$BRIDGE","setAuth","_useWeb3React2","active","deactivate","_useState","_useState2","mobileMenuVisibility","setMobileMenuVisibility","EventContext","history","useHistory","logo","alt","height","type","NavLink","activeClassName","to","BRIDGE","style","display","_Fragment","Button","localStorage","removeItem","push","assetIcons","SGB","FLR","XRP","ETH","Balances","newActiveKey","BalanceType","User","selected","setSelected","_React$useState3","_React$useState4","collateralRatio","setCollateralRatio","_React$useState5","setUnderlyingRatio","_React$useState7","_React$useState8","estimatedAPR","setEstimatedAPR","_React$useState9","_React$useState10","estimatedAPY","setEstimatedAPY","_React$useState11","_React$useState12","activeKey","setActiveKey","id","vault","mutateEthVault","_useSWR2","usdVault","mutateUsdVault","_useSWR4","systemCurrencyIssued","mutateSystemCurrencyIssued","mutateVaultPbtBalance","mutateErc20Balance","mutatePbtErc20Balance","_useSWR8","totalSupply","mutateTotalSupply","_useSWR9","lendingPoolDebt","mutateLendingPoolDebt","_useSWR10","lendingPoolEquity","mutateTotalEquity","_useSWR11","lendingPoolPrincipal","mutateTotalPrincipal","_useSWR12","lendingPoolSupply","mutateLendingPoolSupply","_useSWR13","debtAccumulator","mutateDebtAccumulator","_useSWR14","equityAccumulator","mutateEquityAccumulator","mutateAsset","toString","newUtilization","Number","div","newAPR","newAPY","Math","min","ceil","_asyncToGenerator","_regeneratorRuntime","mark","_callee","vaultEngine","_yield$vaultEngine$va","normDebt","collateral","underlying","initialEquity","_debtAccumulator","priceFeed","price","_debt","numerator","denominator","_collateralRatio","_underlyingRatio","wrap","_context","prev","next","vaults","sent","getPrice","mul","String","formatUnits","toNumber","t0","console","error","stop","updateActiveKey","key","Nav","fill","Item","Link","eventKey","System","Accordion","defaultActiveKey","normEquity","_objectSpread","sub","standbyAmount","add","ErrorAlert","_error$data","role","maxHeight","reason","message","Activity","activity","IMAGES","AssetSelector","onSelect","InvestActivity","underlyingAmount","equityAmount","onEquityAmountChange","underlyingRatio","onUnderlyingAmountChange","subscribe","loading","liquidationRatio","setShow","htmlFor","NumberFormat","placeholder","thousandSeparator","onChange","value","readOnly","RedemptionActivity","redeem","Info","location","useLocation","pathname","Lend","assetPrice","assetContext","setError","setLoading","_React$useState6","setActivity","setEquityAmount","setUnderlyingAmount","totalUnderlying","setTotalUnderlying","_React$useState13","_React$useState14","eventContext","mutateVault","adjustedPrice","deposit","_contract","contract","_amount","assetManager","erc20","result","allowance","tx","gasLimit","web3","toWei","maxFeePerGas","log","balanceOf","lt","parseUnits","approve","wait","withdraw","_ref3","_callee2","_contract$callStatic2","_contract2","_context2","event","totalAmount","delta","unformat","ActivityType","RedeemEquity","IssueEquity","amount","_ref4","_callee3","_vaultEngine$callStat","_context3","modifyEquity","_ref5","_callee4","_vaultEngine$callStat2","_vaultEngine$connect","_context4","connect","Helmet","PriceFeed","setPrice","setValue","_price","mutatePrice","runEffect","abs","BorrowActivity","collateralAmount","rate","borrow","maxSize","setMaxSize","onAmountChange","onCollateralAmountChange","VaultEngineABI","borrows","supply","e","max","RepayActivity","repay","collateralInUse","repayFullAmount","setRepayFullAmount","Form","Group","controlId","Check","label","checked","Loans","setCollateralAmount","totalCollateral","setTotalCollateral","setAmount","_React$useState15","_React$useState16","_React$useState17","_React$useState18","Borrow","Repay","divisor","treasury","withdrawSystemCurrency","modifyDebt","_debtAccumulator2","_collateralAmount","newDebtAmount","TradeActivity","assetIn","setAssetIn","_useState3","_useState4","assetOut","setAssetOut","_useState5","_useState6","amountIn","setAmountIn","_useState7","_useState8","amountOut","setAmountOut","_useState9","_useState10","quote","setQuote","_useState11","_useState12","_useState13","_useState14","reserveIn","setReserveIn","_useState15","_useState16","reserveOut","setReserveOut","_useState17","_useState18","pair","setPair","ROUTER","addresses","useMemo","LQO","factory","_address","Factory","getPair","Error","createPair","_pair","_reserves","Pair","getReserves","swap","_router$callStatic","router","token","path","deadline","Router","floor","Date","now","swapExactTokensForTokens","_amountIn","_amountOut","_quote","getAmountOut","Infinity","t1","_x","switchAssets","_callee5","_context5","ProvideActivity","amountADesired","setAmountADesired","amountBDesired","setAmountBDesired","reserves","setReserves","addLiquidity","usd","lqo","LqoABI","Exchange","Trade","Provide","TransactionType","Cash","user","auth","linkToken","setLinkToken","externalAccounts","setExternalAccounts","selectedAccount","setSelectedAccount","externalAccountsLoading","setExternalAccountsLoading","transactionInProgress","setTransactionInProgress","transactionsLoading","setTransactionsLoading","setBalance","setTransactions","_React$useState19","_React$useState20","_React$useState21","Deposit","_React$useState22","setType","copyToClipboard","navigator","clipboard","writeText","handleShow","txType","createExternalAccount","useCallback","accountId","axios","ledger_account_id","headers","createPlaidAccessToken","publicToken","_x2","getExternalAccounts","response","items","onSuccess","public_token","metadata","accounts","abrupt","alert","_x3","_x4","getTransactions","getAccountBalance","_callee6","_context6","balances","available_balance","_ref8","_callee7","_context7","external_account_id","withdrawal","_ref9","_callee8","_context8","removeExternalAccount","_ref10","_callee9","_context9","_x5","transfer","_ref11","_callee10","_context10","Withdrawal","getLinkToken","_callee11","_context11","link_token","getTransactionType","entries","ledger_entries","direction","_callee12","_context12","config","onExit","err","onEvent","eventName","_usePlaidLink","usePlaidLink","open","ready","as","Switch","Route","defaultValue","map","externalAccount","index","account_type","charAt","toUpperCase","account_details","account_number","replace","Alert","Footer","RegExp","test","size","scope","created_at","toLocaleString","status","routing_details","bank_name","DepositActivity","WithdrawActivity","Crypto","Withdraw","nativeAssetManager","_result","includes","nativeToken","_nativeToken$callStat","Collateral","Profile","setAddress","proposedAddress","setProposedAddress","onSubmit","RowToggle","decoratedOnClick","useAccordionButton","blockNumber","transactionHash","Transactions","Web3","givenProvider","rows","logs","element","idx","checksumAddress","toChecksumAddress","interface","parseLog","Fragment","Collapse","debtAmount","collAmount","spender","issuer","source","interestAmount","auctionId","lotSize","collId","holder","JSON","stringify","Transfers","storage","getItem","parse","transferData","setTransferData","verifiedIssuers","session","setSession","pairings","transferInProgress","setTransferInProgress","issuerAddress","setIssuerAddress","receiverAddress","setReceiverAddress","transactionID","setTransactionID","_React$useState23","_React$useState24","transferAmount","setTransferAmount","_React$useState25","_React$useState26","_React$useState27","stage","_React$useState28","transferStage","setTransferStage","_React$useState29","_React$useState30","showTransferModal","setShowTransferModal","_React$useState31","_React$useState32","transferModalBody","setTransferModalBody","_React$useState33","_React$useState34","xrpAddress","setXrpAddress","_React$useState35","_React$useState36","client","setClient","OutboundTransfer","InboundTransfer","_client","SignClient","init","projectId","topic","namespaces","_session","get","updatedSession","onSessionUpdate","setItem","_JSON$parse","_JSON$parse2","_transfer","reservation","pairing","methods","_yield$client$connect","approval","_session2","flat","requiredNamespaces","xrpl","events","chains","pairingTopic","uri","onSessionConnected","finish","_ref6","request","_ref7","sessionUpdate","openOutboundTransferModal","permitBridgeSpending","createTrustLine","openInboundTransferModal","prepareRedemption","requestXrplRedemptionTransaction","createIssuer","transactionObject","eth","sendTransaction","_ref12","verifyIssuance","_ref13","stateConnector","STATE_CONNECTOR","setFinality","_ref14","createRedemptionReservation","_ref15","_callee13","_context13","_ref16","_callee14","_context14","getStageReadableName","minHeight","QRCode","Label","Control","Text","Container","minLength","maxLength","PaginationComponent","isPageNumberOutOfRange","itemsCount","itemsPerPage","currentPage","setCurrentPage","_ref$alwaysShown","alwaysShown","pagesCount","isPaginationShown","isCurrentPageFirst","isCurrentPageLast","changePage","page","pageNumbers","_","pageNumber","isPageNumberFirst","isPageNumberLast","isCurrentPageWithinTwoPageNumbers","Pagination","onPageNumberClick","Ellipsis","Prev","Next","Auctions","metamaskLoading","setMetamaskLoading","bidPrice","setBidPrice","bidLot","setBidLot","lot","setLot","maxPrice","setMaxPrice","auctions","setAuctions","totalAuctions","setTotalAuctions","_useState19","auctionsPerPage","_useState21","_useState22","lastAuctionId","firstAuctionId","auctioneer","_totalAuctions","_auctions","auction","_nextHighestBidder","highestBid","currentPrice","nextHighestBidder","bids","calculatePrice","onChangeBidPrice","onChangeBidLot","onChangeMaxPrice","onChangeLot","placeBid","parseEther","buyNow","_auctioneer$callStati","buyItNow","finalizeSale","Auction","_auction$startTime","_auction$highestBid","_auction$highestBid2","assetId","startTime","debt","startPrice","owner","beneficiary","isOver","Register","props","setName","email","setEmail","password","setPassword","register","legal_name","Login","width","Monitor","users","setUsers","positions","setPositions","_users","getVaultList","_positions","_iterator","_step","_yield$vaultEngine$as","_numerator","_denominator","liquidationEligible","_createForOfIteratorHelper","s","n","done","assets","gt","equity","f","liquidate","liquidator","liquidateVault","liquidationEligiblePositions","filter","nonEligiblePositions","Contracts","contracts","setContracts","fetched","setFetched","objectZip","keys","values","reduce","others","_defineProperty","responses","_contracts","Object","Promise","all","t2","_contracts$contract","_contracts$contract2","login","LoginCallback","code","_response$data","accessToken","idToken","expiresIn","expiresAt","_error$response","URLSearchParams","search","access_token","id_token","expires_in","setSeconds","getSeconds","Accept","Authorization","App","_CONTRACTS2$PRICE_FEE","_CONTRACTS3$PRICE_FEE","showConnectorModal","setShowConnectorModal","setUser","mobileDevice","setMobileDevice","setAssetPrice","_useLocalStorageState","useLocalStorageState","_useLocalStorageState2","displayInfoAlert","setDisplayInfoAlert","setAsset","newTxs","userAgent","HelmetProvider","ConnectorModal","Provider","Assets","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Logger","setLogLevel","levels","ERROR","ReactDOM","render","StrictMode","Web3ReactProvider","getLibrary","provider","Web3Provider","document","getElementById"],"mappings":"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","file":"static/js/main.f056ccc8.chunk.js","sourcesContent":["import { Contract, utils } from \"ethers\";\n\nconst fetcher = (library: any, abi?: any) => (...args: any) => {\n  const [arg1, arg2, ...params] = args\n\n  // A Contract\n  if (utils.isAddress(arg1)) {\n    const address = arg1\n    const method = arg2\n    const contract = new Contract(address, abi, library.getSigner())\n    return contract.callStatic[method](...params)\n  }\n\n  // An EVM call using provider\n  const method = arg1\n  return (library as any)[method](arg2, ...params)\n}\n\nexport default fetcher;","import { BigNumber } from \"ethers\";\nimport UsdABI from \"@trustline/probity/artifacts/contracts/probity/tokens/Usd.sol/USD.json\";\nimport AuctioneerABI from \"@trustline/probity/artifacts/contracts/probity/Auctioneer.sol/Auctioneer.json\";\n// import BridgeABI from \"@trustline-inc/solaris/artifacts/contracts/Bridge.sol/Bridge.json\";\nimport LiquidatorABI from \"@trustline/probity/artifacts/contracts/probity/Liquidator.sol/Liquidator.json\";\nimport PriceFeedABI from \"@trustline/probity/artifacts/contracts/probity/PriceFeed.sol/PriceFeed.json\";\nimport NativeAssetManagerABI from \"@trustline/probity/artifacts/contracts/probity/assets/NativeAssetManager.sol/NativeAssetManager.json\";\nimport Erc20AssetManagerABI from \"@trustline/probity/artifacts/contracts/probity/assets/ERC20AssetManager.sol/ERC20AssetManager.json\";\nimport RegistryABI from \"@trustline/probity/artifacts/contracts/probity/Registry.sol/Registry.json\";\nimport ReservePoolABI from \"@trustline/probity/artifacts/contracts/probity/ReservePool.sol/ReservePool.json\";\n// import StateConnectorABI from \"@trustline-inc/solaris/artifacts/contracts/test/StateConnector.sol/StateConnector.json\"\nimport PbtABI from \"@trustline/probity/artifacts/contracts/probity/tokens/Pbt.sol/PBT.json\";\nimport TellerABI from \"@trustline/probity/artifacts/contracts/probity/Teller.sol/Teller.json\";\nimport TreasuryABI from \"@trustline/probity/artifacts/contracts/probity/Treasury.sol/Treasury.json\";\n// import VaultEngineABI from \"@trustline/probity/artifacts/contracts/probity/VaultEngine.sol/VaultEngine.json\";\nimport VaultEngineIssuerABI from \"@trustline/probity/artifacts/contracts/probity/VaultEngineIssuer.sol/VaultEngineIssuer.json\";\n// import VaultEngineLimitedABI from \"@trustline/probity/artifacts/contracts/probity/VaultEngineLimited.sol/VaultEngineLimited.json\";\n// import VaultEngineRestrictedABI from \"@trustline/probity/artifacts/contracts/probity/VaultEngineRestricted.sol/VaultEngineRestricted.json\";\n\n/**\n * Contract addresses\n */\nexport const CONTRACTS: { [key: number]: any } = {\n  // Hardhat localhost network\n  31337: {\n    USD: {\n      address: \"0x0613CbEE4A032787C10C6c1291Cb63CE38ab6302\",\n      abi: UsdABI.abi\n    },\n    AUCTIONEER: {\n      address: \"0xF97ed339602e436e3Bf730699b1069Dc6890fA20\",\n      abi: AuctioneerABI.abi\n    },\n    // NOTE: BRIDGE is deployed from https://github.com/trustline-inc/solaris-sdk\n    // BRIDGE: {\n    //   address: \"\",\n    //   abi: BridgeABI.abi\n    // },\n    LIQUIDATOR: {\n      address: \"0x1A5D7a3d0c4c6B732F02901658A042BC30F5B508\",\n      abi: LiquidatorABI.abi\n    },\n    USD_MANAGER: {\n      address: \"0x73065D57a43fcc564c8dAEBF5a3e32Df84ED8d33\",\n      abi: Erc20AssetManagerABI.abi\n    },\n    PRICE_FEED: {\n      address: \"0xF513b895ed6846F190C7a67cF50dE0a47377f7Ba\",\n      abi: PriceFeedABI.abi\n    },\n    NATIVE_ASSET_MANAGER: {\n      address: \"0xB7c83BfdF41a4B01Be1E1cb0b4b9EcBfA1f6e79A\",\n      abi: NativeAssetManagerABI.abi\n    },\n    REGISTRY: {\n      address: \"0x385b9709490a251C8657A8e7484A71735F49Ce30\",\n      abi: RegistryABI.abi\n    },\n    PBT: {\n      address: \"0x8dD4842bD10A7adb018Eb6D6f41d41f909951e75\",\n      abi: PbtABI.abi\n    },\n    RESERVE_POOL: {\n      address: \"0xa1a4b102F2A28bD9651ad4d1BC3a6d1C249987b2\",\n      abi: ReservePoolABI.abi\n    },\n    TELLER: {\n      address: \"0x37F92DAe5888a147f9ecD072c06F17B4AA618d04\",\n      abi: TellerABI.abi\n    },\n    TREASURY: {\n      address: \"0xBbd69afC0ceF918cAe9096f7f362Eb33d0Fe7195\",\n      abi: TreasuryABI.abi\n    },\n    VAULT_ENGINE: {\n      address: \"0x23f02A4F5119201D31a90ED071eE5680e9780A55\",\n      abi: VaultEngineIssuerABI.abi\n    },\n    INTERFACES: {\n      \"0x0613CbEE4A032787C10C6c1291Cb63CE38ab6302\": UsdABI,\n      \"0xF97ed339602e436e3Bf730699b1069Dc6890fA20\": AuctioneerABI,\n      \"0x1A5D7a3d0c4c6B732F02901658A042BC30F5B508\": LiquidatorABI,\n      \"0xF513b895ed6846F190C7a67cF50dE0a47377f7Ba\": PriceFeedABI,\n      \"0xB7c83BfdF41a4B01Be1E1cb0b4b9EcBfA1f6e79A\": NativeAssetManagerABI,\n      \"0x73065D57a43fcc564c8dAEBF5a3e32Df84ED8d33\": Erc20AssetManagerABI,\n      \"0x385b9709490a251C8657A8e7484A71735F49Ce30\": RegistryABI,\n      \"0x8dD4842bD10A7adb018Eb6D6f41d41f909951e75\": PbtABI,\n      \"0xa1a4b102F2A28bD9651ad4d1BC3a6d1C249987b2\": ReservePoolABI,\n      \"0x37F92DAe5888a147f9ecD072c06F17B4AA618d04\": TellerABI,\n      \"0xBbd69afC0ceF918cAe9096f7f362Eb33d0Fe7195\": TreasuryABI,\n      \"0x23f02A4F5119201D31a90ED071eE5680e9780A55\": VaultEngineIssuerABI\n    }\n  },\n  // XRP Ledger Sidechain Devnet\n  1440001: {\n    USD: {\n      address: \"0xbfa5ff89e20D4b9f75d1C5126e80CfFC2ceC2831\",\n      abi: UsdABI.abi\n    },\n    AUCTIONEER: {\n      address: \"0x8060Ec526B71bb5AB10eF28Af1824797F7f615A8\",\n      abi: AuctioneerABI.abi\n    },\n    // NOTE: BRIDGE is deployed from https://github.com/trustline-inc/solaris-sdk\n    // BRIDGE: {\n    //   address: \"\",\n    //   abi: BridgeABI.abi\n    // },\n    LIQUIDATOR: {\n      address: \"0x2AD8e37297Fd5781BCe1144392E79a6D3706E516\",\n      abi: LiquidatorABI.abi\n    },\n    USD_MANAGER: {\n      address: \"0x7133c78E6A4070Bca396751F44E675eaFD379a83\",\n      abi: Erc20AssetManagerABI.abi\n    },\n    PRICE_FEED: {\n      address: \"0xB161d50e02C36e6F91B71fB28dDaC442f3368440\",\n      abi: PriceFeedABI.abi\n    },\n    NATIVE_ASSET_MANAGER: {\n      address: \"0x7b199D048310F4144f7466Ea81006A7804c3A8BD\",\n      abi: NativeAssetManagerABI.abi\n    },\n    REGISTRY: {\n      address: \"0x01e0cb9E05c98A1baff3AFeF80237C7074353F03\",\n      abi: RegistryABI.abi\n    },\n    PBT: {\n      address: \"0x482e8BEf8235ff6333B671A78e94d6576C4B2CFf\",\n      abi: PbtABI.abi\n    },\n    RESERVE_POOL: {\n      address: \"0x65C992E29f2CA49bA3cfFf76D2e56DF545C3dE38\",\n      abi: ReservePoolABI.abi\n    },\n    TELLER: {\n      address: \"0x578C3CCd7b0b2a9c4070B5eAc4de3F101812E0bf\",\n      abi: TellerABI.abi\n    },\n    TREASURY: {\n      address: \"0xa444B86fed3986B0b5B5cFEB202f4d52804b1887\",\n      abi: TreasuryABI.abi\n    },\n    VAULT_ENGINE: {\n      address: \"0x5cbDbC5Cc725103D890B7cC1a22eB6DCe3D9a57C\",\n      abi: VaultEngineIssuerABI.abi\n    },\n    INTERFACES: {\n      \"0xbfa5ff89e20D4b9f75d1C5126e80CfFC2ceC2831\": UsdABI,\n      \"0x8060Ec526B71bb5AB10eF28Af1824797F7f615A8\": AuctioneerABI,\n      \"0x2AD8e37297Fd5781BCe1144392E79a6D3706E516\": LiquidatorABI,\n      \"0xB161d50e02C36e6F91B71fB28dDaC442f3368440\": PriceFeedABI,\n      \"0x7b199D048310F4144f7466Ea81006A7804c3A8BD\": NativeAssetManagerABI,\n      \"0x7133c78E6A4070Bca396751F44E675eaFD379a83\": Erc20AssetManagerABI,\n      \"0x01e0cb9E05c98A1baff3AFeF80237C7074353F03\": RegistryABI,\n      \"0x482e8BEf8235ff6333B671A78e94d6576C4B2CFf\": PbtABI,\n      \"0x65C992E29f2CA49bA3cfFf76D2e56DF545C3dE38\": ReservePoolABI,\n      \"0x578C3CCd7b0b2a9c4070B5eAc4de3F101812E0bf\": TellerABI,\n      \"0xa444B86fed3986B0b5B5cFEB202f4d52804b1887\": TreasuryABI,\n      \"0x5cbDbC5Cc725103D890B7cC1a22eB6DCe3D9a57C\": VaultEngineIssuerABI\n    }\n  },\n  // Flare localhost network\n  4294967295: {\n    USD: {\n      address: \"0xbfa5ff89e20D4b9f75d1C5126e80CfFC2ceC2831\",\n      abi: UsdABI.abi\n    },\n    AUCTIONEER: {\n      address: \"0x8060Ec526B71bb5AB10eF28Af1824797F7f615A8\",\n      abi: AuctioneerABI.abi\n    },\n    // NOTE: BRIDGE is deployed from https://github.com/trustline-inc/solaris-sdk\n    // BRIDGE: {\n    //   address: \"\",\n    //   abi: BridgeABI.abi\n    // },\n    LIQUIDATOR: {\n      address: \"0x2AD8e37297Fd5781BCe1144392E79a6D3706E516\",\n      abi: LiquidatorABI.abi\n    },\n    USD_MANAGER: {\n      address: \"0x7133c78E6A4070Bca396751F44E675eaFD379a83\",\n      abi: Erc20AssetManagerABI.abi\n    },\n    PRICE_FEED: {\n      address: \"0xB161d50e02C36e6F91B71fB28dDaC442f3368440\",\n      abi: PriceFeedABI.abi\n    },\n    NATIVE_ASSET_MANAGER: {\n      address: \"0x7b199D048310F4144f7466Ea81006A7804c3A8BD\",\n      abi: NativeAssetManagerABI.abi\n    },\n    REGISTRY: {\n      address: \"0x01e0cb9E05c98A1baff3AFeF80237C7074353F03\",\n      abi: RegistryABI.abi\n    },\n    PBT: {\n      address: \"0x482e8BEf8235ff6333B671A78e94d6576C4B2CFf\",\n      abi: PbtABI.abi\n    },\n    RESERVE_POOL: {\n      address: \"0x65C992E29f2CA49bA3cfFf76D2e56DF545C3dE38\",\n      abi: ReservePoolABI.abi\n    },\n    TELLER: {\n      address: \"0x578C3CCd7b0b2a9c4070B5eAc4de3F101812E0bf\",\n      abi: TellerABI.abi\n    },\n    TREASURY: {\n      address: \"0xa444B86fed3986B0b5B5cFEB202f4d52804b1887\",\n      abi: TreasuryABI.abi\n    },\n    VAULT_ENGINE: {\n      address: \"0x5cbDbC5Cc725103D890B7cC1a22eB6DCe3D9a57C\",\n      abi: VaultEngineIssuerABI.abi\n    },\n    INTERFACES: {\n      \"0xbfa5ff89e20D4b9f75d1C5126e80CfFC2ceC2831\": UsdABI,\n      \"0x8060Ec526B71bb5AB10eF28Af1824797F7f615A8\": AuctioneerABI,\n      \"0x2AD8e37297Fd5781BCe1144392E79a6D3706E516\": LiquidatorABI,\n      \"0xB161d50e02C36e6F91B71fB28dDaC442f3368440\": PriceFeedABI,\n      \"0x7b199D048310F4144f7466Ea81006A7804c3A8BD\": NativeAssetManagerABI,\n      \"0x7133c78E6A4070Bca396751F44E675eaFD379a83\": Erc20AssetManagerABI,\n      \"0x01e0cb9E05c98A1baff3AFeF80237C7074353F03\": RegistryABI,\n      \"0x482e8BEf8235ff6333B671A78e94d6576C4B2CFf\": PbtABI,\n      \"0x65C992E29f2CA49bA3cfFf76D2e56DF545C3dE38\": ReservePoolABI,\n      \"0x578C3CCd7b0b2a9c4070B5eAc4de3F101812E0bf\": TellerABI,\n      \"0xa444B86fed3986B0b5B5cFEB202f4d52804b1887\": TreasuryABI,\n      \"0x5cbDbC5Cc725103D890B7cC1a22eB6DCe3D9a57C\": VaultEngineIssuerABI\n    }\n  },\n  // Coston network\n  16: {\n    USD: {\n      address: \"0x3cd70e240095368a10973dfc70b324439aD9038A\",\n      abi: UsdABI.abi\n    },\n    AUCTIONEER: {\n      address: \"0x3DeDD9ce4C2398d92a477Ef65D41165B6cb02fcD\",\n      abi: AuctioneerABI.abi\n    },\n    // NOTE: BRIDGE is deployed from https://github.com/trustline-inc/solaris-sdk\n    // BRIDGE: {\n    //   address: \"0xd95331455De63df32B3881420aAAdea506128b62\",\n    //   abi: BridgeABI.abi\n    // },\n    LIQUIDATOR: {\n      address: \"0xCfb4669806EC451e7AB7Cb5173947770f986EE37\",\n      abi: LiquidatorABI.abi\n    },\n    USD_MANAGER: {\n      address: \"0xD719B8f9a11e4b9E51F8bEeE92D5bfbc366b5Fcb\",\n      abi: Erc20AssetManagerABI.abi\n    },\n    PRICE_FEED: {\n      address: \"0xd98dDBAa05F6690E09B45F24c66102CE73fE5DF0\",\n      abi: PriceFeedABI.abi\n    },\n    NATIVE_ASSET_MANAGER: {\n      address: \"0x6c90857e495099CbA67059f59A61ccaC943b6AA3\",\n      abi: NativeAssetManagerABI.abi\n    },\n    REGISTRY: {\n      address: \"0x90c7C75F559aF137069A73db55296886e8120244\",\n      abi: RegistryABI.abi\n    },\n    PBT: {\n      address: \"0x6779d8B78879161419A009F9e1448201FfA72eAc\",\n      abi: PbtABI.abi\n    },\n    RESERVE_POOL: {\n      address: \"0x588eFA59567b7eb25edF7A043dC907bDCCE025De\",\n      abi: ReservePoolABI.abi\n    },\n    TELLER: {\n      address: \"0x176375a099793fFF44e50ed15DAc623A1301aD48\",\n      abi: TellerABI.abi\n    },\n    TREASURY: {\n      address: \"0x690F9d18dD9708eF83968684703861745Ea1095B\",\n      abi: TreasuryABI.abi\n    },\n    VAULT_ENGINE: {\n      address: \"0xAB592f6945B63AF46B26617D12a164311bD4ED9C\",\n      abi: VaultEngineIssuerABI.abi\n    },\n    INTERFACES: {\n      \"0x3cd70e240095368a10973dfc70b324439aD9038A\": UsdABI,\n      \"0x3DeDD9ce4C2398d92a477Ef65D41165B6cb02fcD\": AuctioneerABI,\n      \"0xCfb4669806EC451e7AB7Cb5173947770f986EE37\": LiquidatorABI,\n      \"0xd98dDBAa05F6690E09B45F24c66102CE73fE5DF0\": PriceFeedABI,\n      \"0x6c90857e495099CbA67059f59A61ccaC943b6AA3\": NativeAssetManagerABI,\n      \"0xD719B8f9a11e4b9E51F8bEeE92D5bfbc366b5Fcb\": Erc20AssetManagerABI,\n      \"0x90c7C75F559aF137069A73db55296886e8120244\": RegistryABI,\n      \"0x6779d8B78879161419A009F9e1448201FfA72eAc\": PbtABI,\n      \"0x588eFA59567b7eb25edF7A043dC907bDCCE025De\": ReservePoolABI,\n      \"0x176375a099793fFF44e50ed15DAc623A1301aD48\": TellerABI,\n      \"0x690F9d18dD9708eF83968684703861745Ea1095B\": TreasuryABI,\n      \"0xAB592f6945B63AF46B26617D12a164311bD4ED9C\": VaultEngineIssuerABI\n    }\n  },\n  // Songbird network\n  19: {\n    USD: {\n      address: \"0xc6e7DF5E7b4f2A278906862b61205850344D4e7d\",\n      abi: UsdABI.abi\n    },\n    AUCTIONEER: {\n      address: \"0xa09dAB87b5dD723458d76ceC090E9224c80Be3a7\",\n      abi: AuctioneerABI.abi\n    },\n    // // NOTE: BRIDGE is deployed from https://github.com/trustline-inc/solaris-sdk\n    // BRIDGE: {\n    //   address: \"\",\n    //   abi: BridgeABI.abi\n    // },\n    LIQUIDATOR: {\n      address: \"0xAb935B158336723448C676071B28717c2B135ffd\",\n      abi: LiquidatorABI.abi\n    },\n    USD_MANAGER: {\n      address: \"0xE1F322df0660470d1f8af66412FE631700a5eC95\",\n      abi: Erc20AssetManagerABI.abi\n    },\n    PRICE_FEED: {\n      address: \"0x0EdF1C1BaE930B74f80371128239Ab5f584aADF1\",\n      abi: PriceFeedABI.abi\n    },\n    NATIVE_ASSET_MANAGER: {\n      address: \"0x1aDF9d1AF441d4489ea2C6b9a7e944B1A59b0e98\",\n      abi: NativeAssetManagerABI.abi\n    },\n    REGISTRY: {\n      address: \"0x72b96dF84644e9F5bC91228C52cA24D74aC04558\",\n      abi: RegistryABI.abi\n    },\n    PBT: {\n      address: \"0x7f2cF5bC5065BCaDF7713d11de41D9e0523D574e\",\n      abi: PbtABI.abi\n    },\n    RESERVE_POOL: {\n      address: \"0xe2F72317D5F14Cc6d4b23019088768D456697fd6\",\n      abi: ReservePoolABI.abi\n    },\n    TELLER: {\n      address: \"0x1c86117F477D4C84e5954A85f3F1c787b67f1a31\",\n      abi: TellerABI.abi\n    },\n    TREASURY: {\n      address: \"0x60b1d01AC1036906Eca859e6b55ca1bf9cAB92EF\",\n      abi: TreasuryABI.abi\n    },\n    VAULT_ENGINE: {\n      address: \"0x776C09f1640175f509c743C451Bb513ee13fF67A\",\n      abi: VaultEngineIssuerABI.abi\n    },\n    INTERFACES: {\n      \"0xc6e7DF5E7b4f2A278906862b61205850344D4e7d\": UsdABI,\n      \"\t0xa09dAB87b5dD723458d76ceC090E9224c80Be3a7\": AuctioneerABI,\n      \"0xAb935B158336723448C676071B28717c2B135ffd\": LiquidatorABI,\n      \"0x0EdF1C1BaE930B74f80371128239Ab5f584aADF1\": PriceFeedABI,\n      \"0x1aDF9d1AF441d4489ea2C6b9a7e944B1A59b0e98\": NativeAssetManagerABI,\n      \"0xE1F322df0660470d1f8af66412FE631700a5eC95\": Erc20AssetManagerABI,\n      \"0xbF8A3CA285C7ccbACbC0c8666348f432060794Aa\": RegistryABI,\n      \"0x2d552d09c96A4c3d57924A636038CcceC2DF2c5e\": PbtABI,\n      \"0x72b96dF84644e9F5bC91228C52cA24D74aC04558\": ReservePoolABI,\n      \"0x1c86117F477D4C84e5954A85f3F1c787b67f1a31\": TellerABI,\n      \"0x60b1d01AC1036906Eca859e6b55ca1bf9cAB92EF\": TreasuryABI,\n      \"0x776C09f1640175f509c743C451Bb513ee13fF67A\": VaultEngineIssuerABI\n    }\n  },\n  // Flare network\n  14: {\n    USD: {\n      address: \"0x2De05d67bf2D03045684a48Ba269A09c51F53A6f\",\n      abi: UsdABI.abi\n    },\n    AUCTIONEER: {\n      address: \"0xa09dAB87b5dD723458d76ceC090E9224c80Be3a7\",\n      abi: AuctioneerABI.abi\n    },\n    // // NOTE: BRIDGE is deployed from https://github.com/trustline-inc/solaris-sdk\n    // BRIDGE: {\n    //   address: \"\",\n    //   abi: BridgeABI.abi\n    // },\n    LIQUIDATOR: {\n      address: \"0xAb935B158336723448C676071B28717c2B135ffd\",\n      abi: LiquidatorABI.abi\n    },\n    USD_MANAGER: {\n      address: \"0x8f40D140307D20954a77a390BBfF31269561cC45\",\n      abi: Erc20AssetManagerABI.abi\n    },\n    PRICE_FEED: {\n      address: \"0x6F1D557192f959339AfDF798F5Dba16c73C2A863\",\n      abi: PriceFeedABI.abi\n    },\n    NATIVE_ASSET_MANAGER: {\n      address: \"0x3de0107eF69a5164B0e79daE9793B7C08f877aDb\",\n      abi: NativeAssetManagerABI.abi\n    },\n    REGISTRY: {\n      address: \"0xbF8A3CA285C7ccbACbC0c8666348f432060794Aa\",\n      abi: RegistryABI.abi\n    },\n    PBT: {\n      address: \"0x2d552d09c96A4c3d57924A636038CcceC2DF2c5e\",\n      abi: PbtABI.abi\n    },\n    RESERVE_POOL: {\n      address: \"0x6E4e94D9f9D36F1C4C9695fDA80cc9B5Ba16A3c5\",\n      abi: ReservePoolABI.abi\n    },\n    TELLER: {\n      address: \"0xDBB461218eD84D712c2d57519c6672eF5F1529E9\",\n      abi: TellerABI.abi\n    },\n    TREASURY: {\n      address: \"0xF8b3093D277E5C8315CEFdB774d48d8665c28Bb8\",\n      abi: TreasuryABI.abi\n    },\n    VAULT_ENGINE: {\n      address: \"0x29e42438a60EC8F5aacC51f826a0BB07F32507bb\",\n      abi: VaultEngineIssuerABI.abi\n    },\n    INTERFACES: {\n      \"0x2De05d67bf2D03045684a48Ba269A09c51F53A6f\": UsdABI,\n      \"0xa09dAB87b5dD723458d76ceC090E9224c80Be3a7\": AuctioneerABI,\n      \"0xAb935B158336723448C676071B28717c2B135ffd\": LiquidatorABI,\n      \"0x6F1D557192f959339AfDF798F5Dba16c73C2A863\": PriceFeedABI,\n      \"0x3de0107eF69a5164B0e79daE9793B7C08f877aDb\": NativeAssetManagerABI,\n      \"0x8f40D140307D20954a77a390BBfF31269561cC45\": Erc20AssetManagerABI,\n      \"0xbF8A3CA285C7ccbACbC0c8666348f432060794Aa\": RegistryABI,\n      \"0x2d552d09c96A4c3d57924A636038CcceC2DF2c5e\": PbtABI,\n      \"0x6E4e94D9f9D36F1C4C9695fDA80cc9B5Ba16A3c5\": ReservePoolABI,\n      \"0xDBB461218eD84D712c2d57519c6672eF5F1529E9\": TellerABI,\n      \"0xF8b3093D277E5C8315CEFdB774d48d8665c28Bb8\": TreasuryABI,\n      \"0x29e42438a60EC8F5aacC51f826a0BB07F32507bb\": VaultEngineIssuerABI\n    }\n  }\n}\n\n// WalletConnect\nexport const PROJECT_ID = process.env.REACT_APP_WC_PROJECT_ID\nexport const DEFAULT_APP_METADATA = {\n  name: \"Probity\",\n  description: \"Probity is a fully-collateralized lending protocol\",\n  url: \"https://probity.finance/\",\n  icons: [\"https://probity.finance/probity-logo.png\"],\n};\nexport const DEFAULT_LOGGER = \"debug\"\nexport const DEFAULT_RELAY_PROVIDER = \"wss://relay.walletconnect.com\";\nexport const DEFAULT_METHODS = [\"createTrustLine\"];\n\n// RPC URLs and polling interval\ninterface IDictionary<TValue> {\n  [id: string]: TValue;\n}\nexport const POLLING_INTERVAL = 5000;\nexport const RPC_URLS: IDictionary<string> = {\n  31337: \"http://127.0.0.1:8545/\",\n  16: process.env.NODE_ENV === \"production\" ? \"https://coston.trustline.co\" : \"http://127.0.0.1:9650/ext/bc/C/rpc\",\n  19: \"https://songbird.towolabs.com/rpc\",\n  4294967295: \"http://localhost:9650/ext/bc/C/rpc\"\n};\n\n// Other constants\nexport const RAD = BigNumber.from(\"1000000000000000000000000000000000000000000000\");\nexport const RAY = BigNumber.from(\"1000000000000000000000000000\");\nexport const WAD = BigNumber.from(\"1000000000000000000\");\nexport const VERSION = process.env.REACT_APP_VERSION\n\n// NumbroJS\nexport const formatOptions = {\n  thousandSeparated: true,\n  optionalMantissa: true,\n  trimMantissa: false,\n  mantissa: 2\n}","import { InjectedConnector } from '@web3-react/injected-connector'\nimport { LedgerConnector } from '@web3-react/ledger-connector'\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\nimport { RPC_URLS, POLLING_INTERVAL } from './constants'\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [\n    31337,      // Hardhat\n    14,         // Flare\n    16,         // Coston\n    19,         // Songbird\n    1440001,    // XRP Ledger\n    4294967295, // Localhost (Flare)\n  ],\n})\n\nexport const ledger = {\n  connect: (chainId: number) => new LedgerConnector({\n    chainId,\n    url: RPC_URLS[chainId],\n    pollingInterval: POLLING_INTERVAL\n  })\n};\n\nexport const walletconnect = new WalletConnectConnector({})","export default __webpack_public_path__ + \"static/media/metamask.17050ef6.png\";","import React from 'react'\nimport classnames from \"classnames\"\nimport { Card, Col, Modal, Row } from 'react-bootstrap'\nimport { injected, ledger } from \"../../connectors\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport ledgerIcon from \"../../assets/ledger.png\"\nimport metamaskIcon from \"../../assets/metamask.png\"\nimport \"./index.css\"\n\ntype Props = {\n  show: boolean,\n  handleClose: () => void\n}\n\nfunction Connector({ title, body, icon, disabled, onClick }: any) {\n  const [hover, setHover] = React.useState(false)\n\n  const onMouseOver = () => {\n    setHover(true)\n  }\n\n  const onMouseOut = () => {\n    setHover(false)\n  }\n\n  const _onClick = () => {\n    if (!disabled) onClick()\n  }\n\n  return (\n    <Card\n      className={classnames([(hover && !disabled) ? \"hover border-primary\" : \"\", disabled && \"disabled\"])}\n      onMouseOver={onMouseOver}\n      onMouseOut={onMouseOut}\n      onClick={_onClick}\n    >\n      <Card.Img variant=\"top\" src={icon} className=\"p-5 card-image\" />\n      <Card.Body className=\"text-center\">\n        <Card.Title>{title}</Card.Title>\n        <Card.Body><small className=\"text-muted\">{body}</small></Card.Body>\n      </Card.Body>\n    </Card>\n  )\n}\n\nfunction ConnectWalletModal({ show, handleClose }: Props) {\n  const { activate } = useWeb3React<Web3Provider>();\n\n  const onClick = (connector: any) => {\n    activate(connector);\n    handleClose()\n  };\n\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>Choose a Connector</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Row xs={1} md={2} className=\"g-4\">\n          <Col>\n            <Connector title={\"Metamask\"} body={\"Browser extension/app\"} onClick={() => onClick(injected)} icon={metamaskIcon} />\n          </Col>\n          <Col>\n            <Connector title={\"Ledger\"} body={\"Coming soon\"} onClick={() => onClick(ledger.connect(19))} icon={ledgerIcon} disabled />\n          </Col>\n        </Row>\n      </Modal.Body>\n    </Modal>\n  )\n}\n\nexport default ConnectWalletModal","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/probity.6527586c.png\";","import React from \"react\";\nimport \"./index.css\";\n\nfunction ExternalSites() {\n  return (\n    <div className=\"social-links container-fluid text-center mt-5 mb-3\">\n      <a target=\"blank\" href=\"https://docs.trustline.co/probity/\" className=\"mx-2\">\n        <i className=\"fa fa-book\"></i>\n      </a>\n      <a target=\"blank\" href=\"https://trustline.zendesk.com/hc/\" className=\"mx-2\">\n        <i className=\"fas fa-question-circle\" />\n      </a>\n    </div>\n  );\n}\nexport default ExternalSites;\n","import React from \"react\"\n\nexport default React.createContext({\n  transactions: [],\n  updateTransactions: (transaction: any): void => {}\n});","import { useEffect, useState } from \"react\";\n\n/* Scroll */\n\nexport const scrollToTop = () =>\n  window.scrollTo({\n    top: 0,\n    behavior: \"smooth\"\n  });\n\nconst throttle = (callback: any, sleepTime: any) => {\n  let time = Date.now();\n\n  return (...args: any) => {\n    if (time + sleepTime - Date.now() < 0) {\n      callback(...args);\n      time = Date.now();\n    }\n  };\n};\n\nexport const useScroll = () => {\n  const [scrollPosition, setScrollPosition] = useState(window.scrollY);\n\n  const updateScrollPosition = throttle(() => {\n    setScrollPosition(window.scrollY);\n  }, 100);\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", updateScrollPosition);\n    return () => window.removeEventListener(\"scroll\", updateScrollPosition);\n  }, [updateScrollPosition]);\n\n  return scrollPosition;\n};\n\n/* Assets */\n\nexport const getAssetId = (hash: string) => {\n  const id = {\n    \"0x277471588dc8a8a12d9c788cbcd8dc8e5bfbd906b1c63d46bdba8d080442bf82\": \"FLR\",\n    \"0x34f0798059a90d875925407ee1d283ae0650aaa8085071fb70c8c42029adc150\": \"SGB\",\n    \"0x3394a96ae3d76664d9a21dad8ede426bf36b6faee767e047d6aaf44653934fa9\": \"CFLR\",\n    \"0xaeb724422620edb430dcaf22aeeff2e9388a578c02754cd08699652fb76035c7\": \"XRP\",\n    \"0xaaaebeba3810b1e6b70781f14b2d72c1cb89c0b2b320c43bb67ff79f562f5ff4\": \"ETH\",\n    \"0xc4ae21aac0c6549d71dd96035b7e0bdb6c79ebdba8891b666115bc976d16a29e\": \"USD\",\n  }[hash]\n  return id || \"UNRECOGNIZED_ID\"\n}\n\nexport const getNativeTokenSymbol = (chainId: number) => {\n  switch (chainId) {\n    // Goerli\n    case 5:\n      return \"ETH\"\n    // Flare\n    case 14:\n      return \"FLR\"\n    // Coston\n    case 16:\n      return process.env.REACT_APP_NATIVE_TOKEN || \"CFLR\"\n    // Songbird\n    case 19:\n      return \"SGB\"\n    // XRP Ledger EVM Sidechain\n    case 31337:\n      return \"XRP\"\n    default:\n      return process.env.REACT_APP_NATIVE_TOKEN || \"XRP\"\n  }\n}\n","import React from \"react\"\nimport { CONTRACTS } from \"../constants\"\n\nexport default React.createContext({\n  asset: \"USD\",\n  address: CONTRACTS[4294967295].USD?.address,\n  updateAsset: (asset: string): void => {}\n});","import React, { useState, useContext } from \"react\";\nimport { Button } from \"react-bootstrap\"\nimport useSWR from \"swr\";\nimport numbro from \"numbro\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { injected } from \"../../connectors\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { utils } from \"ethers\";\nimport fetcher from \"../../fetcher\";\nimport logo from \"../../assets/probity.png\";\nimport ExternalSites from \"../ExternalSites\";\nimport EventContext from \"../../contexts/TransactionContext\"\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport { CONTRACTS } from \"../../constants\"\nimport AssetContext from \"../../contexts/AssetContext\"\nimport \"./index.css\";\n\nfunction Balance() {\n  const ctx = React.useContext(AssetContext)\n  const { account, library, chainId } = useWeb3React<Web3Provider>();\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = ctx.asset || nativeTokenSymbol\n\n  const args = currentAsset === nativeTokenSymbol ? (\n    [\"getBalance\", account, \"latest\"]\n  ) : (\n    [CONTRACTS[chainId!]?.[currentAsset]?.address, 'balanceOf', account]\n  )\n\n  const { data: balance, mutate: mutateBalance } = useSWR(args, {\n    fetcher: fetcher(library, CONTRACTS[chainId!]?.[currentAsset]?.abi)\n  })\n\n  const symbol = currentAsset\n\n  React.useEffect(() => {\n    if (library !== undefined) {\n      library.on(\"block\", () => {\n        mutateBalance(undefined, true); // Update balance\n      });\n\n      return () => {\n        library.removeAllListeners(\"block\");\n      };\n    }\n  });\n\n  if (!balance) return null;\n  return (\n    <div className=\"your-balance my-3 mt-5 shadow-sm p-3 rounded text-truncate\">\n      <h3>Balance</h3>\n      <span className=\"tokens\">\n        {numbro(parseFloat(utils.formatEther(balance)).toFixed(4)).format({ thousandSeparated: true, mantissa: 4, optionalMantissa: true })} {symbol}\n      </span>\n    </div>\n  );\n}\n\nfunction Navbar({ setAuth }: any) {\n  const { chainId, active, activate, deactivate } = useWeb3React<Web3Provider>();\n  const [mobileMenuVisibility, setMobileMenuVisibility] = useState(false);\n  const ctx = useContext(EventContext)\n  const history = useHistory();\n  // const { account } = useWeb3React<Web3Provider>();\n  // const [loading, setLoading] = useState(false)\n\n  // Copy state temporarily to flip it. Seems to work better than just \n  // inverting the boolean in the onClick itself\n  const toggleMobileMenuVisibility = () => {\n    const currentVisibility = mobileMenuVisibility;\n    setMobileMenuVisibility(!currentVisibility);\n  }\n\n  const logout = () => {\n    localStorage.removeItem(\"probity__auth\");\n    setAuth()\n    history.push(\"/login\")\n  }\n\n  // const handleFaucetRequest = async (event: React.MouseEvent) => {\n  //   event.preventDefault()\n  //   return window.open(\"https://faucet.towolabs.com/\", \"_blank\")?.focus()\n  // }\n\n  // const whitelist = async (event: React.MouseEvent) => {\n  //   setLoading(true)\n  //   try {\n  //     const result = await axios({\n  //       url: \"https://faucet.trustline.io/whitelist\",\n  //       params: {\n  //         user: account\n  //       }\n  //     })\n  //     if (result?.data?.reason) throw Error(result.data.reason)\n  //     alert(\"Success!\")\n  //   } catch (error) {\n  //     console.error(error)\n  //     alert(\"An error occurred. Please report to the Probity Telegram group.\")\n  //   }\n  //   setLoading(false)\n  // }\n\n  const onClick = () => {\n    activate(injected);\n  };\n\n  return (\n    <nav className=\"d-flex flex-column align-items-end h-100\">\n      <div className=\"container-fluid mb-3\">\n        <div className=\"d-flex flex-row justify-content-between\">\n          <div className=\"mb-3\">\n            <a className=\"navbar-brand\" href=\"#/\">\n              <img src={logo} alt=\"Probity\" height=\"50\" className=\"logo\" />\n            </a>\n          </div>\n          <div className=\"navbar navbar-expand-lg navbar-light\">\n            <button\n              className=\"navbar-toggler\"\n              type=\"button\"\n              onClick={toggleMobileMenuVisibility}\n            >\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n          </div>\n        </div>\n\n        <Balance />\n\n        <ul className={`navbar-nav my-4 ${mobileMenuVisibility ? 'mobile-visible' : ''}`}>\n          <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/profile\">\n              <i className=\"fa-solid fa-house-chimney-user\"></i> Profile\n            </NavLink>\n          </li>\n          {/* Hide for now */}\n          {/* <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/cash-management\">\n              <i className=\"fa-solid fa-money-bill\"></i> Cash\n            </NavLink>\n          </li> */}\n          <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/crypto-management\">\n              <i className=\"fa-solid fa-wallet\"></i> Crypto\n            </NavLink>\n          </li>\n          {/* Hide exchange for now */}\n          {/* <li className=\"nav-item my-1\">\n            <NavLink\n              className=\"nav-link\"\n              activeClassName=\"active\"\n              to=\"/exchange\"\n            >\n              <i className=\"fa-solid fa-exchange\"></i> Exchange\n            </NavLink>\n          </li> */}\n          <li className=\"nav-item my-1\">\n            <NavLink\n              className=\"nav-link\"\n              activeClassName=\"active\"\n              to=\"/investment\"\n            >\n              <i className=\"fa-solid fa-circle-dollar-to-slot\"></i> Lend\n            </NavLink>\n          </li>\n          <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/collateral-management\">\n              <i className=\"fa-solid fa-vault\"></i> Collateral\n            </NavLink>\n          </li>\n          <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/loans\">\n              <i className=\"fas fa-scale-unbalanced\"></i> Borrow\n            </NavLink>\n          </li>\n          {\n            // Only show Transfers tab if the bridge contract is in the env.\n            CONTRACTS[chainId!]?.BRIDGE?.address && (\n              <li className=\"nav-item my-1\">\n                <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/transfers\">\n                  <i className=\"fas fa-paper-plane\" /> Transfer\n                </NavLink>\n              </li>\n            )\n          }\n          <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/monitor\">\n              <i className=\"fa-solid fa-heart-pulse\"></i> Monitor\n            </NavLink>\n          </li>\n          <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/auctions\">\n              <i className=\"fas fa-gavel\" /> Auctions\n            </NavLink>\n          </li>\n          <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/transactions\">\n              <i className=\"fa-solid fa-clock-rotate-left\"></i> Transactions {ctx.transactions.length > 0 && <span className=\"badge bg-light text-dark\">{ctx.transactions.length}</span>}\n            </NavLink>\n          </li>\n          <li className=\"nav-item my-1\">\n            <NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/contracts\">\n              <i className=\"fas fa-file-contract\" /> Contracts\n            </NavLink>\n          </li>\n        </ul>\n        <div className=\"spacer spacer-1\" />\n        <form className=\"row gx-3 gy-2 align-items-center\" style={{ display: \"block\" }}>\n          {chainId ? (\n            <div className=\"chain-info\">Chain ID: {chainId}</div>\n          ) : null}\n          {active ? (\n            <>\n              <div className=\"mt-2 connected\">\n                <i className=\"inline-block far fa-dot-circle text-success\" />\n                &nbsp;Connected\n              </div>\n              <div className=\"spacer spacer-1\" />\n              {/* {\n                chainId === 16 && (\n                  <>\n                    <Button\n                      variant=\"light\"\n                      onClick={handleFaucetRequest}\n                    >\n                      <span><i className=\"mr-2\" /> Use Faucet ({getNativeTokenSymbol(chainId!)})</span>\n                    </Button>\n                    <div className=\"spacer spacer-1\" />\n                  </>\n                )\n              } */}\n              {/*\n                <Button variant=\"light\" onClick={whitelist}>\n                  {loading ? (<i className=\"fa fa-spinner fa-spin\" />) : \"Whitelist Address\"}\n                </Button>\n                <div className=\"spacer spacer-1\" />\n              */}\n              <Button variant=\"light\" onClick={deactivate}>Disconnect</Button>\n              {process.env.REACT_APP_REQUIRE_AUTH === \"true\" && <Button variant=\"primary\" onClick={logout}>Logout</Button>}\n            </>\n          ): (\n            <div className=\"mt-2\">\n              <button\n                className=\"btn btn-light text-success\"\n                type=\"button\"\n                onClick={onClick}\n              >\n                <i className=\"fas fa-wallet mr-2\" /> Connect to a wallet\n              </button>\n            </div>\n          )}\n        </form>\n      </div>\n      <div className=\"mt-auto container-fluid text-center\">\n        <ExternalSites />\n        <small>{process.env.REACT_APP_VERSION}</small>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/sgb.01e9888f.png\";","export default __webpack_public_path__ + \"static/media/usd.380b50c5.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/eth.23ca4a5f.png\";","import React from 'react';\nimport { Accordion } from 'react-bootstrap'\nimport useSWR from 'swr';\nimport numbro from \"numbro\"\nimport { Nav } from 'react-bootstrap'\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Contract, utils } from \"ethers\";\nimport { getNativeTokenSymbol } from \"../../utils\"\nimport fetcher from \"../../fetcher\";\nimport { RAY, CONTRACTS } from \"../../constants\";\nimport './index.css';\nimport FLR from \"../../assets/flr.jpg\"\nimport SGB from \"../../assets/sgb.png\"\nimport USD from \"../../assets/usd.png\"\nimport XRP from \"../../assets/xrp.png\"\nimport ETH from \"../../assets/eth.png\"\nimport AssetContext from \"../../contexts/AssetContext\"\nimport { formatOptions } from \"../../constants\";\n\nconst assetIcons: { [key: string]: string } = {\n  SGB,\n  FLR,\n  USD,\n  XRP,\n  ETH\n}\n\nfunction Balances({ newActiveKey }: { newActiveKey: string }) {\n  const ctx = React.useContext(AssetContext)\n  enum BalanceType { User, System }\n  const [selected, setSelected] = React.useState(BalanceType.User)\n  const { account, library, chainId } = useWeb3React<Web3Provider>()\n  const [collateralRatio, setCollateralRatio] = React.useState(\"\")\n  const [, setUnderlyingRatio] = React.useState(\"\")\n  const [estimatedAPR, setEstimatedAPR] = React.useState(\"\")\n  const [estimatedAPY, setEstimatedAPY] = React.useState(\"\")\n  const [activeKey, setActiveKey] = React.useState(\"\")\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = ctx.asset || nativeTokenSymbol\n  const USD = CONTRACTS[chainId!].USD\n  const PBT = CONTRACTS[chainId!].PBT\n  const PRICE_FEED = CONTRACTS[chainId!].PRICE_FEED\n  const VAULT_ENGINE = CONTRACTS[chainId!].VAULT_ENGINE\n\n  // Read data from deployed contracts\n  const { data: vault, mutate: mutateEthVault } = useSWR([VAULT_ENGINE.address, \"vaults\", utils.id(currentAsset), account], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { data: usdVault, mutate: mutateUsdVault } = useSWR([VAULT_ENGINE.address, \"vaults\", utils.id(\"USD\"), account], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { mutate: mutateBalance } = useSWR([VAULT_ENGINE.address, 'systemCurrency', account], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { data: systemCurrencyIssued, mutate: mutateSystemCurrencyIssued } = useSWR([VAULT_ENGINE.address, 'systemCurrencyIssued'], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { mutate: mutateVaultPbtBalance } = useSWR([VAULT_ENGINE.address, 'pbt', account], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { mutate: mutateErc20Balance } = useSWR([USD.address, 'balanceOf', account], {\n    fetcher: fetcher(library, USD.abi),\n  })\n  const { mutate: mutatePbtErc20Balance } = useSWR([PBT.address, 'balanceOf', account], {\n    fetcher: fetcher(library, PBT.abi),\n  })\n  const { data: totalSupply, mutate: mutateTotalSupply } = useSWR([USD.address, 'totalSupply'], {\n    fetcher: fetcher(library, USD.abi),\n  })\n  const { data: lendingPoolDebt, mutate: mutateLendingPoolDebt } = useSWR([VAULT_ENGINE.address, 'lendingPoolDebt'], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { data: lendingPoolEquity, mutate: mutateTotalEquity } = useSWR([VAULT_ENGINE.address, 'lendingPoolEquity'], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { data: lendingPoolPrincipal, mutate: mutateTotalPrincipal } = useSWR([VAULT_ENGINE.address, 'lendingPoolPrincipal'], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { data: lendingPoolSupply, mutate: mutateLendingPoolSupply } = useSWR([VAULT_ENGINE.address, 'lendingPoolSupply'], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { data: debtAccumulator, mutate: mutateDebtAccumulator } = useSWR([VAULT_ENGINE.address, 'debtAccumulator'], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { data: equityAccumulator, mutate: mutateEquityAccumulator } = useSWR([VAULT_ENGINE.address, 'equityAccumulator'], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n  const { mutate: mutateAsset } = useSWR([VAULT_ENGINE.address, 'assets', utils.id(currentAsset)], {\n    fetcher: fetcher(library, VAULT_ENGINE.abi),\n  })\n\n  /**\n   * Toggle accordion based on navbar selection\n   */\n  React.useEffect(() => {\n    setActiveKey(newActiveKey)\n  }, [newActiveKey])\n\n  React.useEffect(() => {\n    if (library) {\n      library.on(\"block\", () => {\n        mutateEthVault(undefined, true);\n        mutateUsdVault(undefined, true);\n        mutateBalance(undefined, true);\n        mutateTotalSupply(undefined, true);\n        mutateLendingPoolDebt(undefined, true);\n        mutateErc20Balance(undefined, true);\n        mutatePbtErc20Balance(undefined, true);\n        mutateTotalEquity(undefined, true);\n        mutateVaultPbtBalance(undefined, true);\n        mutateAsset(undefined, true);\n        mutateEquityAccumulator(undefined, true);\n        mutateDebtAccumulator(undefined, true);\n        mutateTotalPrincipal(undefined, true);\n        mutateLendingPoolSupply(undefined, true);\n        mutateSystemCurrencyIssued(undefined, true);\n      });\n\n      return () => {\n        library.removeAllListeners(\"block\");\n      };\n    }\n  }, [library, mutateEthVault, mutateUsdVault, mutateBalance, mutateTotalSupply, mutateLendingPoolDebt, mutateLendingPoolSupply, mutateAsset, mutateDebtAccumulator, mutateEquityAccumulator, mutateErc20Balance, mutatePbtErc20Balance, mutateSystemCurrencyIssued, mutateTotalEquity, mutateTotalPrincipal, mutateVaultPbtBalance]);\n\n  /**\n   * Update the current APR\n   */\n  React.useEffect(() => {\n    if (lendingPoolPrincipal && lendingPoolSupply) {\n      if (lendingPoolSupply.toString() === \"0\" || lendingPoolPrincipal.toString() === \"0\") {\n        setEstimatedAPR(\"0%\")\n        setEstimatedAPY(\"0%\")\n        return\n      }\n      const borrows = Number(utils.formatEther(lendingPoolPrincipal.div(RAY)));\n      const supply = Number(utils.formatEther(lendingPoolSupply.div(RAY)));\n      const newUtilization = (borrows / supply);\n      const newAPR = ((1 / (100 * (1 - newUtilization)))) * 100\n      const newAPY = newAPR * newUtilization\n      // Round to the neartet 0.25%\n      setEstimatedAPR(`${Math.min((Math.ceil(newAPR / 0.25) * 0.25), 100).toFixed(2)}%`)\n      setEstimatedAPY(`${newAPY.toFixed(2)}%`)\n    }\n  }, [lendingPoolSupply, lendingPoolPrincipal, usdVault])\n\n  /**\n   * Updates the collateral and underlying ratios\n   */\n  React.useEffect(() => {\n    if (library) {\n      (async () => {\n        try {\n          const vaultEngine = new Contract(VAULT_ENGINE.address, VAULT_ENGINE.abi, library.getSigner())\n          const {\n            normDebt,\n            collateral,\n            underlying,\n            initialEquity\n          } = await vaultEngine.vaults(utils.id(nativeTokenSymbol), account);\n          const debtAccumulator = await vaultEngine.debtAccumulator();\n          const priceFeed = new Contract(PRICE_FEED.address, PRICE_FEED.abi, library.getSigner())\n          const price = await priceFeed.callStatic.getPrice(utils.id(nativeTokenSymbol))\n  \n          const _debt = normDebt.mul(debtAccumulator)\n\n          // Get collateral ratio\n          if (_debt.toString() !== \"0\") {\n            const numerator = Number(utils.formatEther(String(collateral))) * Number(utils.formatUnits(String(price), 27))\n            const denominator = Number(utils.formatUnits(String(_debt), 45))\n            const _collateralRatio = `${((numerator / denominator) * 100).toFixed(4)}%`\n            setCollateralRatio(_collateralRatio)\n          } else {\n            setCollateralRatio(\"0%\")\n          }\n\n          // Get underlying ratio\n          if (initialEquity.toString() !== \"0\") {\n            const _underlyingRatio = `${underlying.mul(price).div(RAY).mul(100).mul(RAY).div(initialEquity).toNumber().toFixed(4)}%`\n            setUnderlyingRatio(_underlyingRatio)\n          } else {\n            setUnderlyingRatio(\"0%\")\n          }\n        } catch (error) {\n          console.error(error)\n        }\n      })()\n    }\n  }, [account, library, chainId, lendingPoolDebt, lendingPoolEquity, currentAsset, vault, usdVault, PRICE_FEED.abi, PRICE_FEED.address, VAULT_ENGINE.abi, VAULT_ENGINE.address, debtAccumulator, nativeTokenSymbol])\n\n  const updateActiveKey = (key: string) => {\n    if (activeKey === key) setActiveKey(\"\")\n    else setActiveKey(key)\n  }\n\n  if (!usdVault && !vault) return null;\n\n  return (\n    <>\n      <header>\n        <h1>Balances</h1>\n      </header>\n      <div className=\"border rounded p-4 shadow-sm bg-white\">\n\n        <Nav\n          fill\n          variant=\"pills\"\n          activeKey={selected}\n        >\n          <Nav.Item>\n            <Nav.Link eventKey={BalanceType.User} onClick={() => setSelected(BalanceType.User)}>User</Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey={BalanceType.System} onClick={() => setSelected(BalanceType.System)}>System</Nav.Link>\n          </Nav.Item>\n        </Nav>\n\n        <hr />\n\n        {\n          selected === BalanceType.User ? (\n            <>\n              <Accordion defaultActiveKey=\"\" activeKey={activeKey}>\n                <Accordion.Item eventKey=\"equity\">\n                  <Accordion.Header onClick={() => updateActiveKey(\"equity\")}>\n                    <h5>Debt Investment</h5>\n                  </Accordion.Header>\n                  <Accordion.Body>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Current Value</h6>\n                      <span className=\"text-truncate\">\n                        {usdVault && equityAccumulator ? numbro(utils.formatEther(usdVault.normEquity.mul(equityAccumulator).div(RAY))).format({ ...formatOptions }) : null} USD\n                      </span>\n                    </div>\n                    {/* <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Underlying</h6>\n                      <span className=\"text-truncate\">\n                        {numbro(utils.formatEther(usdVault.underlying)).format(formatOptions)} {ctx.asset}\n                      </span>\n                    </div>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Supply Ratio</h6>\n                      <span className=\"text-truncate\">{underlyingRatio ? underlyingRatio : \"0%\"}</span>\n                    </div> */}\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Current APY</h6>\n                      <span className=\"text-truncate\">{estimatedAPY}</span>\n                    </div>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Interest Earned</h6>\n                      <span className=\"text-truncate\">\n                        {usdVault && equityAccumulator ? numbro(utils.formatUnits(usdVault.normEquity.mul(equityAccumulator).sub(usdVault.initialEquity), 45)).format(formatOptions) : null} USD\n                      </span>\n                    </div>\n                  </Accordion.Body>\n                </Accordion.Item>\n                <Accordion.Item eventKey=\"assets\">\n                  <Accordion.Header onClick={() => updateActiveKey(\"assets\")}>\n                    <h5>Collateral</h5>\n                  </Accordion.Header>\n                  <Accordion.Body>\n                    <div className=\"dropdown w-100\">\n                      <button className=\"text-dark btn btn-outline-light border dropdown-toggle w-100 d-flex justify-content-between align-items-center\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                        <div className=\"w-100 p-1 d-flex justify-content-between\">\n                          <h4 className=\"d-flex align-items-center mb-0\">{ctx.asset}</h4>\n                          <img src={assetIcons[ctx.asset || \"FLR\"]} className=\"rounded-circle border\" alt={ctx.asset} height=\"50\" />\n                        </div>\n                      </button>\n                      <ul className=\"dropdown-menu w-100 p-0\">\n                        <li className=\"dropdown-item border\" onClick={() => ctx.updateAsset(\"USD\")}>\n                          <div className=\"asset py-2 d-flex justify-content-between\">\n                            <h4 className=\"d-flex align-items-center mb-0\">USD</h4>\n                            <img src={assetIcons[\"USD\"]} className=\"rounded-circle border\" alt=\"USD\" height=\"50\" />\n                          </div>\n                        </li>\n                        <li className=\"dropdown-item border\" onClick={() => ctx.updateAsset(nativeTokenSymbol)}>\n                          <div className=\"asset py-2 d-flex justify-content-between\">\n                            <h4 className=\"d-flex align-items-center mb-0\">{nativeTokenSymbol}</h4>\n                            <img src={assetIcons[nativeTokenSymbol]} className=\"rounded-circle border\" alt={nativeTokenSymbol} height=\"50\" />\n                          </div>\n                        </li>\n                      </ul>\n                    </div>\n                    <div className=\"px-3 py-2 text-truncate\">\n                      <div className=\"my-2 d-flex justify-content-between\">\n                        <h6>Available</h6>\n                        <span className=\"text-truncate\">\n                          {numbro(utils.formatEther(vault.standbyAmount)).format(formatOptions)} {ctx.asset}\n                        </span>\n                      </div>\n                      <div className=\"my-2 d-flex justify-content-between\">\n                        <h6>Pledged</h6>\n                        <span className=\"text-truncate\">\n                          {numbro(utils.formatEther(vault.underlying.add(vault.collateral))).format(formatOptions)} {ctx.asset}\n                        </span>\n                      </div>\n                      <div className=\"my-2 d-flex justify-content-between\">\n                        <h6>Total</h6>\n                        <span className=\"text-truncate\">{numbro(utils.formatEther(vault.standbyAmount.add(vault.underlying).add(vault.collateral))).format(formatOptions)} {ctx.asset}</span>\n                      </div>\n                    </div>\n                  </Accordion.Body>\n                </Accordion.Item>\n                <Accordion.Item eventKey=\"debt\">\n                  <Accordion.Header onClick={() => updateActiveKey(\"debt\")}>\n                    <h5>Credit Facility</h5>\n                  </Accordion.Header>\n                  <Accordion.Body>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Balance</h6>\n                      <span className=\"text-truncate\">\n                        {vault && debtAccumulator ? numbro(utils.formatEther(vault.normDebt.mul(debtAccumulator).div(RAY))).format(formatOptions) : null} USD\n                      </span>\n                    </div>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Collateral</h6>\n                      <span className=\"text-truncate\">\n                        {vault && numbro(utils.formatEther(vault.collateral)).format(formatOptions)} {nativeTokenSymbol}\n                      </span>\n                    </div>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Collateral Ratio</h6>\n                      <span className=\"text-truncate\">{collateralRatio}</span>\n                    </div>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Current APR</h6>\n                      <span className=\"text-truncate\">{estimatedAPR}</span>\n                    </div>\n                  </Accordion.Body>\n                </Accordion.Item>\n                {/* <Accordion.Item eventKey=\"currencies\">\n                  <Accordion.Header onClick={() => updateActiveKey(\"currencies\")}>\n                    <h5>Vault Funds</h5>\n                  </Accordion.Header>\n                  <Accordion.Body>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                      <h6>Vault USD</h6>\n                      <span className=\"text-truncate\">{balance ? numbro(utils.formatEther(balance.div(RAY))).format(formatOptions) : \"0\"} USD</span>\n                    </div>\n                  </Accordion.Body>\n                </Accordion.Item> */}\n                {/* <Accordion.Item eventKey=\"voting\">\n                  <Accordion.Header onClick={() => updateActiveKey(\"voting\")}>\n                    <h5>Voting Power</h5>\n                  </Accordion.Header>\n                  <Accordion.Body>\n                    <div className=\"my-2 d-flex justify-content-between\">\n                        <h6>Vault PBT</h6>\n                        <span className=\"text-truncate\">{vaultPbtBalance && usdVault ? numbro(utils.formatUnits(vaultPbtBalance, 45)).format({ ...formatOptions, mantissa: 8 }) : \"0\"} PBT</span>\n                      </div>\n                      <div className=\"my-2 d-flex justify-content-between\">\n                        <h6>ERC20 PBT</h6>\n                        <span className=\"text-truncate\">{pbtErc20Balance ? numbro(utils.formatEther(pbtErc20Balance)).format(formatOptions) : \"0\"} PBT</span>\n                      </div>\n                  </Accordion.Body>\n                </Accordion.Item> */}\n              </Accordion>\n            </>\n          ) : (\n            <>\n              <h5>USD Supply</h5>\n              <div className=\"my-2 d-flex justify-content-between\">\n                <h6>Linqto Issuance</h6>\n                <span className=\"text-truncate\">{systemCurrencyIssued ? numbro(utils.formatEther(systemCurrencyIssued.div(RAY).toString())).format(formatOptions) : null} USD</span>\n              </div>\n              <div className=\"my-2 d-flex justify-content-between\">\n                <h6>Probity Issuance</h6>\n                <span className=\"text-truncate\">{systemCurrencyIssued && totalSupply ? numbro(utils.formatEther(totalSupply.sub(systemCurrencyIssued.div(RAY)))).format(formatOptions) : null} USD</span>\n              </div>\n              <div className=\"my-2 mb-4 d-flex justify-content-between\">\n                <h6>Total Issuance</h6>\n                <span className=\"text-truncate\">{totalSupply ? numbro(utils.formatEther(totalSupply)).format(formatOptions) : null} USD</span>\n              </div>\n              <h5>Fund Information</h5>\n              <div className=\"my-2 d-flex justify-content-between\">\n                <h6>Total AUM</h6>\n                <span className=\"text-truncate\">{lendingPoolSupply ? numbro(utils.formatUnits((lendingPoolSupply.sub(lendingPoolPrincipal)).add((lendingPoolDebt.mul(debtAccumulator)).toString()), 45)).format(formatOptions) : null} USD</span>\n              </div>\n              <div className=\"my-2 d-flex justify-content-between\">\n                <h6>Debt Assets</h6>\n                <span className=\"text-truncate\">{lendingPoolDebt ? numbro(utils.formatEther(lendingPoolDebt.mul(debtAccumulator).div(RAY).toString())).format(formatOptions) : null} USD</span>\n              </div>\n              <div className=\"my-2 d-flex justify-content-between\">\n                <h6>Cash</h6>\n                <span className=\"text-truncate\">{lendingPoolSupply && lendingPoolPrincipal ? numbro(utils.formatUnits(lendingPoolSupply.sub(lendingPoolPrincipal).toString(), 45)).format(formatOptions) : null} USD</span>\n              </div>\n              <div className=\"my-2 d-flex justify-content-between\">\n                <h6>Utilization</h6>\n                <span className=\"text-truncate\">{lendingPoolEquity && lendingPoolDebt.toString() !== \"0\" ? numbro(utils.formatUnits(lendingPoolPrincipal.div(lendingPoolEquity).mul(100).toString(), 27)).format('0,0.0[000]') : \"0\"}%</span>\n              </div>\n            </>\n          )\n        }\n      </div>\n    </>\n  )\n}\n\nexport default Balances;","import React from 'react'\n\nfunction ErrorAlert({ error }: { error: any }) {\n  return (\n    error && (\n      <div className=\"alert alert-danger alert-dismissible fade show overflow-auto w-100\" role=\"alert\">\n        <div className=\"text-break\" style={{ maxHeight: 100 }}>{error.reason || error.data?.message || error.message}</div>\n        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n      </div>\n    )\n  )\n}\n\nexport default ErrorAlert","import React from 'react';\nimport ErrorAlert from \"../../components/ErrorAlert\";\nimport { Activity as ActivityType } from '../../types';\n\ntype Props = {\n  active: boolean;\n  activity: ActivityType|null;\n  error: any;\n}\n\nconst Activity: React.FunctionComponent<Props> = ({ active, activity, error, children }) => {\n  return (\n    <>\n      <ErrorAlert error={error} />\n      {\n        active && activity !== null && children\n      }\n      {\n        !active && (\n          <div className=\"py-5 text-center\">Please connect your wallet first.</div>\n        )\n      }\n      {\n        active && activity === null && (\n          <div className=\"py-5 text-center\">Please select an activity.</div>\n        )\n      }\n    </>\n  )\n}\n\nexport default Activity","import React from \"react\"\nimport { Modal } from \"react-bootstrap\"\nimport ETH from \"../../assets/eth.png\"\nimport FLR from \"../../assets/flr.jpg\"\nimport SGB from \"../../assets/sgb.png\"\nimport USD from \"../../assets/usd.png\"\nimport XRP from \"../../assets/xrp.png\"\nimport AssetContext from \"../../contexts/AssetContext\"\n\nconst IMAGES: { [key: string]: any } = {\n  \"FLR\": FLR,\n  \"SGB\": SGB,\n  \"CFLR\": FLR,\n  \"C2FLR\": FLR,\n  \"XRP\": XRP,\n  \"ETH\": ETH\n}\n\nexport default function AssetSelector({\n  nativeTokenSymbol,\n  show,\n  handleClose,\n  onSelect\n}: {\n  nativeTokenSymbol: string,\n  show: boolean,\n  handleClose: () => void,\n  onSelect: () => void\n}) {\n  const ctx = React.useContext(AssetContext)\n  // const currentAsset = ctx.asset || nativeTokenSymbol\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>Choose Asset</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"asset border rounded p-4 my-3 d-flex justify-content-between\" onClick={() => { ctx.updateAsset(\"USD\"); handleClose()} }>\n          <h4 className=\"d-flex align-items-center mb-0\">USD</h4>\n          <img src={USD} className=\"rounded-circle border\" alt=\"USD\" height=\"50\" />\n        </div>\n        <div className=\"asset border rounded p-4 my-3 d-flex justify-content-between\" onClick={() => { ctx.updateAsset(nativeTokenSymbol); handleClose()} }>\n          <h4 className=\"d-flex align-items-center mb-0\">{nativeTokenSymbol}</h4>\n          <img src={IMAGES[nativeTokenSymbol]} className=\"rounded-circle border\" alt={nativeTokenSymbol} height=\"50\" />\n        </div>\n      </Modal.Body>\n    </Modal>\n  )\n}","import React from \"react\"\nimport numbro from \"numbro\"\nimport NumberFormat from \"react-number-format\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport AssetSelector from \"../../components/AssetSelector\";\n\ninterface Props {\n  underlyingAmount: number;\n  equityAmount: number;\n  underlyingRatio: number;\n  onUnderlyingAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  onEquityAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  subscribe: () => void;\n  loading: boolean;\n  currentAsset: string;\n  liquidationRatio: string;\n}\n\nfunction InvestActivity({\n  underlyingAmount,\n  equityAmount,\n  underlyingRatio,\n  onUnderlyingAmountChange,\n  onEquityAmountChange,\n  subscribe,\n  loading,\n  currentAsset,\n  liquidationRatio\n}: Props) {\n  const { chainId } = useWeb3React<Web3Provider>()\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  // const handleShow = () => setShow(true);\n  const onSelect = () => setShow(false);\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  return (\n    <>\n      <AssetSelector nativeTokenSymbol={nativeTokenSymbol} show={show} onSelect={onSelect} handleClose={handleClose} />\n      <div className=\"row mb-4\">\n        {/* <div className=\"col-12\">\n          <p className=\"text-muted\">Your investment must actively maintain a mimumum {liquidationRatio} ratio to equity to avoid penalties.</p>\n        </div> */}\n        {/* <div className=\"col-12\">\n          <label htmlFor=\"collateralConversionInput\" className=\"form-label\">\n            Underlying<br/>\n            <small className=\"form-text text-muted\">\n              The amount of underlying asset to subscribe\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n              min=\"0.000000000000000000\"\n              className=\"form-control\"\n              id=\"collateralConversionInput\"\n              placeholder=\"0.000000000000000000\"\n              thousandSeparator={true}\n              onChange={onUnderlyingAmountChange}\n              value={underlyingAmount === 0 ? \"\" : numbro(underlyingAmount).format({ thousandSeparated: true })}\n            />\n            <button\n              onClick={handleShow}\n              className=\"btn btn-outline-secondary font-monospace\"\n              type=\"button\"\n            >\n              {currentAsset}\n            </button>\n          </div>\n        </div> */}\n      </div>\n      <div className=\"row mb-4\">\n        <div className=\"col-12\">\n          <label htmlFor=\"equityAmount\" className=\"form-label\">\n            Number of Shares<br/>\n            <small className=\"form-text text-muted\">\n              The amount of shares to purchase (minimum of 10k)\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n              min=\"10000\"\n              className=\"form-control\"\n              id=\"equityAmount\"\n              placeholder=\"10,000\"\n              thousandSeparator={true}\n              onChange={onEquityAmountChange}\n              value={equityAmount === 0 ? \"\" : numbro(equityAmount).format({ thousandSeparated: true })}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <label htmlFor=\"equityAmount\" className=\"form-label\">\n            Total Amount of Subscription<br/>\n            <small className=\"form-text text-muted\">\n              {numbro(equityAmount).format({ thousandSeparated: true })} shares × $1 per share\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n              readOnly\n              min=\"0.000000000000000000\"\n              className=\"form-control\"\n              id=\"equityAmount\"\n              placeholder=\"0.000000000000000000\"\n              thousandSeparator={true}\n              onChange={onEquityAmountChange}\n              value={equityAmount === 0 ? \"\" : numbro(equityAmount).format({ thousandSeparated: true })}\n            />\n            <span className=\"input-group-text font-monospace\">USD</span>\n          </div>\n        </div>\n      </div>\n      {/* <PriceFeed asset={currentAsset} amount={underlyingAmount} /> */}\n      {/* <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"h-100 d-flex flex-column align-items-center justify-content-center p-4 text-center\">\n            <div className=\"m-2\">\n              <span>Supply Ratio:</span>\n              <br />\n              <small className=\"text-muted\">(Value to Shares)</small>\n              <br />\n              {underlyingRatio ? `${(underlyingRatio * 100).toFixed(2)}%` : <small className=\"text-muted\">N/A</small>}\n            </div>\n          </div>\n        </div>\n      </div> */}\n      <div className=\"row\">\n        <div className=\"col-12 mt-4 d-grid\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-lg\"\n            onClick={subscribe}\n            disabled={(underlyingAmount === 0 && equityAmount === 0) || loading}\n          >\n            {loading ? <span className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default InvestActivity","import React from \"react\";\nimport numbro from \"numbro\"\nimport NumberFormat from \"react-number-format\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport AssetSelector from \"../../components/AssetSelector\";\n\ninterface Props {\n  underlyingAmount: number;\n  equityAmount: number;\n  underlyingRatio: number;\n  onUnderlyingAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  onEquityAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  redeem: () => void;\n  loading: boolean;\n  currentAsset: string;\n  liquidationRatio: string;\n}\n\nfunction RedemptionActivity({\n  underlyingAmount,\n  equityAmount,\n  underlyingRatio,\n  onUnderlyingAmountChange,\n  onEquityAmountChange,\n  redeem,\n  loading,\n  currentAsset,\n  liquidationRatio\n}: Props) {\n  const { chainId } = useWeb3React<Web3Provider>()\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  // const handleShow = () => setShow(true);\n  const onSelect = () => setShow(false)\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  return (\n    <>\n      <AssetSelector nativeTokenSymbol={nativeTokenSymbol} show={show} onSelect={onSelect} handleClose={handleClose} />\n      <div className=\"row mb-4\">\n        {/* <div className=\"col-12\">\n          <p className=\"text-muted\">Your investment must actively maintain a mimumum {liquidationRatio} ratio to equity to avoid penalties.</p>\n        </div> */}\n        {/* <div className=\"col-12\">\n          <label htmlFor=\"redemptionAmount\" className=\"form-label\">\n            Underlying<br/>\n            <small className=\"form-text text-muted\">\n              The amount of underlying asset to redeem\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n              min=\"0.000000000000000000\"\n              className=\"form-control\"\n              id=\"collateralConversionInput\"\n              placeholder=\"0.000000000000000000\"\n              thousandSeparator={true}\n              onChange={onUnderlyingAmountChange}\n              value={underlyingAmount === 0 ? \"\" : numbro(underlyingAmount).format({ thousandSeparated: true })}\n            />\n            <button\n              onClick={handleShow}\n              className=\"btn btn-outline-secondary font-monospace\"\n              type=\"button\"\n            >\n              {currentAsset}\n            </button>\n          </div>\n        </div> */}\n      </div>\n      <div className=\"row mb-4\">\n        <div className=\"col-12\">\n          <label htmlFor=\"equityAmount\" className=\"form-label\">\n            Amount<br/>\n            <small className=\"form-text text-muted\">\n              The amount funds of to redeem\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n              min=\"0.000000000000000000\"\n              className=\"form-control\"\n              id=\"equityAmount\"\n              placeholder=\"0.000000000000000000\"\n              thousandSeparator={true}\n              onChange={onEquityAmountChange}\n              value={equityAmount === 0 ? \"\" : numbro(equityAmount).format({ thousandSeparated: true })}\n            />\n            <span className=\"input-group-text font-monospace\">USD</span>\n          </div>\n        </div>\n      </div>\n      {/* <PriceFeed asset={currentAsset} amount={underlyingAmount} />\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"h-100 d-flex flex-column align-items-center justify-content-center p-4 text-center\">\n            <div className=\"m-2\">\n              <span>Supply Ratio:</span>\n              <br />\n              <small className=\"text-muted\">(Value to Shares)</small>\n              <br />\n              <small className=\"text-muted\">\n                {underlyingAmount ? (\n                  underlyingRatio ? `${(underlyingRatio * 100).toFixed(2)}%` : <small className=\"text-muted\">N/A</small>\n                ) : (\n                  <span>N/A</span>\n                )}\n              </small>\n            </div>\n          </div>\n        </div>\n      </div> */}\n      <div className=\"row\">\n        <div className=\"col-12 mt-4 d-grid\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-lg\"\n            onClick={redeem}\n            disabled={underlyingAmount === 0 || loading}\n          >\n            {loading ? <span className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default RedemptionActivity","export enum Activity {\n  // Auctions\n  Auction,\n\n  // Equity Management\n  IssueEquity,\n  RedeemEquity,\n  Collect,\n\n  // Loan Management\n  Borrow,\n  Repay,\n\n  // Currencies\n  IssueCurrency,\n  RedeemCurrency,\n\n  // Vault\n  Deposit,\n  Withdraw,\n\n  // Transfer\n  InboundTransfer,\n  OutboundTransfer,\n\n  // Auth\n  Login,\n\n  // Monitor\n  Monitor,\n\n  // Exchange\n  Trade,\n  Provide\n}","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nfunction Info() {\n  const location = useLocation();\n  return (\n    <>\n      <header>\n        <div>\n          {(location.pathname === \"/\" || location.pathname === \"/!\") && (\n            <>\n              <p>\n                Note that this application is running on the Coston testnet and\n                is a <strong>pre-release</strong> version. Do{\" \"}\n                <strong>not</strong> try to interact with this application by\n                using real funds.\n              </p>\n            </>\n          )}\n        </div>\n      </header>\n    </>\n  );\n}\n\nexport default Info;\n","import React from 'react';\nimport web3 from \"web3\";\nimport useSWR from 'swr';\nimport numbro from \"numbro\"\nimport { BigNumber } from 'ethers';\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport { Contract, utils } from \"ethers\";\nimport { Helmet } from \"react-helmet-async\";\nimport fetcher from \"../../fetcher\";\nimport Activity from \"../../containers/Activity\";\nimport InvestActivity from \"./SubscriptionActivity\";\nimport RedemptionActivity from \"./RedemptionActivity\";\nimport { Activity as ActivityType } from \"../../types\";\nimport { CONTRACTS, RAY, WAD } from '../../constants';\nimport Info from '../../components/Info';\nimport AssetContext from \"../../contexts/AssetContext\"\nimport EventContext from \"../../contexts/TransactionContext\"\n\nfunction Lend({ assetPrice }: { assetPrice: number }) {\n  const location = useLocation();\n  const assetContext = React.useContext(AssetContext)\n  const { account, active, library, chainId } = useWeb3React<Web3Provider>()\n  const [error, setError] = React.useState<any|null>(null);\n  const [loading, setLoading] = React.useState(false);\n  const [activity, setActivity] = React.useState<ActivityType|null>(null);\n  const [equityAmount, setEquityAmount] = React.useState(0);\n  // const [interestAmount, setInterestAmount] = React.useState(0);\n  const [, setUnderlyingAmount] = React.useState(0);\n  const [totalUnderlying, setTotalUnderlying] = React.useState(0);\n  const [underlyingRatio, setUnderlyingRatio] = React.useState(0);\n  const eventContext = React.useContext(EventContext)\n  const currentAsset = \"USD\"\n  assetContext.updateAsset(\"USD\")\n  // const [interestType, setInterestType] = React.useState(\"USD\")\n\n  const { data: vault, mutate: mutateVault } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'vaults', utils.id(currentAsset), account], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n\n  const { data: price } = useSWR([CONTRACTS[chainId!].PRICE_FEED.address, 'getPrice', utils.id(currentAsset)], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].PRICE_FEED.abi),\n  })\n\n  const { data: asset } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'assets', utils.id(currentAsset)], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n\n  let { data: equityAccumulator } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'equityAccumulator'], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n\n  let liquidationRatio = \"\";\n  if (price && asset?.adjustedPrice) {\n    // Get the liquidation ratio\n    const denominator = Number(String(utils.formatUnits(asset.adjustedPrice.mul(RAY).div(price), 27)))\n    liquidationRatio = String(1 / denominator)\n  } else {\n    liquidationRatio = `<Loading...>`\n  }\n\n  const deposit = async () => {\n    if (library && account) {\n      try {\n        const currentAsset = \"USD\"\n        let contract, args\n        let _amount = WAD.mul(equityAmount)\n\n        // ERC20 Token\n        const assetManager = CONTRACTS[chainId!][`${currentAsset}_MANAGER`]\n        contract = new Contract(assetManager.address, assetManager.abi, library.getSigner())\n\n        args = [\n          _amount,\n          {\n            gasLimit: web3.utils.toWei('400000', 'wei'),\n            maxFeePerGas: 25 * 1e9,\n          },\n        ]\n\n        // ERC20 allowance check\n        const erc20 = new Contract(CONTRACTS[chainId!].USD.address, CONTRACTS[chainId!].USD.abi, library.getSigner())\n        let result = await erc20.allowance(account, assetManager.address);\n        const allowance = result\n        console.log(\"Allowance:\", allowance.toString())\n        console.log(\"owner:\", account)\n        console.log(\"spender:\", assetManager.address)\n\n        // ERC20 balance check\n        result = await erc20.callStatic.balanceOf(account)\n        result = await erc20.balanceOf(account);\n        const balance = result\n        console.log(\"Balance:  \", BigNumber.from(balance).div(WAD).toString())\n\n        // ERC20 approve transaction\n        if (allowance.lt(_amount)) {\n          console.log(`Creating allowance of ${utils.parseUnits(_amount.toString(), 45)}`)\n          result = await erc20.callStatic.approve(\n            assetManager.address,\n            _amount,\n            {\n              gasLimit: web3.utils.toWei('400000', 'wei'),\n              maxFeePerGas: 25 * 1e9,\n            }\n          )\n          result = await erc20.approve(\n            assetManager.address,\n            _amount,\n            {\n              gasLimit: web3.utils.toWei('400000', 'wei'),\n              maxFeePerGas: 25 * 1e9,\n            }\n          );\n          const tx = await result.wait();\n          console.log(\"tx\", tx)\n        }\n\n        setLoading(true)\n\n        // Deposit asset\n        console.log(\"Depositing asset...\")\n        await contract.callStatic.deposit(...args)\n        result = await contract.deposit(...args);\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        mutateVault(undefined, true)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n    }\n  }\n\n  const withdraw = async () => {\n    if (library && account) {\n      try {\n        const currentAsset = \"USD\"\n        let contract, args\n        let _amount = WAD.mul(equityAmount)\n\n        // ERC20 Token\n        const assetManager = CONTRACTS[chainId!][`${currentAsset}_MANAGER`]\n        contract = new Contract(assetManager.address, assetManager.abi, library.getSigner())\n\n        args = [\n          _amount,\n          {\n            gasLimit: web3.utils.toWei('400000', 'wei'),\n            maxFeePerGas: 25 * 1e9,\n          },\n        ]\n\n        // ERC20 allowance check\n        const erc20 = new Contract(CONTRACTS[chainId!].USD.address, CONTRACTS[chainId!].USD.abi, library.getSigner())\n        let result = await erc20.allowance(account, assetManager.address);\n        const allowance = result\n        console.log(\"Allowance:\", allowance.toString())\n        console.log(\"owner:\", account)\n        console.log(\"spender:\", assetManager.address)\n\n        // ERC20 balance check\n        result = await erc20.callStatic.balanceOf(account)\n        result = await erc20.balanceOf(account);\n        const balance = result\n        console.log(\"Balance:  \", BigNumber.from(balance).div(WAD).toString())\n\n        // ERC20 approve transaction\n        if (allowance.lt(_amount)) {\n          console.log(\"Creating allowance...\")\n          result = await erc20.callStatic.approve(\n            assetManager.address,\n            _amount,\n            {\n              gasLimit: web3.utils.toWei('400000', 'wei'),\n              maxFeePerGas: 25 * 1e9,\n            }\n          )\n          result = await erc20.approve(\n            assetManager.address,\n            _amount,\n            {\n              gasLimit: web3.utils.toWei('400000', 'wei'),\n              maxFeePerGas: 25 * 1e9,\n            }\n          );\n          const tx = await result.wait();\n          console.log(\"tx\", tx)\n        }\n\n        setLoading(true)\n\n        // Withdrawing asset\n        console.log(\"Withdrawing asset...\")\n        await contract.callStatic.withdraw(...args)\n        result = await contract.withdraw(...args);\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        mutateVault(undefined, true)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n    }\n  }\n\n  /**\n   * @function onUnderlyingAmountChange\n   * @param event \n   * Updates state collateral and total collateral amounts\n   */\n  const onUnderlyingAmountChange = (event: any) => {\n    let totalAmount, delta;\n    if (!event.target.value) delta = 0\n    else delta = Number(numbro.unformat(event.target.value));\n    if (activity === ActivityType.RedeemEquity) totalAmount = Number(utils.formatEther(vault.underlying)) - Number(delta);\n    else totalAmount = Number(utils.formatEther(vault.underlying)) + Number(delta);\n    setTotalUnderlying(totalAmount);\n    setUnderlyingAmount(delta);\n  }\n\n  /**\n   * Dynamically calculate the underlying ratio\n   */\n  React.useEffect(() => {\n    if (vault) {\n      switch (activity) {\n        case ActivityType.IssueEquity:\n          setUnderlyingRatio((totalUnderlying * assetPrice) / (Number(utils.formatUnits(vault.initialEquity, 45)) + Number(equityAmount)));\n          break;\n        case ActivityType.RedeemEquity:\n          setUnderlyingRatio((totalUnderlying * assetPrice) / (Number(utils.formatUnits(vault.initialEquity, 45)) - Number(equityAmount)));\n          break;\n      }\n    }\n  }, [totalUnderlying, assetPrice, equityAmount, vault, activity]);\n\n  /**\n   * @function onEquityAmountChange\n   * @param event \n   */\n  const onEquityAmountChange = (event: any) => {\n    let amount\n    if (!event.target.value) amount = 0\n    else amount = Number(numbro.unformat(event.target.value))\n    setEquityAmount(amount);\n    if (equityAmount > 0) {\n      setUnderlyingRatio(\n        totalUnderlying / (Number(utils.formatEther(vault.initialEquity)) + Number(utils.formatEther(vault.normDebt)) + Number(equityAmount))\n      );\n    }\n  }\n\n  /**\n   * @function onInterestAmountChange\n   * @param event \n   */\n  // const onInterestAmountChange = (event: any) => {\n  //   let amount\n  //   if (!event.target.value) amount = 0\n  //   else amount = Number(numbro.unformat(event.target.value))\n  //   setInterestAmount(amount);\n  // }\n\n  // Set activity by the path\n  React.useEffect(() => {\n    if (location.pathname === \"/investment/subscribe\")  setActivity(ActivityType.IssueEquity);\n    if (location.pathname === \"/investment/redeem\") setActivity(ActivityType.RedeemEquity);\n  }, [location])\n\n  /**\n   * @function subscribe\n   */\n   const subscribe = async () => {\n    if (library && account) {\n      const vaultEngine = new Contract(CONTRACTS[chainId!].VAULT_ENGINE.address, CONTRACTS[chainId!].VAULT_ENGINE.abi, library.getSigner())\n      equityAccumulator = await vaultEngine.equityAccumulator();\n      setLoading(true)\n      await deposit()\n      try {\n        const args = [\n          utils.id(\"USD\"),\n          utils.parseUnits(String(equityAmount), 18),\n          utils.parseUnits(String(equityAmount), 45).div(equityAccumulator),\n          { gasLimit: web3.utils.toWei('400000', 'wei'), maxFeePerGas: 25 * 1e9 }\n        ]\n        await vaultEngine.callStatic.modifyEquity(...args)\n        const result = await vaultEngine.modifyEquity(...args);\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        mutateVault(undefined, true);\n        setEquityAmount(0)\n        setUnderlyingAmount(0)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n      setLoading(false)\n    }\n  }\n\n  /**\n   * @function redeem\n   */\n  const redeem = async () => {\n    if (library && account) {\n      const vaultEngine = new Contract(CONTRACTS[chainId!].VAULT_ENGINE.address, CONTRACTS[chainId!].VAULT_ENGINE.abi, library.getSigner())\n      equityAccumulator = await vaultEngine.equityAccumulator();\n      setLoading(true)\n\n      try {\n        const args = [\n          utils.id(\"USD\"),\n          utils.parseUnits(String(-equityAmount), 18),\n          utils.parseUnits(String(-equityAmount), 45).div(equityAccumulator),\n          { gasLimit: web3.utils.toWei('400000', 'wei'), maxFeePerGas: 25 * 1e9 }\n        ]\n        await vaultEngine.callStatic.modifyEquity(...args)\n        const result = await vaultEngine.connect(library.getSigner()).modifyEquity(...args);\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        mutateVault(undefined, true);\n        setEquityAmount(0)\n        setUnderlyingAmount(0)\n        await withdraw()\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n      setLoading(false)\n    }\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Probity | Private Credit Fund</title>\n      </Helmet>\n      <header>\n        <h1>Debt Investment</h1>\n        {active && <Info />}\n      </header>\n      <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n        <div className=\"col-md-12 col-lg-8 offset-lg-2\">\n          {/* Activity Navigation */}\n          <div>\n            <ul className=\"nav nav-pills nav-justified\">\n              <li className=\"nav-item\">\n                <NavLink\n                  className=\"nav-link\"\n                  activeClassName=\"active\"\n                  to={\"/investment/subscribe\"}\n                  onClick={() => { setActivity(ActivityType.IssueEquity); setUnderlyingAmount(0) }}\n                >\n                  Subscribe\n                </NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink\n                  className=\"nav-link\"\n                  activeClassName=\"active\"\n                  to={\"/investment/redeem\"}\n                  onClick={() => { setActivity(ActivityType.RedeemEquity); setUnderlyingAmount(0) }}\n                >\n                  Redeem\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n          <hr />\n          {/* Fund Management Activities */}\n          <Activity active={active} activity={activity} error={error}>\n            {\n              activity === ActivityType.IssueEquity && (\n                <InvestActivity\n                  // underlyingAmount={underlyingAmount}\n                  underlyingAmount={equityAmount} // Apex demo - for USD only\n                  equityAmount={equityAmount}\n                  underlyingRatio={underlyingRatio}\n                  subscribe={subscribe}\n                  loading={loading}\n                  onUnderlyingAmountChange={onUnderlyingAmountChange}\n                  onEquityAmountChange={onEquityAmountChange}\n                  currentAsset={currentAsset}\n                  liquidationRatio={liquidationRatio}\n                />\n              )\n            }\n            {\n              activity === ActivityType.RedeemEquity && (\n                <RedemptionActivity\n                  // underlyingAmount={underlyingAmount}\n                  underlyingAmount={equityAmount} // Apex demo - for USD only\n                  onUnderlyingAmountChange={onUnderlyingAmountChange}\n                  equityAmount={equityAmount}\n                  underlyingRatio={underlyingRatio}\n                  onEquityAmountChange={onEquityAmountChange}\n                  currentAsset={currentAsset}\n                  redeem={redeem}\n                  loading={loading}\n                  liquidationRatio={liquidationRatio}\n                />\n              )\n            }\n          </Activity>\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Lend;\n","import React from \"react\";\nimport useSWR from 'swr';\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport PriceFeedABI from \"@trustline/probity/artifacts/contracts/mocks/MockPriceFeed.sol/MockPriceFeed.json\";\nimport { utils } from \"ethers\";\nimport numbro from \"numbro\";\nimport { CONTRACTS } from '../../constants';\nimport fetcher from \"../../fetcher\";\n\nfunction PriceFeed({ asset, amount }: { asset: string, amount: number; }) {\n  const { library, chainId } = useWeb3React<Web3Provider>()\n  const [price, setPrice] = React.useState(0.00);\n  const [value, setValue] = React.useState(0.00);\n\n  const { data: _price, mutate: mutatePrice } = useSWR([CONTRACTS[chainId!].PRICE_FEED.address, 'getPrice', utils.id(asset)], {\n    fetcher: fetcher(library, PriceFeedABI.abi),\n  })\n\n  // Start listening to price feed\n  React.useEffect(() => {\n    const runEffect = async () => {\n      if (_price !== undefined) {\n        setPrice((Number(utils.formatUnits(String(_price), 27))));\n      }\n    }\n    runEffect();\n  }, [_price]);\n\n  React.useEffect(() => {\n    if (library) {\n      library.on(\"block\", () => {\n        mutatePrice(undefined, true);\n      });\n\n      return () => {\n        library.removeAllListeners(\"block\");\n      };\n    }\n  });\n\n  // Set collateral value when collateral price changes\n  React.useEffect(() => {\n    setValue((price * amount));\n  }, [price, amount]);\n\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-12\">\n        <div className=\"py-2 h-100 d-flex flex-row align-items-center justify-content-center text-center\">\n          {\n            asset !== \"USD\" && <div className=\"mx-4\"><span className=\"text-muted\">{asset}/USD</span><br />${price}</div>\n          }\n          <div className=\"mx-4\">\n            <span className=\"text-muted\">Value</span>\n            <br />\n            ${value && numbro(Math.abs(value).toFixed(2)).format({ thousandSeparated: true })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PriceFeed;\n","import React from \"react\"\nimport useSWR from 'swr';\nimport numbro from \"numbro\";\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport PriceFeed from \"../../components/PriceFeed\";\nimport { BigNumber, utils } from \"ethers\";\nimport fetcher from \"../../fetcher\";\nimport { RAY, CONTRACTS } from '../../constants';\nimport VaultEngineABI from \"@trustline/probity/artifacts/contracts/probity/VaultEngine.sol/VaultEngine.json\";\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport AssetSelector from \"../../components/AssetSelector\";\nimport NumberFormat from \"react-number-format\";\n\ninterface Props {\n  collateralRatio: number;\n  collateralAmount: number;\n  amount: number;\n  rate: BigNumber;\n  borrow: () => void;\n  loading: boolean;\n  maxSize: number;\n  setMaxSize: (maxSize: number) => void;\n  onAmountChange: (value: string) => void;\n  onCollateralAmountChange: (value: string) => void;\n}\n\nfunction BorrowActivity({\n  collateralRatio,\n  collateralAmount,\n  amount,\n  rate,\n  loading,\n  borrow,\n  maxSize,\n  setMaxSize,\n  onAmountChange,\n  onCollateralAmountChange\n}: Props) {\n  const { library, chainId } = useWeb3React<Web3Provider>()\n  const [estimatedAPR, setEstimatedAPR] = React.useState(rate ? utils.formatUnits(rate, 27).toString() : \"\")\n  const { data: lendingPoolDebt } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, \"lendingPoolDebt\"], {\n    fetcher: fetcher(library, VaultEngineABI.abi),\n  })\n  const { data: lendingPoolEquity } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, \"lendingPoolEquity\"], {\n    fetcher: fetcher(library, VaultEngineABI.abi),\n  })\n\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const onSelect = () => {\n    setShow(false)\n  }\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = process.env.REACT_APP_NATIVE_TOKEN!;\n\n  // Set estimated APR\n  React.useEffect(() => {\n    if (lendingPoolDebt && lendingPoolEquity) {\n      try {\n        const borrows = Number(utils.formatEther(lendingPoolDebt.div(RAY)));\n        const supply = Number(utils.formatEther(lendingPoolEquity));\n        const newBorrows = borrows + Number(amount);\n        const newUtilization = (newBorrows / supply);\n        if (newUtilization >= 1) setEstimatedAPR(\"100\")\n        else {\n          const newAPR = ((1 / (100 * (1 - newUtilization)))) * 100\n          setEstimatedAPR(String((Math.ceil(newAPR / 0.25) * 0.25).toFixed(2)))\n        }\n        setMaxSize(supply - borrows)\n      } catch(e) {\n        console.log(e)\n      }\n    }\n  }, [rate, amount, lendingPoolDebt, lendingPoolEquity, setMaxSize])\n\n  return (\n    <>\n      <AssetSelector nativeTokenSymbol={nativeTokenSymbol} show={show} onSelect={onSelect} handleClose={handleClose} />\n      <label className=\"form-label\">\n        Amount<br/>\n        <small className=\"form-text text-muted\">\n          Size of the loan\n        </small>\n      </label>\n      <div className=\"input-group\">\n        <NumberFormat\n          min=\"0.000000000000000000\"\n          className=\"form-control\"\n          placeholder=\"0.000000000000000000\"\n          thousandSeparator={true}\n          max={maxSize}\n          onChange={(event: any) => onAmountChange(event.target.value)}\n          value={amount === 0 ? \"\" : numbro(amount).format({ thousandSeparated: true })}\n        />\n        <span className=\"input-group-text font-monospace\">USD</span>\n      </div>\n      <div className=\"row pt-3 pb-1\">\n        <div className=\"col-12\">\n          <div className=\"h-100 d-flex flex-row align-items-center justify-content-center text-center\">\n            <div className=\"m-2\">\n              <span className=\"text-muted\">Estimated APR</span>\n              <br />\n              {rate && (amount ? estimatedAPR : utils.formatEther(rate.div(\"10000000\").toString().slice(2)))}%\n            </div>\n          </div>\n        </div>\n      </div>\n      <label className=\"form-label\">\n        Collateral<br/>\n        <small className=\"form-text text-muted\">\n          Amount of collateral to pledge\n        </small>\n      </label>\n      <div className=\"input-group mb-3\">\n        <NumberFormat\n          min=\"0.000000000000000000\"\n          className=\"form-control\"\n          placeholder=\"0.000000000000000000\"\n          thousandSeparator={true}\n          onChange={(event: any) => onCollateralAmountChange(event.target.value)}\n          value={collateralAmount === 0 ? \"\" : numbro(collateralAmount).format({ thousandSeparated: true })}\n        />\n        <button\n          onClick={handleShow}\n          className=\"btn btn-outline-secondary font-monospace\"\n          type=\"button\"\n        >\n          {currentAsset}\n        </button>\n      </div>\n      <PriceFeed asset={currentAsset} amount={collateralAmount} />\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"h-100 d-flex flex-column align-items-center justify-content-center p-4 text-center\">\n            <div className=\"m-2\"><span>Collateral Ratio:</span><br />{collateralRatio ? `${(collateralRatio * 100).toFixed(2)}%` : <small className=\"text-muted\">N/A</small>}</div>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-12 mt-4 d-grid\">\n          <button\n            className=\"btn btn-primary btn-lg mt-4\"\n            onClick={borrow}\n            disabled={(amount === 0 && collateralAmount === 0) || loading}\n          >\n            {loading ? <span className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default BorrowActivity","import React from \"react\"\nimport numbro from \"numbro\"\nimport NumberFormat from 'react-number-format';\nimport { RAD } from \"../../constants\"\nimport PriceFeed from \"../../components/PriceFeed\"\nimport { Form } from \"react-bootstrap\"\nimport { getNativeTokenSymbol } from \"../../utils\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport AssetSelector from \"../../components/AssetSelector\";\n\ninterface Props {\n  collateralRatio: number;\n  collateralAmount: number;\n  amount: number;\n  rate: number;\n  loading: boolean;\n  repay: () => void;\n  onAmountChange: (value: string) => void;\n  onCollateralAmountChange: (value: string) => void;\n  collateralInUse: string;\n  repayFullAmount: boolean;\n  setRepayFullAmount: (value: boolean) => void;\n  vault: any;\n  debtAccumulator: any;\n}\n\nfunction RepayActivity({\n  repay,\n  loading,\n  amount,\n  collateralRatio,\n  collateralAmount,\n  onAmountChange,\n  onCollateralAmountChange,\n  collateralInUse,\n  repayFullAmount,\n  setRepayFullAmount,\n  vault,\n  debtAccumulator\n}: Props) {\n  const { chainId } = useWeb3React<Web3Provider>()\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const onSelect = () => {\n    setShow(false)\n  }\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = process.env.REACT_APP_NATIVE_TOKEN!\n\n  const handleOnChange = () => {\n    if (!repayFullAmount) {\n      onAmountChange(vault.normDebt.mul(debtAccumulator).div(RAD).toString())\n      onCollateralAmountChange(collateralInUse)\n    } else {\n      onAmountChange(\"0\")\n      onCollateralAmountChange(\"0\")\n    }\n    setRepayFullAmount(!repayFullAmount)\n  }\n\n  return (\n    <>\n      <AssetSelector nativeTokenSymbol={nativeTokenSymbol} show={show} onSelect={onSelect} handleClose={handleClose} />\n      {!repayFullAmount && (\n        <>\n          <label className=\"form-label\">\n            Amount<br/>\n            <small className=\"form-text text-muted\">\n              Size of the repayment\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n              disabled={repayFullAmount}\n              min=\"0.000000000000000000\"\n              className=\"form-control\"\n              placeholder=\"0.000000000000000000\"\n              thousandSeparator={true}\n              onChange={(event: any) => onAmountChange(event.target.value)}\n              value={amount === 0 ? \"\" : numbro(amount).format({ thousandSeparated: true })}\n            />\n            <span className=\"input-group-text font-monospace\">USD</span>\n          </div>\n        </>\n      )}\n      <Form.Group controlId=\"repay-full-amount\" className=\"mt-2\">\n        <Form.Check type=\"checkbox\" label=\"Repay Full Amount\" checked={repayFullAmount} onChange={handleOnChange} />\n      </Form.Group>\n      {!repayFullAmount && (\n        <>\n          <br/>\n          <label className=\"form-label\">\n            Collateral<br/>\n            <small className=\"form-text text-muted\">\n              Amount of collateral to recover\n            </small>\n          </label>\n          <div className=\"input-group mb-3\">\n            <NumberFormat\n              disabled={repayFullAmount}\n              min=\"0.000000000000000000\"\n              className=\"form-control\"\n              placeholder=\"0.000000000000000000\"\n              thousandSeparator={true}\n              onChange={(event: any) => onCollateralAmountChange(event.target.value)}\n              value={collateralAmount === 0 ? \"\" : numbro(collateralAmount).format({ thousandSeparated: true })}\n            />\n            <button\n              onClick={handleShow}\n              className=\"btn btn-outline-secondary font-monospace\"\n              type=\"button\"\n            >\n              {currentAsset}\n            </button>\n          </div>\n          <PriceFeed asset={currentAsset} amount={collateralAmount} />\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <div className=\"h-100 d-flex flex-column align-items-center justify-content-center p-4 text-center\">\n                <div className=\"m-2\">\n                  <span>Collateral Ratio:</span>\n                  <br />\n                  <small className=\"text-muted\">\n                    {collateralAmount ? (\n                      collateralRatio ? `${(collateralRatio * 100).toFixed(2)}%` : <small className=\"text-muted\">N/A</small>\n                    ) : (\n                      <span>N/A</span>\n                    )}\n                  </small>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n      <div className=\"row\">\n        <div className=\"col-12 mt-4 d-grid\">\n          <button\n            className=\"btn btn-primary btn-lg mt-4\"\n            onClick={repay}\n            disabled={(amount === 0 && collateralAmount === 0 && !repayFullAmount) || loading}\n          >\n            {loading ? <span className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default RepayActivity","import React from 'react';\nimport useSWR from 'swr';\nimport numbro from \"numbro\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Contract, utils } from \"ethers\";\nimport web3 from \"web3\"\nimport { Helmet } from \"react-helmet-async\";\nimport { Activity as ActivityType } from \"../../types\";\nimport Activity from \"../../containers/Activity\";\nimport fetcher from \"../../fetcher\";\nimport { CONTRACTS, WAD } from '../../constants';\nimport BorrowActivity from './BorrowActivity';\nimport RepayActivity from './RepayActivity';\nimport Info from '../../components/Info';\nimport EventContext from \"../../contexts/TransactionContext\"\nimport { getNativeTokenSymbol } from '../../utils';\n\nfunction Loans({ assetPrice }: { assetPrice: number }) {\n  const location = useLocation();\n  const { account, active, library, chainId } = useWeb3React<Web3Provider>()\n  const [activity, setActivity] = React.useState<ActivityType|null>(null);\n  const [error, setError] = React.useState<any|null>(null);\n  const [collateralAmount, setCollateralAmount] = React.useState(0);\n  const [totalCollateral, setTotalCollateral] = React.useState(0);\n  const [amount, setAmount] = React.useState(0);\n  const [collateralRatio, setCollateralRatio] = React.useState(0);\n  const [maxSize, setMaxSize] = React.useState(0)\n  const [loading, setLoading] = React.useState(false);\n  const [repayFullAmount, setRepayFullAmount] = React.useState(false)\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const eventContext = React.useContext(EventContext)\n\n  const { data: vault, mutate: mutateVault } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'vaults', utils.id(\"XRP\"), account], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n  const { mutate: mutateBalance } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'systemCurrency', account], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n  const { mutate: mutateLendingPoolDebt } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'lendingPoolDebt'], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n  const { data: rate } = useSWR([CONTRACTS[chainId!].TELLER.address, 'apr'], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].TELLER.abi),\n  })\n  const { data: debtAccumulator } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'debtAccumulator'], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n  const { data: asset } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'assets', utils.id(nativeTokenSymbol)], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n\n  /**\n   * Set activity by the path\n   */\n  React.useEffect(() => {\n    if (location.pathname === \"/loans/borrow\") setActivity(ActivityType.Borrow);\n    if (location.pathname === \"/loans/repay\") setActivity(ActivityType.Repay);\n  }, [location])\n\n  const deposit = async () => {\n    if (library && account) {\n      try {\n        let contract, args, _amount\n        if (collateralAmount < 1 && collateralAmount > 0) {\n          var divisor = 1 / collateralAmount;\n          _amount = WAD.div(divisor)\n        } else {\n          _amount = WAD.mul(collateralAmount)\n        }\n\n        // Native Token\n        const assetManager = CONTRACTS[chainId!].NATIVE_ASSET_MANAGER\n        contract = new Contract(assetManager.address, assetManager.abi, library.getSigner())\n\n        args = [\n          {\n            gasLimit: web3.utils.toWei('400000', 'wei'),\n            maxFeePerGas: 30 * 1e9,\n            value: _amount\n          },\n        ]\n\n        setLoading(true)\n\n        // Deposit asset\n        console.log(\"Depositing asset...\")\n        await contract.callStatic.deposit(...args)\n        const result = await contract.deposit(...args);\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        mutateVault(undefined, true)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n    }\n  }\n  \n  /**\n   * @function depositSystemCurrency\n   */\n  //  const depositSystemCurrency = async (_amount: BigNumber) => {\n  //   if (library && account) {\n  //     const treasury = new Contract(CONTRACTS[chainId!].TREASURY.address, CONTRACTS[chainId!].TREASURY.abi, library.getSigner())\n  //     setLoading(true)\n  //     try {\n  //       const result = await treasury.depositSystemCurrency(\n  //         _amount,\n  //         {\n  //           gasLimit: 400000,\n  //           maxFeePerGas: 30 * 1e9,\n  //           maxPriorityFeePerGas: 1e9\n  //         }\n  //       );\n  //       const data = await result.wait();\n  //       eventContext.updateTransactions(data);\n  //     } catch (error) {\n  //       console.log(error);\n  //       setError(error);\n  //     }\n  //   }\n  // }\n\n  /**\n   * @function withdraw\n   */\n   const withdraw = async () => {\n    if (library && account) {\n      const treasury = new Contract(CONTRACTS[chainId!].TREASURY.address, CONTRACTS[chainId!].TREASURY.abi, library.getSigner())\n      setLoading(true)\n      try {\n        const result = await treasury.withdrawSystemCurrency(\n          utils.parseUnits(String(amount), 18),\n          {\n            gasLimit: 400000,\n            maxFeePerGas: 30 * 1e9\n          }\n        );\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        setAmount(0)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n    }\n  }\n\n  /**\n   * @function borrow\n   */\n  const borrow = async () => {\n    if (library && account) {\n      const vaultEngine = new Contract(CONTRACTS[chainId!].VAULT_ENGINE.address, CONTRACTS[chainId!].VAULT_ENGINE.abi, library.getSigner())\n      const debtAccumulator = await vaultEngine.debtAccumulator()\n      setLoading(true)\n      await deposit()\n      const args = [\n        utils.id(process.env.REACT_APP_NATIVE_TOKEN!),\n        utils.parseUnits(String(collateralAmount), 18),\n        utils.parseUnits(String(amount), 45).div(debtAccumulator),\n        { gasLimit: 400000, maxFeePerGas: 30 * 1e9 }\n      ]\n\n      try {\n        await vaultEngine.callStatic.modifyDebt(...args);\n        const result = await vaultEngine.modifyDebt(...args);\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        mutateVault(undefined, true);\n        mutateBalance(undefined, true);\n        mutateLendingPoolDebt(undefined, true)\n        setCollateralAmount(0)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n    }\n\n    await withdraw()\n\n    setLoading(false)\n  }\n\n  /**\n   * @function repay\n   */\n  const repay = async () => {\n    if (library && account) {\n      const vaultEngine = new Contract(CONTRACTS[chainId!].VAULT_ENGINE.address, CONTRACTS[chainId!].VAULT_ENGINE.abi, library.getSigner())\n      const debtAccumulator = await vaultEngine.debtAccumulator()\n      setLoading(true)\n\n      let _amount, _collateralAmount\n      if (repayFullAmount) {\n        _amount = vault?.normDebt.mul(\"-1\")\n        _collateralAmount = vault?.collateral.mul(\"-1\")\n      } else {\n        _amount = utils.parseUnits(String(-amount), 45).div(debtAccumulator)\n        _collateralAmount = utils.parseUnits(String(-collateralAmount), 18)\n      }\n\n      const args = [\n        utils.id(nativeTokenSymbol),\n        _collateralAmount,\n        _amount,\n        { gasLimit: 400000, maxFeePerGas: 30 * 1e9 }\n      ]\n\n      try {\n        // const amount = vault?.normDebt.mul(debtAccumulator)\n        // await depositSystemCurrency(amount)\n        await vaultEngine.callStatic.modifyDebt(...args)\n        const result = await vaultEngine.modifyDebt(...args);\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        mutateVault(undefined, true);\n        mutateBalance(undefined, true);\n        mutateLendingPoolDebt(undefined, true)\n        setAmount(0)\n        setCollateralAmount(0)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n\n      setLoading(false)\n    }\n  }\n\n  /**\n   * @function onAmountChange\n   * @param event\n   */\n  const onAmountChange = (value: string, repayFullAmount?: boolean) => {\n    let _amount;\n    if (value === null) _amount = 0\n    else _amount = Number(numbro.unformat(value));\n    setAmount(_amount);\n  }\n\n  /**\n   * @function onCollateralAmountChange\n   * @param event\n   */\n  const onCollateralAmountChange = (value: string, repayFullAmount?: boolean) => {\n    let totalAmount, delta;\n    if (!value) delta = 0\n    else delta = Number(numbro.unformat(value));\n    if (activity === ActivityType.Repay) totalAmount = Number(utils.formatEther(vault.collateral)) - Number(delta);\n    else totalAmount = Number(utils.formatEther(vault.collateral)) + Number(delta);\n    setTotalCollateral(totalAmount);\n    setCollateralAmount(delta);\n  }\n\n  /**\n   * Dynamically calculate the collateralization ratio\n   */\n  React.useEffect(() => {\n    if (vault && asset && debtAccumulator) {\n      let newDebtAmount\n      switch (activity) {\n        case ActivityType.Borrow:\n          newDebtAmount = (Number(utils.formatUnits(vault?.normDebt.mul(debtAccumulator), 45)) + Number(amount))\n          setCollateralRatio((totalCollateral * assetPrice) / newDebtAmount);\n          break;\n        case ActivityType.Repay:\n          newDebtAmount = (Number(utils.formatUnits(vault.normDebt.mul(debtAccumulator), 45)) - Number(amount))\n          if (newDebtAmount === 0) setCollateralRatio(0)\n          else setCollateralRatio((totalCollateral * assetPrice) / newDebtAmount);\n          break;\n      }\n    }\n  }, [totalCollateral, assetPrice, amount, vault, activity, asset, debtAccumulator]);\n\n  return (\n    <>\n      <Helmet>\n        <title>Probity | Borrow</title>\n      </Helmet>\n      <header>\n        <h1>Loan Management</h1>\n        {active && <Info />}\n      </header>\n      <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n        <div className=\"col-md-12 col-lg-8 offset-lg-2\">\n          {/* Activity Navigation */}\n          <div>\n            <ul className=\"nav nav-pills nav-justified\">\n              <li className=\"nav-item\">\n                <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/loans/borrow\"} onClick={() => { setActivity(ActivityType.Borrow); setCollateralAmount(0) }}>Borrow</NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/loans/repay\"} onClick={() => { setActivity(ActivityType.Repay); setCollateralAmount(0) }}>Repay</NavLink>\n              </li>\n            </ul>\n          </div>\n          <hr />\n          {/* Loan Activities */}\n          <Activity active={active} activity={activity} error={error}>\n            <>\n              {\n                activity === ActivityType.Borrow && (\n                  <BorrowActivity\n                    rate={rate}\n                    borrow={borrow}\n                    loading={loading}\n                    maxSize={maxSize}\n                    amount={amount}\n                    setMaxSize={setMaxSize}\n                    collateralRatio={collateralRatio}\n                    collateralAmount={collateralAmount}\n                    onAmountChange={onAmountChange}\n                    onCollateralAmountChange={onCollateralAmountChange}\n                  />\n                )\n              }\n              {\n                activity === ActivityType.Repay && (\n                  <RepayActivity\n                    rate={rate}\n                    repay={repay}\n                    loading={loading}\n                    amount={amount}\n                    collateralRatio={collateralRatio}\n                    collateralAmount={collateralAmount}\n                    onAmountChange={onAmountChange}\n                    onCollateralAmountChange={onCollateralAmountChange}\n                    repayFullAmount={repayFullAmount}\n                    setRepayFullAmount={setRepayFullAmount}\n                    collateralInUse={vault ? vault?.collateral.div(WAD).toString() : \"\"}\n                    vault={vault}\n                    debtAccumulator={debtAccumulator}\n                  />\n                )\n              }\n            </>\n          </Activity>\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Loans;\n","import { useEffect, useState, useMemo } from \"react\";\nimport numbro from \"numbro\"\nimport { BigNumber, Contract, utils } from \"ethers\";\nimport Router from \"@uniswap/v2-periphery/build/UniswapV2Router02.json\";\nimport Factory from \"@uniswap/v2-core/build/UniswapV2Factory.json\";\nimport Pair from \"@uniswap/v2-core/build/UniswapV2Pair.json\";\nimport UsdABI from \"@trustline/probity/artifacts/contracts/probity/tokens/Usd.sol/USD.json\";\n// import LqoABI from \"@trustline/probity/artifacts/contracts/probity/tokens/Lqo.sol/LQO.json\";\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { formatOptions } from \"../../constants\";\n\n\n\nfunction TradeActivity() {\n    const { account, library } = useWeb3React<Web3Provider>()\n    const [assetIn, setAssetIn] = useState<string>(\"USD\")\n    const [assetOut, setAssetOut] = useState<string>(\"LQO\")\n    const [amountIn, setAmountIn] = useState<BigNumber>(BigNumber.from(0))\n    const [amountOut, setAmountOut] = useState<BigNumber>(BigNumber.from(0))\n    const [quote, setQuote] = useState<any>()\n    const [loading, setLoading] = useState<boolean>(false)\n    const [reserveIn, setReserveIn] = useState(BigNumber.from(0))\n    const [reserveOut, setReserveOut] = useState(BigNumber.from(0))\n    const [pair, setPair] = useState()\n\n    const ROUTER = \"0xE4c986c2FCE7D8c90630e91F4AFaBa62796cb12A\"\n    const FACTORY = \"0x7c5dF2675221eb4F630a19616db160de918C44Ca\"\n\n    const addresses: {\n        [key: string]: string;\n    } = useMemo(() => {\n        return {\n            USD: \"0x482e8BEf8235ff6333B671A78e94d6576C4B2CFf\",\n            LQO: \"0xa8cF0dCF0A118f1AaD8E75fF3e1F4E80Bf1410fc\"\n        }\n    }, [])\n\n    useEffect(() => {\n        (async () => {\n            if (library) {\n                const factory = new Contract(FACTORY, Factory.abi, library?.getSigner())\n                try {\n                    const address = await factory.getPair(addresses[assetIn], addresses[assetOut])\n                    if (address === \"0x0000000000000000000000000000000000000000\") throw Error()\n                    setPair(address)\n                } catch (error) {\n                    const address = await factory.createPair(addresses[assetIn], addresses[assetOut])\n                    setPair(address)\n                }\n            }\n        })()\n    }, [library, assetIn, assetOut, addresses])\n\n    useEffect(() => {\n        (async () => {\n            if (library && pair) {\n                const _pair = new Contract(pair, Pair.abi, library?.getSigner())\n                const _reserves = await _pair.getReserves()\n                setReserveIn(_reserves[0])\n                setReserveOut(_reserves[1])\n            }\n        })()\n    }, [library, pair])\n\n    const swap = async () => {\n        setLoading(true)\n        try {\n            const router = new Contract(ROUTER, Router.abi, library?.getSigner())\n            // Check ROUTER allowances\n            const token = new Contract(addresses[assetIn], UsdABI.abi, library?.getSigner())\n            const allowance = await token.allowance(account, ROUTER)\n            if (BigNumber.from(allowance).lt(utils.parseUnits(String(amountIn)))) {\n                await token.approve(ROUTER, utils.parseUnits(String(amountIn)))\n            }\n            const amountOutMin = 0\n            const path = [addresses[assetIn], addresses[assetOut]]\n            const to = account\n            const deadline = Math.floor(Date.now()) + 100\n            const args = [\n                utils.parseUnits(String(amountIn)),\n                amountOutMin,\n                path,\n                to,\n                deadline\n            ]\n            await router.callStatic.swapExactTokensForTokens(...args)\n            const result = await router.swapExactTokensForTokens(...args);\n            await result.wait();\n            setAmountIn(BigNumber.from(0))\n        } catch (error) {\n            console.log(error)\n        }\n        setLoading(false)\n    }\n\n    const onChange = async (event: any) => {\n        try {\n            const router = new Contract(ROUTER, Router.abi, library?.getSigner())\n            const _amountIn = event.target.value === \"\" ?  BigNumber.from(0) : event.target.value\n            const args = [utils.parseUnits(String(_amountIn)), reserveIn, reserveOut]\n            const _amountOut = event.target.value === \"\" ? BigNumber.from(0) : await router.getAmountOut(...args)\n            setAmountIn(_amountIn)\n            setAmountOut(_amountOut)\n            if (event.target.value !== \"\")\n                if (assetOut === \"USD\")\n                    setQuote((Number(_amountOut) / Number(_amountIn)))\n                else if (assetIn === \"USD\") {\n                    let _quote = (Number(_amountIn) / Number((_amountOut)))\n                    if (_quote === Infinity) _quote = 0\n                    setQuote(_quote.toFixed(2))\n                }\n            else\n                setQuote(null)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    const switchAssets = async () => {\n        if (assetIn === \"USD\") {\n            setAssetIn(\"LQO\")\n            setAssetOut(\"USD\")\n            setReserveIn(reserveOut)\n            setReserveOut(reserveIn)\n        } else {\n            setAssetIn(\"USD\")\n            setAssetOut(\"LQO\")\n            setReserveIn(reserveOut)\n            setReserveOut(reserveIn)\n        }\n        setAmountIn(BigNumber.from(0))\n        setAmountOut(BigNumber.from(0))\n        setQuote(null)\n    }\n\n    return (\n        <>\n            <label htmlFor=\"from\" className=\"form-label\">From</label>\n            <div className=\"input-group mb-3\">\n                <input type=\"number\" className=\"form-control form-control-lg\" id=\"from\" onChange={onChange} />\n                <span className=\"input-group-text\">{assetIn}</span>\n            </div>\n            <div className=\"d-flex justify-content-center\">\n                <button className=\"btn btn-light\" onClick={switchAssets}>\n                    <i className=\"fa-solid fa-arrows-rotate\"></i>\n                </button>\n            </div>\n            <label htmlFor=\"to\" className=\"form-label\">To</label>\n            <div className=\"input-group mb-3\">\n                <input type=\"text\" className=\"form-control form-control-lg\" id=\"to\" disabled value={numbro(Number(amountOut)).format(formatOptions)} />\n                <span className=\"input-group-text\">{assetOut}</span>\n            </div>\n            {quote && (<p className=\"text-center\">≈ ${quote.toString()} per unit</p>)}\n            <div className=\"d-grid gap-2\">\n                <button className=\"btn btn-primary\" onClick={swap}>\n                    {loading ? <div className=\"spinner-border spinner-border-sm text-light\" role=\"status\" /> : \"Place Trade\"}\n                </button>\n            </div>\n        </>\n    )\n}\n\nexport default TradeActivity","import numbro from \"numbro\"\nimport { useEffect, useState } from \"react\";\nimport { BigNumber, Contract, utils } from \"ethers\";\nimport Router from \"@uniswap/v2-periphery/build/UniswapV2Router02.json\";\nimport Factory from \"@uniswap/v2-core/build/UniswapV2Factory.json\";\nimport Pair from \"@uniswap/v2-core/build/UniswapV2Pair.json\";\nimport UsdABI from \"@trustline/probity/artifacts/contracts/probity/tokens/Usd.sol/USD.json\";\nimport LqoABI from \"@trustline/probity/artifacts/contracts/probity/tokens/Lqo.sol/LQO.json\";\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { formatOptions } from \"../../constants\";\n\nfunction ProvideActivity() {\n    const { account, library } = useWeb3React<Web3Provider>()\n    const [amountADesired, setAmountADesired] = useState<BigNumber|string>(BigNumber.from(0))\n    const [amountBDesired, setAmountBDesired] = useState<BigNumber|string>(BigNumber.from(0))\n    const [loading, setLoading] = useState<boolean>(false)\n    const [pair, setPair] = useState()\n    const [reserves, setReserves] = useState<any[]>([BigNumber.from(0), BigNumber.from(0)])\n\n    const ROUTER = \"0xE4c986c2FCE7D8c90630e91F4AFaBa62796cb12A\"\n    const FACTORY = \"0x7c5dF2675221eb4F630a19616db160de918C44Ca\"\n    const USD = \"0x482e8BEf8235ff6333B671A78e94d6576C4B2CFf\"\n    const LQO = \"0xa8cF0dCF0A118f1AaD8E75fF3e1F4E80Bf1410fc\"\n\n    useEffect(() => {\n        (async () => {\n            if (library) {\n                const factory = new Contract(FACTORY, Factory.abi, library?.getSigner())\n                try {\n                    const address = await factory.getPair(USD, LQO)\n                    if (address === \"0x0000000000000000000000000000000000000000\") throw Error()\n                    setPair(address)\n                } catch (error) {\n                    const address = await factory.createPair(USD, LQO)\n                    setPair(address)\n                }\n            }\n        })()\n    }, [library, setPair])\n\n    useEffect(() => {\n        (async () => {\n            if (library && pair) {\n                const _pair = new Contract(pair, Pair.abi, library?.getSigner())\n                const _reserves = await _pair.getReserves()\n                console.log(_reserves[0].toString(), _reserves[1].toString())\n                setReserves([_reserves[0], _reserves[1]])\n            }\n        })()\n    }, [library, pair])\n\n    const addLiquidity = async () => {\n        setLoading(true)\n        try {\n            // Check ROUTER allowances\n            const usd = new Contract(USD, UsdABI.abi, library?.getSigner())\n            const lqo = new Contract(LQO, LqoABI.abi, library?.getSigner())\n            let allowance = await usd.allowance(account, ROUTER)\n            if (BigNumber.from(allowance).lt(amountADesired)) {\n                await usd.approve(ROUTER, amountADesired)\n            }\n            allowance = await lqo.allowance(account, ROUTER)\n            if (BigNumber.from(allowance).lt(amountBDesired)) {\n                await lqo.approve(ROUTER, amountBDesired)\n            }\n\n            const router = new Contract(ROUTER, Router.abi, library?.getSigner())\n            const deadline = Math.floor(Date.now()) + 100\n            const args = [\n                USD,\n                LQO,\n                amountADesired,\n                amountBDesired,\n                amountADesired,\n                amountBDesired,\n                account,\n                deadline,\n            ]\n            await router.callStatic.addLiquidity(...args)\n            const result = await router.addLiquidity(...args);\n            await result.wait();\n        } catch (error) {\n            console.log(error)\n        }\n        setLoading(false)\n    }\n\n    return (\n        <>\n            {reserves && (\n                <div className=\"border rounded p-3 mb-3\">\n                    <h5 className=\"text-center\">Active Liquidity</h5>\n                    <div className=\"d-flex justify-content-between\">\n                        <div>USD:</div>\n                        <div>{numbro(Number((utils.formatEther(reserves[0]))).toFixed(2)).format(formatOptions)}</div>\n                    </div>\n                    <div className=\"d-flex justify-content-between\">\n                        <div>LQO:</div>\n                        <div className=\"text-truncate\">{numbro(reserves[1].toString()).format(formatOptions)}</div>\n                    </div>\n                </div>\n            )}\n            <label htmlFor=\"from\" className=\"form-label\">Amount</label>\n            <div className=\"input-group mb-3\">\n                <input type=\"number\" className=\"form-control form-control-lg\" onChange={(event) => setAmountADesired(BigNumber.from(event.target.value).mul(\"1000000000000000000\"))} />\n                <span className=\"input-group-text\">USD</span>\n            </div>\n            <label htmlFor=\"to\" className=\"form-label\">Amount</label>\n            <div className=\"input-group mb-3\">\n                <input type=\"number\" className=\"form-control form-control-lg\" onChange={(event) => setAmountBDesired(BigNumber.from(event.target.value))} />\n                <span className=\"input-group-text\">LQO</span>\n            </div>\n            <div className=\"d-grid gap-2\">\n                <button className=\"btn btn-primary\" onClick={addLiquidity}>\n                    {loading ? <div className=\"spinner-border spinner-border-sm text-light\" role=\"status\" /> : \"Add Liquidity\"}\n                </button>\n            </div>\n        </>\n    )\n}\n\nexport default ProvideActivity","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Activity as ActivityType } from \"../../types\";\nimport Activity from \"../../containers/Activity\";\nimport TradeActivity from './TradeActivity';\nimport ProvideActivity from './ProvideActivity';\nimport Info from '../../components/Info';\n\nfunction Exchange() {\n    const { active } = useWeb3React<Web3Provider>()\n    const [activity, setActivity] = React.useState<ActivityType|null>(null);\n    const [error, ] = React.useState<any|null>(null);\n\n    return (\n        <>\n            <Helmet>\n                <title>Probity | Exchange</title>\n            </Helmet>\n            <header>\n                <h1>Asset Exchange</h1>\n                {active && <Info />}\n            </header>\n            <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n                <div className=\"col-md-12 col-lg-8 offset-lg-2\">\n                    {/* Activity Navigation */}\n                    <div>\n                        <ul className=\"nav nav-pills nav-justified\">\n                            <li className=\"nav-item\">\n                                <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/exchange/trade\"} onClick={() => { setActivity(ActivityType.Trade); }}>Trade</NavLink>\n                            </li>\n                            <li className=\"nav-item\">\n                                <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/exchange/provide\"} onClick={() => { setActivity(ActivityType.Provide); }}>Provide</NavLink>\n                            </li>\n                        </ul>\n                    </div>\n                    <hr />\n                    {/* Loan Activities */}\n                    <Activity active={active} activity={activity} error={error}>\n                        {\n                            activity === ActivityType.Trade && (\n                                <TradeActivity />\n                            )\n                        }\n                        {\n                            activity === ActivityType.Provide && (\n                                <ProvideActivity />\n                            )\n                        }\n                    </Activity>\n                </div>\n            </section>\n        </>\n    )\n}\n\nexport default Exchange","import axios from \"axios\";\nimport numbro from \"numbro\";\nimport classnames from \"classnames\"\nimport { Link, Route, Switch, useLocation, useHistory } from \"react-router-dom\"\nimport React from \"react\";\nimport { Alert, Button, Card, Modal, Nav } from \"react-bootstrap\"\nimport { Helmet } from \"react-helmet-async\";\nimport {\n  usePlaidLink,\n  PlaidLinkOptions,\n  PlaidLinkOnSuccess,\n  PlaidLinkOnSuccessMetadata,\n} from \"react-plaid-link\";\n\nenum TransactionType {\n  Deposit, Withdrawal\n}\n\nfunction Cash({ user, auth }: any) {\n  const [linkToken, setLinkToken] = React.useState(null);\n  const [externalAccounts, setExternalAccounts] = React.useState([]);\n  const [selectedAccount, setSelectedAccount] = React.useState<any>(null);\n  const [externalAccountsLoading, setExternalAccountsLoading] = React.useState(true);\n  const [transactionInProgress, setTransactionInProgress] = React.useState(false);\n  const [transactionsLoading, setTransactionsLoading] = React.useState(true);\n  const [, setBalance] = React.useState(null);\n  const [transactions, setTransactions] = React.useState([]);\n  const [amount, setAmount] = React.useState(0);\n  const [show, setShow] = React.useState(false);\n  const [type, setType] = React.useState<TransactionType>(TransactionType.Deposit);\n  const location = useLocation()\n  const history = useHistory()\n\n  const copyToClipboard = (value: string) => {\n    navigator.clipboard.writeText(value)\n  }\n\n  const handleClose = () => {\n    setAmount(0);\n    setSelectedAccount(null);\n    history.push(\"/cash-management\")\n    setShow(false);\n  }\n  const handleShow = (txType: TransactionType) => {\n    if (txType === 0) history.push(`/cash-management/deposit/ach`)\n    else history.push(`/cash-management/withdrawal`)\n    setType(txType)\n    setShow(true);\n  }\n\n  const createExternalAccount = React.useCallback(async (accountId: string) => {\n    await axios(`http://localhost:8080/v1/accounts/${user?.ledger_account_id}/external_accounts`, {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${auth.token}`\n      },\n      data: {\n        accountId\n      },\n    });\n  }, [auth, user])\n\n  const createPlaidAccessToken = React.useCallback(async (publicToken) => {\n    await axios({\n      url: `http://localhost:8080/v1/accounts/${user?.ledger_account_id}/plaid/access_token`,\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${auth.token}`\n      },\n      data: {\n        publicToken\n      }\n    })\n  }, [auth, user])\n\n  const getExternalAccounts = React.useCallback(async () => {\n    const response = await axios({\n      url: `http://localhost:8080/v1/accounts/${user?.ledger_account_id}/external_accounts`,\n      method: \"GET\",\n      headers: {\n        \"Authorization\": `Bearer ${auth.token}`\n      },\n    })\n    setExternalAccounts(response.data.items)\n    if (response.data.items.length) setSelectedAccount(response.data.items[0])\n  }, [auth, user])\n\n  /**\n   * Log and save metadata and exchange public token\n   */\n  const onSuccess = React.useCallback<PlaidLinkOnSuccess>(\n    async (public_token: string, metadata: PlaidLinkOnSuccessMetadata) => {\n      if (!metadata.accounts.length) {\n        return alert(\"Unable to link account.\")\n      }\n      setExternalAccountsLoading(true)\n      await createPlaidAccessToken(public_token)\n      await createExternalAccount(metadata.accounts[0].id)\n      await getExternalAccounts()\n      setExternalAccountsLoading(false)\n    },\n    [createPlaidAccessToken, createExternalAccount, getExternalAccounts, setExternalAccountsLoading],\n  );\n\n  const getTransactions = React.useCallback(async () => {\n    setTransactionsLoading(true)\n    const response = await axios(`http://localhost:8080/v1/accounts/${user?.ledger_account_id}/transactions`, {\n      headers: {\n        \"Authorization\": `Bearer ${auth.token}`\n      },\n      method: \"GET\"\n    })\n    setTransactions(response.data.items)\n    setTransactionsLoading(false)\n  }, [auth, user])\n\n  const getAccountBalance = React.useCallback(async () => {\n    const response = await axios(`http://localhost:8080/v1/accounts/${user?.ledger_account_id}`, {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": `Bearer ${auth.token}`\n      },\n    })\n    setBalance(response.data.balances.available_balance)\n  }, [auth, user])\n\n  const deposit = async () => {\n    try {\n      setTransactionInProgress(true)\n      await axios(`http://localhost:8080/v1/accounts/${user?.ledger_account_id}/deposits`, {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${auth.token}`\n        },\n        data: {\n          amount,\n          external_account_id: selectedAccount.id\n        }\n      })\n      alert(\"Deposit successfully initiated.\")\n    } catch (error) {\n      console.log(error)\n      alert(\"There was an error.\")\n    }\n    setTransactionInProgress(false)\n  }\n\n  const withdrawal = async () => {\n    try {\n      setTransactionInProgress(true)\n      await axios(`http://localhost:8080/v1/accounts/${user?.ledger_account_id}/withdrawals`, {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${auth.token}`\n        },\n        data: {\n          amount,\n          external_account_id: selectedAccount.id\n        }\n      })\n      alert(\"Withdraw successfully initiated.\")\n    } catch (error) {\n      alert(\"There was an error.\")\n    }\n    setTransactionInProgress(false)\n  }\n\n  const removeExternalAccount = async (id: any) => {\n    await axios({\n      url: `http://localhost:8080/v1/accounts/${user?.ledger_account_id}/external_accounts/${id}`,\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${auth.token}`\n      },\n    })\n    await getExternalAccounts()\n  }\n\n  const transfer = async () => {\n    if (type === TransactionType.Deposit) await deposit()\n    if (type === TransactionType.Withdrawal) await withdrawal()\n    await getTransactions()\n    await getAccountBalance()\n    setShow(false)\n  }\n\n  const getLinkToken = React.useCallback(async () => {\n    const response = await axios({\n      url: `http://localhost:8080/v1/accounts/${user?.ledger_account_id}/plaid/link_token`,\n      method: \"GET\",\n      headers: {\n        \"Authorization\": `Bearer ${auth.token}`\n      },\n    })\n    setLinkToken(response.data.link_token)\n  }, [auth, user])\n\n  /**\n   * @function getTransactionType\n   * @param {any} transaction\n   * @returns {string}\n   * Determine the transaction type by the ledger entries\n   */\n  const getTransactionType = (transaction: any) => {\n    const entries = transaction.ledger_entries;\n\n    if (entries.length === 2) {\n      if (entries[0].ledger_account_id === user?.ledger_account_id) {\n        if (entries[0].direction === \"credit\") {\n          return \"Deposit\"\n        } else if (entries[0].direction === \"debit\") {\n          return \"Withdrawal\"\n        }\n      }\n    }\n    return \"Unknown\"\n  }\n\n  // Load data\n  React.useEffect(() => {\n    (async () => {\n      setExternalAccountsLoading(true)\n      await getLinkToken()\n      await getExternalAccounts()\n      await getAccountBalance()\n      await getTransactions()\n      setExternalAccountsLoading(false)\n    })()\n  }, [getAccountBalance, getLinkToken, getTransactions, getExternalAccounts])\n\n  // The usePlaidLink hook manages Plaid Link creation\n  // It does not return a destroy function;\n  // instead, on unmount it automatically destroys the Link instance\n  const config: PlaidLinkOptions = {\n    onSuccess: onSuccess,\n    onExit: (err, metadata) => {},\n    onEvent: (eventName, metadata) => {},\n    token: linkToken,\n  };\n  const { open, ready } = usePlaidLink(config);\n\n  return (\n    <>\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Create {TransactionType[type]}</Modal.Title>\n        </Modal.Header>\n        {\n          type === TransactionType.Deposit && (\n            <Modal.Header >\n              <Nav variant=\"pills\" defaultActiveKey=\"ach\">\n                <Nav.Item>\n                  <Nav.Link as={Link} to={`/cash-management/deposit/ach`} eventKey=\"ach\">Online deposit</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link as={Link} to={`/cash-management/deposit/wire`} eventKey=\"wire\">Wire transfer</Nav.Link>\n                </Nav.Item>\n              </Nav>\n            </Modal.Header>\n          )\n        }\n        <Modal.Body>\n          <div className=\"mb-3\">\n            {\n              type === TransactionType.Deposit ? (\n                <>\n                  <Switch>\n                    <Route path={`/cash-management/deposit/ach`}>\n                      <label htmlFor=\"depositFrom\" className=\"form-label\">Deposit from</label>\n                      <select className=\"form-select\" defaultValue={externalAccounts[0]}>\n                        {externalAccounts.map((externalAccount: any, index: number) => {\n                          return (\n                            <option onSelect={() => setSelectedAccount(externalAccount)} key={index}>\n                              {externalAccount.account_type.charAt(0).toUpperCase() + externalAccount.account_type.slice(1)} {externalAccount.account_details[0].account_number.replace(/.(?=.{4,}$)/g, \"*\")}\n                            </option>\n                          )\n                        })}\n                      </select>\n                      <div className=\"my-3\">\n                        <label htmlFor=\"amount\" className=\"form-label\">Amount</label>\n                        <input type=\"number\" className=\"form-control\" id=\"amount\" onChange={(event) => setAmount(Number(event.target.value))} placeholder=\"0.00\" />\n                      </div>\n                    </Route>\n                    <Route path={`/cash-management/deposit/wire`}>\n                      <h5>Wire transfer instructions</h5>\n                      <p>To add funds, send a wire from your bank to Linqto using the details below. We'll email you when the transfer is complete.</p>\n                      <Alert variant=\"primary\">Make sure the name on your bank account exactly matches your name on Linqto.</Alert>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Recipient name</label>\n                        <div className=\"d-flex\">\n                          <input readOnly className=\"form-control-plaintext text-muted\" value=\"Linqto Inc.\" />\n                          <button onClick={() => copyToClipboard(\"Linqto Inc.\")} className=\"btn btn-link\" type=\"button\"><i className=\"fas fa-copy\" /></button>\n                        </div>\n                      </div>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Recipient address</label>\n                        <div className=\"d-flex\">\n                          <input readOnly className=\"form-control-plaintext text-muted\" value=\"101 Metro Drive, Suite 335, San Jose, CA 95110\" />\n                          <button onClick={() => copyToClipboard(\"101 Metro Drive, Suite 335, San Jose, CA 95110\")} className=\"btn btn-link\" type=\"button\"><i className=\"fas fa-copy\" /></button>\n                        </div>\n                      </div>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Account number</label>\n                        <div className=\"d-flex\">\n                          <input readOnly className=\"form-control-plaintext text-muted\" value=\"############\" />\n                          <button onClick={() => copyToClipboard(\"############\")} className=\"btn btn-link\" type=\"button\"><i className=\"fas fa-copy\" /></button>\n                        </div>\n                      </div>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Routing number</label>\n                        <div className=\"d-flex\">\n                          <input readOnly className=\"form-control-plaintext text-muted\" value=\"#########\" />\n                          <button onClick={() => copyToClipboard(\"#########\")} className=\"btn btn-link\" type=\"button\"><i className=\"fas fa-copy\" /></button>\n                        </div>\n                      </div>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Bank name</label>\n                        <div className=\"d-flex\">\n                          <input readOnly className=\"form-control-plaintext text-muted\" value=\"JPMorgan Chase Bank National Association\" />\n                          <button onClick={() => copyToClipboard(\"JPMorgan Chase Bank National Association\")} className=\"btn btn-link\" type=\"button\"><i className=\"fas fa-copy\" /></button>\n                        </div>\n                      </div>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Bank address</label>\n                        <div className=\"d-flex\">\n                          <input readOnly className=\"form-control-plaintext text-muted\" value=\"270 Park Avenue, 43rd floor New York, NY 10017\" />\n                          <button onClick={() => copyToClipboard(\"270 Park Avenue, 43rd floor New York, NY 10017\")} className=\"btn btn-link\" type=\"button\"><i className=\"fas fa-copy\" /></button>\n                        </div>\n                      </div>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Bank country</label>\n                        <div className=\"d-flex\">\n                          <input readOnly className=\"form-control-plaintext text-muted\" value=\"United States\" />\n                          <button onClick={() => copyToClipboard(\"United States\")} className=\"btn btn-link\" type=\"button\"><i className=\"fas fa-copy\" /></button>\n                        </div>\n                      </div>\n                      <Modal.Footer>\n                        <small>Please do not send funds via ACH. An actual wire transfer must be submitted. Funds will usually be credited to your Linqto account on the same day if submitted before 1pm PT. Otherwise, funds will be credited on the next business day.</small>\n                      </Modal.Footer>\n                    </Route>\n                  </Switch>\n                </>\n              ) : (\n                <>\n                  <label htmlFor=\"withdrawTo\" className=\"form-label\">Withdraw to</label>\n                  <select className=\"form-select\" defaultValue={externalAccounts[0]}>\n                    {externalAccounts.map((externalAccount: any, index: number) => {\n                      return (\n                        <option onSelect={() => setSelectedAccount(externalAccount)} key={index}>\n                          {externalAccount.account_type.charAt(0).toUpperCase() + externalAccount.account_type.slice(1)} {externalAccount.account_details[0].account_number.replace(/.(?=.{4,}$)/g, \"*\")}\n                        </option>\n                      )\n                    })}\n                  </select>\n                  <div className=\"my-3\">\n                    <label htmlFor=\"amount\" className=\"form-label\">Amount</label>\n                    <input type=\"number\" className=\"form-control\" id=\"amount\" onChange={(event) => setAmount(Number(event.target.value))} placeholder=\"0.00\" />\n                  </div>\n                </>\n              )\n            }\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose} disabled={transactionInProgress}>\n            Cancel\n          </Button>\n          {\n            !(new RegExp(\".*/wire\")).test(location.pathname) && (\n              <Button variant=\"primary\" onClick={transfer} disabled={transactionInProgress}>\n                {transactionInProgress && <><span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>&nbsp;</>}\n                Continue\n              </Button>\n            )\n          }\n        </Modal.Footer>\n      </Modal>\n      <Helmet>\n        <title>Probity | Manage Cash</title>\n      </Helmet>\n      <h1>Cash Account</h1>\n      <section className=\"border rounded p-5 mb-4 shadow-sm bg-white\">\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"d-flex justify-content-between mb-2 align-items-baseline\">\n              <label className=\"form-label\">Transaction History</label>\n              <div>\n                <Button className=\"mx-2\" size=\"sm\" variant=\"outline-primary\" onClick={() => handleShow(TransactionType.Deposit)}>Deposit</Button>\n                <Button size=\"sm\" variant=\"outline-primary\" onClick={() => handleShow(TransactionType.Withdrawal)}>Withdraw</Button>\n              </div>\n            </div>\n            {\n              transactions.length && !transactionsLoading ? (\n                <table className=\"table table-bordered\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">Date</th>\n                      <th scope=\"col\">Type</th>\n                      <th scope=\"col\">Amount</th>\n                      <th scope=\"col\">Status</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {transactions.map((tx: any, index: number) => {\n                      return (\n                        <tr key={index}>\n                          <td>{new Date(tx.created_at).toLocaleString()}</td>\n                          <td>{getTransactionType(tx)}</td>\n                          <td>${numbro(tx.ledger_entries[0].amount / 100).format({ mantissa: 2, thousandSeparated: true })}</td>\n                          <td>{tx.status.charAt(0).toUpperCase() + tx.status.slice(1)}</td>\n                        </tr>\n                      )\n                    })}\n                  </tbody>\n                </table>\n              ) : transactionsLoading ? (\n                <div className=\"d-flex justify-content-center align-items-center\" style={{ height: 200 }}>\n                  <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span className=\"visually-hidden\">Loading...</span>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"d-flex justify-content-center py-5 border\">\n                  <span>No transactions to display</span>\n                </div>\n              )\n            }\n          </div>\n        </div>\n      </section>\n      <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n        <div className={classnames([\"row\", externalAccounts.length ? \"\" : \"mb-4\"])}>\n          <div className=\"col-12\">\n            <label className=\"form-label\">\n              Payment Methods<br/>\n              <small className=\"form-text text-muted\">\n                Link a bank account to fund your investments\n              </small>\n            </label>\n          </div>\n        </div>\n        <div>\n        {\n          externalAccountsLoading ? (\n            <div className=\"d-flex justify-content-center align-items-center\" style={{ height: 200 }}>\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </div>\n            </div>\n          ) : (\n            <div className=\"mb-4\">\n              <pre>\n                {externalAccounts.map((externalAccount: any, index) => {\n                  return (\n                    <Card key={index} className=\"my-2\">\n                      <Card.Body>\n                        <div className=\"d-flex flex-row justify-content-between\">\n                          <div>\n                            {externalAccount.routing_details[0].bank_name}<br/>\n                            {externalAccount.account_type.charAt(0).toUpperCase() + externalAccount.account_type.slice(1)} {externalAccount.account_details[0].account_number.replace(/.(?=.{4,}$)/g, \"*\")}<br/>\n                          </div>\n                          <button className=\"btn btn-outline-secondary btn-sm\" onClick={() => removeExternalAccount(externalAccount.id)}>Remove</button>\n                        </div>\n                      </Card.Body>\n                    </Card>\n                  )\n                })}\n              </pre>\n              <button className=\"btn btn-primary float-end\" disabled={!ready} onClick={() => open()}>Add Bank Account</button>\n            </div>\n          )\n        }\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Cash;\n","import React from \"react\"\nimport numbro from \"numbro\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport NumberFormat from \"react-number-format\"\nimport PriceFeed from \"../../components/PriceFeed\";\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport AssetSelector from \"../../components/AssetSelector\";\nimport AssetContext from \"../../contexts/AssetContext\"\n\ninterface Props {\n  amount: number;\n  onAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  loading: boolean;\n  deposit: () => void;\n}\n\nfunction DepositActivity({\n  amount,\n  onAmountChange,\n  loading,\n  deposit\n}: Props) {\n  const ctx = React.useContext(AssetContext)\n  const { chainId } = useWeb3React<Web3Provider>()\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const onSelect = () => {\n    setShow(false)\n  }\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = ctx.asset || nativeTokenSymbol\n  return (\n    <>\n      <AssetSelector nativeTokenSymbol={nativeTokenSymbol} show={show} onSelect={onSelect} handleClose={handleClose} />\n      <div className=\"row mb-4\">\n        <div className=\"col-12\">\n          <label htmlFor=\"amount\" className=\"form-label\">\n            Amount<br/>\n            <small className=\"form-text text-muted\">\n              The amount of {currentAsset} to deposit\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n              min={0}\n              className=\"form-control\"\n              id=\"amount\"\n              placeholder=\"0.000000000000000000\"\n              thousandSeparator={true}\n              onChange={onAmountChange}\n              value={amount === 0 ? \"\" : numbro(amount).format({ thousandSeparated: true })}\n            />\n            <button\n              onClick={handleShow}\n              className=\"btn btn-outline-secondary font-monospace\"\n              type=\"button\"\n            >\n              {currentAsset}\n            </button>\n          </div>\n        </div>\n      </div>\n      {currentAsset !== \"USD\" && (\n        <PriceFeed amount={amount} asset={currentAsset} />\n      )}\n      <div className=\"row\">\n        <div className=\"col-12 mt-4 d-grid\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-lg\"\n            onClick={deposit}\n            disabled={amount === 0 || loading}\n          >\n            {loading ? <span className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default DepositActivity","import React from \"react\"\nimport numbro from \"numbro\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport NumberFormat from \"react-number-format\"\nimport PriceFeed from \"../../components/PriceFeed\";\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport AssetSelector from \"../../components/AssetSelector\";\nimport AssetContext from \"../../contexts/AssetContext\"\n\ninterface Props {\n  amount: number;\n  onAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  withdraw: () => void;\n  loading: boolean;\n}\n\nfunction WithdrawActivity({\n  amount,\n  onAmountChange,\n  withdraw,\n  loading\n}: Props) {\n  const ctx = React.useContext(AssetContext)\n  const { chainId } = useWeb3React<Web3Provider>()\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const onSelect = () => {\n    setShow(false)\n  }\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = ctx.asset || nativeTokenSymbol\n  return (\n    <>\n      <AssetSelector nativeTokenSymbol={nativeTokenSymbol} show={show} onSelect={onSelect} handleClose={handleClose} />\n      <div className=\"row mb-4\">\n        <div className=\"col-12\">\n          <label htmlFor=\"amount\" className=\"form-label\">\n            Amount<br/>\n            <small className=\"form-text text-muted\">\n              The amount of {currentAsset} to withdraw\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n                min={0}\n                className=\"form-control\"\n                id=\"amount\"\n                placeholder=\"0.000000000000000000\"\n                thousandSeparator={true}\n                onChange={onAmountChange}\n                value={amount === 0 ? \"\" : numbro(amount).format({ thousandSeparated: true })}\n              />\n            <button\n              onClick={handleShow}\n              className=\"btn btn-outline-secondary font-monospace\"\n              type=\"button\"\n            >\n              {currentAsset}\n            </button>\n          </div>\n        </div>\n      </div>\n      {currentAsset !== \"USD\" && (\n        <PriceFeed amount={amount} asset={currentAsset} />\n      )}\n      <div className=\"row\">\n        <div className=\"col-12 mt-4 d-grid\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-lg\"\n            onClick={withdraw}\n            disabled={amount === 0 || loading}\n          >\n            {loading ? <span className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default WithdrawActivity","import React, { useContext } from 'react';\nimport numbro from \"numbro\"\nimport useSWR from 'swr';\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Contract, utils } from \"ethers\";\nimport web3 from \"web3\";\nimport { Helmet } from \"react-helmet-async\";\nimport fetcher from \"../../fetcher\";\nimport { Activity as ActivityType } from \"../../types\";\nimport Activity from \"../../containers/Activity\";\nimport { WAD, CONTRACTS } from '../../constants';\nimport Info from '../../components/Info';\nimport EventContext from \"../../contexts/TransactionContext\"\nimport AssetContext from \"../../contexts/AssetContext\"\nimport DepositActivity from './DepositActivity';\nimport WithdrawActivity from './WithdrawActivity';\nimport { getNativeTokenSymbol } from '../../utils';\n\nfunction Crypto({ user, auth }: any) {\n  const location = useLocation();\n  const { account, active, library, chainId } = useWeb3React<Web3Provider>()\n  const [activity, setActivity] = React.useState<ActivityType|null>(null);\n  const [error, setError] = React.useState<any|null>(null);\n  const [amount, setAmount] = React.useState(0);\n  const [loading, setLoading] = React.useState(false);\n  const ctx = useContext(EventContext)\n  const assetContext = useContext(AssetContext)\n\n  const { mutate: mutateVault } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'vaults', utils.id(getNativeTokenSymbol(chainId!)), account], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n  const { mutate: mutateBalance } = useSWR([\"getBalance\", account, \"latest\"])\n\n  // Set activity by the path\n  React.useEffect(() => {\n    if (location.pathname === \"/crypto-management/deposit\") setActivity(ActivityType.Deposit);\n    if (location.pathname === \"/crypto-management/withdraw\") setActivity(ActivityType.Withdraw);\n  }, [location])\n\n  const deposit = async () => {\n    if (library && account) {\n      try {\n        const currentAsset = assetContext.asset\n        let contract, args\n        let _amount = WAD.mul(amount)\n\n        // Check token type (native token or ERC20 token)\n        if ([\"C2FLR\", \"FLR\", \"SGB\", \"XRP\", \"ETH\"].includes(currentAsset)) {\n          // Native Token\n          const nativeAssetManager = CONTRACTS[chainId!].NATIVE_ASSET_MANAGER\n          contract = new Contract(nativeAssetManager.address, nativeAssetManager.abi, library.getSigner())\n          args = [{\n            gasLimit: web3.utils.toWei('300000', 'wei'),\n            maxFeePerGas: 25 * 1e9,\n            value: _amount\n          }]\n        } else {\n          // ERC20 Token\n          const assetManager = CONTRACTS[chainId!][`${currentAsset}_MANAGER`]\n          contract = new Contract(assetManager.address, assetManager.abi, library.getSigner())\n\n          args = [\n            _amount,\n            {\n              gasLimit: web3.utils.toWei('300000', 'wei'),\n              maxFeePerGas: 25 * 1e9,\n            },\n          ]\n\n          // ERC20 allowance check\n          const erc20 = new Contract(CONTRACTS[chainId!].USD.address, CONTRACTS[chainId!].USD.abi, library.getSigner())\n          let result = await erc20.allowance(account, assetManager.address);\n          const allowance = result\n          console.log(\"Allowance:\", allowance.toString())\n          console.log(\"owner:\", account)\n          console.log(\"spender:\", assetManager.address)\n\n          // ERC20 balance check\n          result = await erc20.callStatic.balanceOf(account)\n          result = await erc20.balanceOf(account);\n          const balance = result\n          console.log(\"Balance:  \", balance.toString())\n\n          // ERC20 approve transaction\n          if (allowance.lt(_amount)) {\n            console.log(\"Creating allowance...\")\n            result = await erc20.callStatic.approve(\n              assetManager.address,\n              _amount,\n              {\n                gasLimit: web3.utils.toWei('300000', 'wei'),\n                maxFeePerGas: 25 * 1e9,\n              }\n            )\n            result = await erc20.approve(\n              assetManager.address,\n              _amount,\n              {\n                gasLimit: web3.utils.toWei('300000', 'wei'),\n                maxFeePerGas: 25 * 1e9,\n              }\n            );\n            const tx = await result.wait();\n            console.log(\"tx\", tx)\n          }\n        }\n\n        setLoading(true)\n\n        // Deposit asset\n        console.log(\"Depositing asset...\")\n        await contract.callStatic.deposit(...args)\n        const result = await contract.deposit(...args);\n        const data = await result.wait();\n        ctx.updateTransactions(data);\n        mutateVault(undefined, true)\n        mutateBalance(undefined, true)\n        setAmount(0)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n    }\n\n    setLoading(false)\n  }\n\n  const withdraw = async () => {\n    if (library && account) {\n      const nativeToken = new Contract(CONTRACTS[chainId!].NATIVE_ASSET_MANAGER.address, CONTRACTS[chainId!].NATIVE_ASSET_MANAGER.abi, library.getSigner())\n      setLoading(true)\n\n      try {\n        // Withdraw asset\n        const args = [WAD.mul(amount)]\n        await nativeToken.callStatic.withdraw(...args)\n        const result = await nativeToken.withdraw(...args);\n        const data = await result.wait();\n        ctx.updateTransactions(data);\n        mutateVault(undefined, true)\n        mutateBalance(undefined, true)\n        setAmount(0)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n\n      setLoading(false)\n    }\n  }\n\n  const onAmountChange = (event: any) => {\n    let delta\n    if (!event.target.value) delta = 0\n    else delta = Number(numbro.unformat(event.target.value));\n    setAmount(delta);\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Probity | Manage Crypto</title>\n      </Helmet>\n      <header>\n        <h1>Crypto Management</h1>\n        {active && <Info />}\n      </header>\n      <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n        <div className=\"col-md-12 col-lg-8 offset-lg-2\">\n          {/* Activity Navigation */}\n          <div>\n            <ul className=\"nav nav-pills nav-justified\">\n              <li className=\"nav-item\">\n                <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/crypto-management/deposit\"} onClick={() => { setActivity(ActivityType.Borrow); setAmount(0) }}>Deposit</NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/crypto-management/withdraw\"} onClick={() => { setActivity(ActivityType.Repay); setAmount(0) }}>Withdraw</NavLink>\n              </li>\n            </ul>\n          </div>\n          <hr />\n          {/* Activities */}\n          <Activity active={active} activity={activity} error={error}>\n            <>\n            {\n              activity === ActivityType.Deposit && (\n                <DepositActivity\n                  amount={amount}\n                  loading={loading}\n                  onAmountChange={onAmountChange}\n                  deposit={deposit}\n                />\n              )\n            }\n            {\n              activity === ActivityType.Withdraw && (\n                <WithdrawActivity\n                  amount={amount}\n                  onAmountChange={onAmountChange}\n                  loading={loading}\n                  withdraw={withdraw}\n                />\n              )\n            }\n            </>\n          </Activity>\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Crypto;","import React from \"react\"\nimport numbro from \"numbro\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport NumberFormat from \"react-number-format\"\nimport PriceFeed from \"../../components/PriceFeed\";\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport AssetSelector from \"../../components/AssetSelector\";\nimport AssetContext from \"../../contexts/AssetContext\"\n\ninterface Props {\n  amount: number;\n  onAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  loading: boolean;\n  deposit: () => void;\n}\n\nfunction DepositActivity({\n  amount,\n  onAmountChange,\n  loading,\n  deposit\n}: Props) {\n  const ctx = React.useContext(AssetContext)\n  const { chainId } = useWeb3React<Web3Provider>()\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const onSelect = () => {\n    setShow(false)\n  }\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = ctx.asset || nativeTokenSymbol\n  return (\n    <>\n      <AssetSelector nativeTokenSymbol={nativeTokenSymbol} show={show} onSelect={onSelect} handleClose={handleClose} />\n      <div className=\"row mb-4\">\n        <div className=\"col-12\">\n          <label htmlFor=\"amount\" className=\"form-label\">\n            Amount<br/>\n            <small className=\"form-text text-muted\">\n              The amount of {currentAsset} to deposit\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n              min={0}\n              className=\"form-control\"\n              id=\"amount\"\n              placeholder=\"0.000000000000000000\"\n              thousandSeparator={true}\n              onChange={onAmountChange}\n              value={amount === 0 ? \"\" : numbro(amount).format({ thousandSeparated: true })}\n            />\n            <button\n              onClick={handleShow}\n              className=\"btn btn-outline-secondary font-monospace\"\n              type=\"button\"\n            >\n              {currentAsset}\n            </button>\n          </div>\n        </div>\n      </div>\n      {currentAsset !== \"USD\" && (\n        <PriceFeed amount={amount} asset={currentAsset} />\n      )}\n      <div className=\"row\">\n        <div className=\"col-12 mt-4 d-grid\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-lg\"\n            onClick={deposit}\n            disabled={amount === 0 || loading}\n          >\n            {loading ? <span className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default DepositActivity","import React from \"react\"\nimport numbro from \"numbro\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport NumberFormat from \"react-number-format\"\nimport PriceFeed from \"../../components/PriceFeed\";\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport AssetSelector from \"../../components/AssetSelector\";\nimport AssetContext from \"../../contexts/AssetContext\"\n\ninterface Props {\n  amount: number;\n  onAmountChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  withdraw: () => void;\n  loading: boolean;\n}\n\nfunction WithdrawActivity({\n  amount,\n  onAmountChange,\n  withdraw,\n  loading\n}: Props) {\n  const ctx = React.useContext(AssetContext)\n  const { chainId } = useWeb3React<Web3Provider>()\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const onSelect = () => {\n    setShow(false)\n  }\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = ctx.asset || nativeTokenSymbol\n  return (\n    <>\n      <AssetSelector nativeTokenSymbol={nativeTokenSymbol} show={show} onSelect={onSelect} handleClose={handleClose} />\n      <div className=\"row mb-4\">\n        <div className=\"col-12\">\n          <label htmlFor=\"amount\" className=\"form-label\">\n            Amount<br/>\n            <small className=\"form-text text-muted\">\n              The amount of {currentAsset} to withdraw\n            </small>\n          </label>\n          <div className=\"input-group\">\n            <NumberFormat\n                min={0}\n                className=\"form-control\"\n                id=\"amount\"\n                placeholder=\"0.000000000000000000\"\n                thousandSeparator={true}\n                onChange={onAmountChange}\n                value={amount === 0 ? \"\" : numbro(amount).format({ thousandSeparated: true })}\n              />\n            <button\n              onClick={handleShow}\n              className=\"btn btn-outline-secondary font-monospace\"\n              type=\"button\"\n            >\n              {currentAsset}\n            </button>\n          </div>\n        </div>\n      </div>\n      {currentAsset !== \"USD\" && (\n        <PriceFeed amount={amount} asset={currentAsset} />\n      )}\n      <div className=\"row\">\n        <div className=\"col-12 mt-4 d-grid\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-lg\"\n            onClick={withdraw}\n            disabled={amount === 0 || loading}\n          >\n            {loading ? <span className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default WithdrawActivity","import React, { useContext } from 'react';\nimport numbro from \"numbro\"\nimport useSWR from 'swr';\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Contract, utils } from \"ethers\";\nimport web3 from \"web3\";\nimport { Helmet } from \"react-helmet-async\";\nimport fetcher from \"../../fetcher\";\nimport { Activity as ActivityType } from \"../../types\";\nimport Activity from \"../../containers/Activity\";\nimport { WAD, CONTRACTS } from '../../constants';\nimport Info from '../../components/Info';\nimport EventContext from \"../../contexts/TransactionContext\"\nimport AssetContext from \"../../contexts/AssetContext\"\nimport DepositActivity from './DepositActivity';\nimport WithdrawActivity from './WithdrawActivity';\nimport { getNativeTokenSymbol } from '../../utils';\n\nfunction Collateral() {\n  const location = useLocation();\n  const { account, active, library, chainId } = useWeb3React<Web3Provider>()\n  const [activity, setActivity] = React.useState<ActivityType|null>(null);\n  const [error, setError] = React.useState<any|null>(null);\n  const [amount, setAmount] = React.useState(0);\n  const [loading, setLoading] = React.useState(false);\n  const ctx = useContext(EventContext)\n  const assetContext = useContext(AssetContext)\n\n  const { mutate: mutateVault } = useSWR([CONTRACTS[chainId!].VAULT_ENGINE.address, 'vaults', utils.id(getNativeTokenSymbol(chainId!)), account], {\n    fetcher: fetcher(library, CONTRACTS[chainId!].VAULT_ENGINE.abi),\n  })\n  const { mutate: mutateBalance } = useSWR([\"getBalance\", account, \"latest\"])\n\n  // Set activity by the path\n  React.useEffect(() => {\n    if (location.pathname === \"/collateral-management/deposit\") setActivity(ActivityType.Deposit);\n    if (location.pathname === \"/collateral-management/withdraw\") setActivity(ActivityType.Withdraw);\n  }, [location])\n\n  const deposit = async () => {\n    if (library && account) {\n      try {\n        const currentAsset = assetContext.asset\n        let contract, args\n        let _amount = WAD.mul(amount)\n\n        // Check token type (native token or ERC20 token)\n        if ([\"CFLR\", \"FLR\", \"SGB\", \"XRP\", \"ETH\"].includes(currentAsset)) {\n          // Native Token\n          const nativeAssetManager = CONTRACTS[chainId!].NATIVE_ASSET_MANAGER\n          contract = new Contract(nativeAssetManager.address, nativeAssetManager.abi, library.getSigner())\n          args = [{\n            gasLimit: web3.utils.toWei('300000', 'wei'),\n            maxFeePerGas: 25 * 1e9,\n            value: _amount\n          }]\n        } else {\n          // ERC20 Token\n          const assetManager = CONTRACTS[chainId!][`${currentAsset}_MANAGER`]\n          contract = new Contract(assetManager.address, assetManager.abi, library.getSigner())\n\n          args = [\n            _amount,\n            {\n              gasLimit: web3.utils.toWei('300000', 'wei'),\n              maxFeePerGas: 25 * 1e9,\n            },\n          ]\n\n          // ERC20 allowance check\n          const erc20 = new Contract(CONTRACTS[chainId!].USD.address, CONTRACTS[chainId!].USD.abi, library.getSigner())\n          let result = await erc20.allowance(account, assetManager.address);\n          const allowance = result\n          console.log(\"Allowance:\", allowance.toString())\n          console.log(\"owner:\", account)\n          console.log(\"spender:\", assetManager.address)\n\n          // ERC20 balance check\n          result = await erc20.callStatic.balanceOf(account)\n          result = await erc20.balanceOf(account);\n          const balance = result\n          console.log(\"Balance:  \", balance.toString())\n\n          // ERC20 approve transaction\n          if (allowance.lt(_amount)) {\n            console.log(\"Creating allowance...\")\n            result = await erc20.callStatic.approve(\n              assetManager.address,\n              _amount,\n              {\n                gasLimit: web3.utils.toWei('300000', 'wei'),\n                maxFeePerGas: 25 * 1e9,\n              }\n            )\n            result = await erc20.approve(\n              assetManager.address,\n              _amount,\n              {\n                gasLimit: web3.utils.toWei('300000', 'wei'),\n                maxFeePerGas: 25 * 1e9,\n              }\n            );\n            const tx = await result.wait();\n            console.log(\"tx\", tx)\n          }\n        }\n\n        setLoading(true)\n\n        // Deposit asset\n        console.log(\"Depositing asset...\")\n        await contract.callStatic.deposit(...args)\n        const result = await contract.deposit(...args);\n        const data = await result.wait();\n        ctx.updateTransactions(data);\n        mutateVault(undefined, true)\n        mutateBalance(undefined, true)\n        setAmount(0)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n    }\n\n    setLoading(false)\n  }\n\n  const withdraw = async () => {\n    if (library && account) {\n      const nativeToken = new Contract(CONTRACTS[chainId!].NATIVE_ASSET_MANAGER.address, CONTRACTS[chainId!].NATIVE_ASSET_MANAGER.abi, library.getSigner())\n      setLoading(true)\n\n      try {\n        // Withdraw asset\n        const args = [WAD.mul(amount)]\n        await nativeToken.callStatic.withdraw(...args)\n        const result = await nativeToken.withdraw(...args);\n        const data = await result.wait();\n        ctx.updateTransactions(data);\n        mutateVault(undefined, true)\n        mutateBalance(undefined, true)\n        setAmount(0)\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n\n      setLoading(false)\n    }\n  }\n\n  const onAmountChange = (event: any) => {\n    let delta\n    if (!event.target.value) delta = 0\n    else delta = Number(numbro.unformat(event.target.value));\n    setAmount(delta);\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Probity | Manage Collateral</title>\n      </Helmet>\n      <header>\n        <h1>Collateral Management</h1>\n        {active && <Info />}\n      </header>\n      <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n        <div className=\"col-md-12 col-lg-8 offset-lg-2\">\n          {/* Activity Navigation */}\n          <div>\n            <ul className=\"nav nav-pills nav-justified\">\n              <li className=\"nav-item\">\n                <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/collateral-management/deposit\"} onClick={() => { setActivity(ActivityType.Borrow); setAmount(0) }}>Deposit</NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/collateral-management/withdraw\"} onClick={() => { setActivity(ActivityType.Repay); setAmount(0) }}>Withdraw</NavLink>\n              </li>\n            </ul>\n          </div>\n          <hr />\n          {/* Activities */}\n          <Activity active={active} activity={activity} error={error}>\n            <>\n            {\n              activity === ActivityType.Deposit && (\n                <DepositActivity\n                  amount={amount}\n                  loading={loading}\n                  onAmountChange={onAmountChange}\n                  deposit={deposit}\n                />\n              )\n            }\n            {\n              activity === ActivityType.Withdraw && (\n                <WithdrawActivity\n                  amount={amount}\n                  onAmountChange={onAmountChange}\n                  loading={loading}\n                  withdraw={withdraw}\n                />\n              )\n            }\n            </>\n          </Activity>\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Collateral;\n","import { useWeb3React } from '@web3-react/core';\nimport axios from 'axios';\nimport React from 'react';\nimport { Helmet } from \"react-helmet-async\";\n\nfunction Profile({ user, auth }: { user: any, auth: any }) {\n  const [address, setAddress] = React.useState(\"\")\n  const [proposedAddress, setProposedAddress] = React.useState(\"\")\n  const { account } = useWeb3React()\n\n  /**\n   * Fetch/set user address\n   */\n  React.useEffect(() => {\n    (async () => {\n      if (process.env.REACT_APP_REQUIRE_AUTH && user) {\n        try {\n          const response = await axios(`http://localhost:8080/v1/users/${user.id}`, {\n            method: \"GET\",\n            headers: {\n              \"Authorization\": `Bearer ${auth.token}`\n            }\n          })\n          if (response.status === 200) {\n            if (response.data.address) setAddress(response.data.address)\n          }\n        } catch (error) {\n          console.error(error)\n        }\n      }\n    })()\n  }, [user, auth, address])\n\n  /**\n   * Saves user address\n   */\n  const onSubmit = async () => {\n    try {\n      const response = await axios(`http://localhost:8080/v1/users/${user.id}`, {\n        method: \"PATCH\",\n        data: {\n          address: proposedAddress,\n        },\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${auth.token}`\n        }\n      })\n      if (response.status === 200) {\n        setAddress(proposedAddress)\n      }\n    } catch (error) {\n      const message = (error as any)?.response.data\n      if (message) alert(message)\n    }\n  }\n\n  return (\n    <>       \n      <Helmet>\n        <title>Probity | User Profile</title>\n      </Helmet>\n      <h1>Profile</h1>\n      <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n        <div className=\"row mb-4\">\n          <div className=\"col-12\">\n            <label htmlFor=\"address\" className=\"form-label\">\n              Authorized Address<br/>\n              <small className=\"form-text text-muted\">\n                This address is allowed to use Probity (cannot be modified)\n              </small>\n            </label>\n            {\n              address ? (\n                <input className=\"form-control\" value={address} readOnly />\n              ) : (\n                <input className=\"form-control\" placeholder={account?.toString()} value={proposedAddress} onChange={(event) => setProposedAddress(event.target.value) } />\n              )\n            }\n          </div>\n        </div>\n        {\n          address ? (null) : (\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <button\n                  onClick={onSubmit}\n                  className=\"btn btn-outline-secondary\"\n                  type=\"button\"\n                >\n                  Submit\n                </button>\n              </div>\n            </div>\n          )\n        }\n      </section>\n    </>\n  );\n}\n\nexport default Profile;\n","import { Contract, utils } from \"ethers\"\nimport Web3 from \"web3\"\nimport React, { useContext } from \"react\"\nimport numbro from \"numbro\"\nimport { Accordion, useAccordionButton } from \"react-bootstrap\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport Info from '../../components/Info';\nimport EventContext from \"../../contexts/TransactionContext\"\nimport { CONTRACTS, RAY, WAD } from \"../../constants\";\nimport { getAssetId } from \"../../utils\";\nimport { formatOptions } from \"../../constants\";\n\nfunction RowToggle({ eventKey, name, tx }: any) {\n  const decoratedOnClick = useAccordionButton(eventKey);\n\n  return (\n    <div className=\"container-fluid border bg-light py-2\">\n      <div\n        className=\"row d-flex text-center\"\n        role=\"button\"\n        onClick={decoratedOnClick}\n      >\n        <div className=\"col-3\"><span className=\"badge rounded-pill bg-primary\">{name}</span></div>\n        <div className=\"col-1\">{tx.blockNumber}</div>\n        <div className=\"col-8 text-truncate\">\n          <a href={`https://coston-explorer.flare.network/tx/${tx.transactionHash}`} target=\"blank\">\n            <code>{tx.transactionHash}</code>\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function Transactions() {\n  const web3 = new Web3(Web3.givenProvider || \"http://localhost:9560/ext/bc/C/rpc\");\n  const { active, library, chainId } = useWeb3React<Web3Provider>();\n  const ctx = useContext(EventContext)\n\n  let rows = ctx.transactions.map((tx: any, index) => {\n    return tx.logs.map((element: any, idx: number) => {\n      try {\n        const checksumAddress = web3.utils.toChecksumAddress(element.address)\n        const contract = new Contract(element.address, CONTRACTS[chainId!].INTERFACES[checksumAddress].abi, library?.getSigner())\n        let log = contract.interface.parseLog(element);\n        const name = log.name\n        const key = `${index}${idx}`\n        return (\n          <React.Fragment key={(key)}>\n            <RowToggle eventKey={(key).toString()} name={name} tx={tx} />\n            {\n              (name === \"DepositNativeCrypto\" || name === \"WithdrawNativeCrypto\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Amount: {numbro(utils.formatEther(log.args.amount).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"DepositToken\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Token: {log.args.token}</div>\n                    <div>Amount: {numbro(utils.formatEther(log.args.amount).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"EquityModified\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>ΔEquity: {numbro(utils.formatEther(log.args.equityAmount.div(RAY)).toString()).format(formatOptions)}</div>\n                    <div>ΔUnderlying: {numbro(utils.formatEther(log.args.underlyingAmount).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"DebtModified\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>ΔDebt: {numbro(utils.formatEther(log.args.debtAmount.div(RAY)).toString()).format(formatOptions)}</div>\n                    <div>ΔCollateral: {numbro(utils.formatEther(log.args.collAmount).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"WithdrawSystemCurrency\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Amount: {numbro(utils.formatEther(log.args.amount).toString()).format(formatOptions)} USD</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"Approval\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Spender: {log.args.spender}</div>\n                    <div>Value: {numbro(log.args.value.div(WAD).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"Transfer\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"p-4\">\n                    <div>From: {log.args.from}</div>\n                    <div>To: {log.args.to}</div>\n                    <div>Amount: {numbro(utils.formatEther(log.args.value.toString()).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"IssuancePending\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Issuer: {log.args.issuer}</div>\n                    <div>Amount: {numbro(utils.formatEther(log.args.amount).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"IssuanceCompleted\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Issuer: {log.args.issuer}</div>\n                    <div>Amount: {numbro(utils.formatEther(log.args.amount).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"IssuanceCanceled\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Issuer: {log.args.issuer}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"ReservationCreated\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"p-4\">\n                    <div>Issuer: {log.args.issuer}</div>\n                    <div>Source: {log.args.source}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"RedemptionCompleted\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"p-4\"></div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"WithdrawPbt\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Amount: {numbro(utils.formatEther(log.args.amount).toString()).format(formatOptions)} PBT</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"InterestCollected\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Amount: {numbro(utils.formatEther(log.args.interestAmount).toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"AuctionStarted\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>ID: {log.args.auctionId.toString()}</div>\n                    <div>Lot Size: {numbro(utils.formatEther(log.args.lotSize).toString()).format(formatOptions)} {getAssetId(log.args.collId.toString())}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"SupplyModified\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"d-flex justify-content-around p-4\">\n                    <div>Issuer: {log.args.issuer}</div>\n                    <div>Beneficiary: {log.args.holder}</div>\n                    <div>Amount: {numbro(log.args.amount.toString()).format(formatOptions)}</div>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n            {\n              (name === \"Log\") && (\n                <Accordion.Collapse eventKey={(key).toString()} className=\"border\">\n                  <div className=\"p-4\">\n                    <pre>{JSON.stringify(log.args, null, 2)}</pre>\n                  </div>\n                </Accordion.Collapse>\n              )\n            }\n          </React.Fragment>\n        )\n      } catch (error) {\n        console.error(error)\n        return []\n      }\n    });\n  })\n\n  return (\n    <>\n      <header>\n        <h1>Transaction History</h1>\n        {active && <Info />}\n      </header>\n      <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n        <div className=\"table-responsive\">\n          {rows.length === 0 ? (\n            <div className=\"py-5\">\n              <span className=\"d-flex justify-content-center align-items-center\">\n                No transactions to display\n              </span>\n            </div>\n          ) : (\n            <Accordion defaultActiveKey={\"0\"}>\n              <div className=\"border container-fluid p-3\">\n                <div className=\"row d-flex text-center\">\n                  <div className=\"col-3\">Event Type</div>\n                  <div className=\"col-1\">Block</div>\n                  <div className=\"col-8\">Transaction Hash</div>\n                </div>\n              </div>\n              {rows}\n            </Accordion>\n          )}\n        </div>\n      </section>\n    </>\n  );\n}","import React, { useContext } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport { Button, Form, Modal, Row, Col, Container } from \"react-bootstrap\"\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport Web3 from \"web3\"\nimport QRCode from \"react-qr-code\";\n// import QRCodeModal from \"@walletconnect/qrcode-modal\";\nimport SignClient from \"@walletconnect/sign-client\";\n// import { PairingTypes, SessionTypes } from \"@walletconnect/types\";\n// import * as solaris from \"@trustline-inc/solaris\"\nimport Info from '../../components/Info';\nimport { Contract } from \"ethers\";\nimport {\n  PROJECT_ID,\n  DEFAULT_APP_METADATA,\n  // DEFAULT_LOGGER,\n  DEFAULT_METHODS,\n  // DEFAULT_RELAY_PROVIDER,\n  CONTRACTS,\n} from '../../constants';\nimport EventContext from \"../../contexts/TransactionContext\"\nimport { Activity as ActivityType } from \"../../types\";\nimport Activity from \"../../containers/Activity\";\n\nexport default function Transfers() {\n  const location = useLocation();\n  const storage = localStorage.getItem('probity-transfer')\n  const [transfer] = React.useState<any>()\n  const [transferData, setTransferData] = React.useState<any>(\n    storage ? JSON.parse(storage) : null\n  );\n  const [activity, setActivity] = React.useState<ActivityType|null>(null);\n  const [verifiedIssuers] = React.useState<any>([])\n  const [session, setSession] = React.useState<any|undefined>()\n  const [pairings] = React.useState<any|string[]|undefined>()\n  const [transferInProgress, setTransferInProgress] = React.useState(false)\n  const [loading, setLoading] = React.useState(false)\n  const [issuerAddress, setIssuerAddress] = React.useState(\"\");\n  const [receiverAddress, setReceiverAddress] = React.useState(\"\");\n  const [transactionID, setTransactionID] = React.useState(\"\");\n  const [transferAmount, setTransferAmount] = React.useState(0);\n  const [error, setError] = React.useState<any|null>(null);\n  const [transferStage, setTransferStage] = React.useState(transferData?.stage || \"\")\n  const [showTransferModal, setShowTransferModal] = React.useState(false);\n  const [transferModalBody, setTransferModalBody] = React.useState<any>();\n  const [xrpAddress, setXrpAddress] = React.useState(\"\")\n  const { account, active, library, chainId } = useWeb3React<Web3Provider>()\n  const web3 = new Web3(Web3.givenProvider || \"http://127.0.0.1:9650/ext/bc/C/rpc\");\n  const [client, setClient] = React.useState<SignClient>()\n  const ctx = useContext(EventContext)\n\n  // Transfer modal\n  const handleCloseTransferModal = () => { setShowTransferModal(false); setTransferInProgress(false) };\n\n  // Set activity by the path\n  React.useEffect(() => {\n    if (location.pathname === \"/transfer/outbound\") setActivity(ActivityType.OutboundTransfer);\n    if (location.pathname === \"/transfer/inbound\") setActivity(ActivityType.InboundTransfer);\n  }, [location])\n\n  /**\n   * Initializes the WalletConnect client and subscribe to events\n   */\n  React.useEffect(() => {\n    (async () => {\n      try {\n        if (!client) {\n          console.log(\"Intializing client\")\n          const _client = await SignClient.init({\n            projectId: PROJECT_ID,\n            metadata: DEFAULT_APP_METADATA\n          });\n\n          _client.on(\"session_event\", ({ event }: any) => {\n            // Handle session events, such as \"chainChanged\", \"accountsChanged\", etc.\n          });\n          \n          _client.on(\"session_update\", ({ topic, params }) => {\n            const { namespaces } = params;\n            const _session = _client.session.get(topic);\n            // Overwrite the `namespaces` of the existing session with the incoming one.\n            const updatedSession = { ..._session, namespaces };\n            // Integrate the updated session state into your dapp state.\n            onSessionUpdate(updatedSession);\n          });\n          \n          _client.on(\"session_delete\", () => {\n            // Session was deleted -> reset the dapp state, clean up from user session, etc.\n          });\n\n          setClient(_client)\n        }\n      } catch (error) {\n        console.log(\"connection error\")\n        alert(JSON.stringify(error))\n        console.error(error)\n      }\n    })()\n\n    return () => {\n      console.log(\"cleaning up\")\n      if (client && session) {\n        console.log(\"attempting disconnect\")\n        // client.disconnect({\n        //   topic: (session as any).topic,\n        //   reason: ERROR.USER_DISCONNECTED.format(),\n        // });\n      }\n    }\n  }, [session, pairings, client])\n\n  /**\n   * Save every update to the current transfer\n   */\n  React.useEffect(() => {\n    if (transferData === null) return localStorage.removeItem(\"probity-transfer\")\n    localStorage.setItem(\"probity-transfer\", JSON.stringify(transferData));\n    console.log(\"transferData updated:\", transferData)\n  }, [transferData]);\n\n  /**\n   * Only triggers on page load. Gets redemption reservations and valid issuers.\n   */\n  React.useEffect(() => {\n    // Get redemption reservations\n    const _transfer = localStorage.getItem(\"probity-transfer\")\n    if (_transfer && JSON.parse(_transfer)?.reservation) {\n      console.log(\"reservation found\", JSON.parse(_transfer)?.reservation)\n    }\n\n    (async () => {\n      // Get verified issuers\n      // try {\n      //   const solaris = new Contract(CONTRACTS[chainId!].BRIDGE.address, CONTRACTS[chainId!].BRIDGE.abi, library)\n      //   const _verifiedIssuers = await solaris.getVerifiedIssuers()\n      //   setVerifiedIssuers(_verifiedIssuers)\n      // } catch (error) {\n      //   console.error(error)\n      // }\n    })()\n  }, [library])\n\n  const showQRCode = () => {\n    setTransferStage(\"INBOUND_APEX_DEMO\")\n    setShowTransferModal(true)\n  }\n\n  /**\n   * Input event handlers\n   */\n\n  const onTransferAmountChange = (event: any) => {\n    const amount = event.target.value;\n    setTransferAmount(amount);\n  }\n\n  const onXrpAddressChange = (event: any) => {\n    let address = event.target.value\n    setXrpAddress(address)\n  }\n\n  /**\n   * @function connect\n   * @param pairing \n   * Connects to relay server and awaits for session establishment.\n   */\n  const connect = async (pairing?: { topic: string }) => {\n    console.log(\"Connecting to relay server\")\n    if (typeof client === \"undefined\") {\n      throw new Error(\"WalletConnect is not initialized\");\n    }\n\n    try {\n      const methods: string[] = DEFAULT_METHODS.flat()\n      const { uri, approval } = await client.connect({\n        requiredNamespaces: {\n          xrpl: {\n            methods,\n            events: [],\n            chains: [\"xrpl:1\", \"xrpl:2\"]\n          }\n        },\n        pairingTopic: pairing?.topic\n      });\n\n      // Open QRCode modal if a URI was returned (i.e. we're not connecting an existing pairing).\n      if (uri) {\n        // QRCodeModal.open(uri, () => {\n        //   console.log(\"EVENT\", \"QR Code Modal closed\");\n        // });\n      }\n\n      // Await session approval from the wallet.\n      const session = await approval();\n      // Handle the returned session (e.g. update UI to \"connected\" state).\n      await onSessionConnected(session);\n    } catch (e) {\n      // ignore rejection\n      console.error(e)\n    } finally {\n      // QRCodeModal.close();\n      setLoading(false)\n    }\n\n  };\n\n  /**\n   * @function disconnect\n   * Ends session and disconnects from the relay server.\n   */\n  // const disconnect = async () => {\n  //   if (typeof client === \"undefined\") {\n  //     throw new Error(\"WalletConnect is not initialized\");\n  //   }\n  //   if (typeof session === \"undefined\") {\n  //     throw new Error(\"Session is not connected\");\n  //   }\n  //   // await client.disconnect({\n  //   //   topic: (session as any).topic,\n  //   //   reason: ERROR.USER_DISCONNECTED.format(),\n  //   // });\n  //   console.log(\"disconnected\")\n  // };\n\n  /**\n   * @function onSessionConnected\n   * @param _session\n   * Runs when WalletConnect session is created. Called in `connect`.\n   */\n  const onSessionConnected = async (_session: any) => {\n    console.log(\"Connected to session\", _session)\n    setSession(_session)\n    onSessionUpdate(_session);\n\n    // Make RPC request\n    const success = await client?.request({\n      topic: _session.topic,\n      chainId: \"xrpl:2\",\n      request: {\n        method: \"createTrustLine\",\n        params: [\n          issuerAddress,\n          \"USD\"\n        ],\n      },\n    });\n\n    // If success is true, then the trust line was created\n    if (success) {\n      // Display modal for token issuance\n      setShowTransferModal(true)\n      setTransferStage(\"OUTBOUND_TOKEN_ISSUANCE\")\n      setTransferData({\n        ...transferData,\n        stage: \"OUTBOUND_TOKEN_ISSUANCE\"\n      })\n      setTransferModalBody(\n        <>\n          <p>\n            Issue precisely {transferAmount} USD from the issuing account to the receiving account.\n          </p>\n          <div>\n            From: <code>{issuerAddress}</code><br/>\n            To:   <code>{receiverAddress}</code>\n          </div>\n          <p className=\"mt-3\">\n            We recommend you use <a href=\"https://graph.trustline.co\" target=\"blank\">XRPL Composer</a> to issue the tokens from the <i>Validate</i> tab.\n          </p>\n        </>\n      )\n    } else {\n      // TODO: Handle request failure.\n      console.error(\"Session request failed.\")\n    }\n\n  };\n\n  const onSessionUpdate = async (sessionUpdate: any) => {\n    console.log(\"sessionUpdate\", sessionUpdate)\n  };\n\n  /**\n   * @function openOutboundTransferModal\n   * Opens the transfer modal at the current stage\n   */\n  const openOutboundTransferModal = async () => {\n    switch (transferStage) {\n      case \"OUTBOUND_PENDING\":\n        await permitBridgeSpending()\n        break;\n      case \"OUTBOUND_IN_PROGRESS\":\n        await createTrustLine()\n        break;\n      default:\n        await permitBridgeSpending()\n        break;\n    }\n  }\n\n  /**\n   * @function openInboundTransferModal\n   * Opens the transfer modal at the current stage\n   */\n     const openInboundTransferModal = async () => {\n      switch (transferStage) {\n        case \"INBOUND_REDEMPTION_RESERVATION\":\n          await prepareRedemption()\n          break;\n        case \"INBOUND_REDEMPTION_TRANSACTION\":\n          await requestXrplRedemptionTransaction()\n          break;\n        default:\n          await showQRCode()\n          break;\n      }\n    }\n\n  /**\n   * @function getStageReadableName\n   * Returns a human-readable string for the stage\n   */\n  const getStageReadableName = () => {\n    switch (transferStage) {\n      case \"OUTBOUND_PERMIT\":\n        return \"Outbound Transfer Approval\"\n      case \"OUTBOUND_PENDING\":\n        return \"Outbound Transfer Pending\"\n      case \"OUTBOUND_IN_PROGRESS\":\n        return \"Outbound Transfer In-Progress\"\n      case \"OUTBOUND_TOKEN_ISSUANCE\":\n        return \"Token Issuance\"\n      case \"OUTBOUND_COMPLETED\":\n        return \"Outbound Transfer Complete\"\n      case \"INBOUND_REDEMPTION_RESERVATION\":\n        return \"Inbound Transfer Reservation\"\n      case \"INBOUND_REDEMPTION_TRANSACTION\":\n        return \"Inbound Transfer Transaction\"\n      case \"INBOUND_APEX_DEMO\":\n        return \"Inbound Transfer Transaction\"\n      default:\n        return \"Loading...\"\n    }\n  }\n\n  /**\n   * @function permitBridgeSpending\n   * Creates Bridge ERC20 allowance\n   */\n  const permitBridgeSpending = async () => {\n    try {\n      setTransferInProgress(true)\n      setShowTransferModal(true)\n      setReceiverAddress(xrpAddress)\n\n      if (library && account) {\n        console.log(\"Creating Transfer object\")\n        // const _transfer = new solaris.Transfer({\n        //   direction: {\n        //     source: \"LOCAL\",\n        //     destination: \"XRPL_TESTNET\"\n        //   },\n        //   amount: BigNumber.from(transferAmount).mul(WAD),\n        //   tokenAddress: CONTRACTS[chainId!].USD.address,\n        //   bridgeAddress: CONTRACTS[chainId!].BRIDGE.address,\n        //   provider: library,\n        //   signer: library.getSigner() as any\n        // })\n        // setTransfer(_transfer)\n        // setTransferData({\n        //   stage: \"OUTBOUND_PERMIT\",\n        //   amount: transferAmount.toString()\n        // })\n\n        // // First check the allowance\n        // if (!CONTRACTS[chainId!].BRIDGE.address) {\n        //   setTransferInProgress(false)\n        //   setShowTransferModal(false)\n        //   return alert(\"Bridge address is not set\")\n        // }\n        // const usd = new Contract(CONTRACTS[chainId!].USD.address, CONTRACTS[chainId!].USD.abi, library.getSigner())\n        // const allowance = await usd.allowance(account, CONTRACTS[chainId!].BRIDGE.address)\n\n        // if (Number(utils.formatEther(allowance)) < Number(transferAmount)) {\n        //   setTransferStage(\"OUTBOUND_PERMIT\")\n        //   setTransferModalBody(`Permit the Bridge contract to spend your USD for the transfer.`)\n        //   let data = await _transfer.approve()\n        //   const transactionObject = {\n        //     to: CONTRACTS[chainId!].USD.address,\n        //     from: account,\n        //     data\n        //   };\n        //   const result = await web3.eth.sendTransaction((transactionObject as any))\n        //   setTransferModalBody(`Bridge contract allowance created successfully.`)\n        //   ctx.updateTransactions(result);\n        // }\n        // setTransferStage(\"OUTBOUND_PENDING\")\n        // setTransferData({\n        //   ...transferData,\n        //   stage: \"OUTBOUND_PENDING\"\n        // })\n        // setTransferModalBody(\n        //   <>\n        //     <p>\n        //       The <a href=\"https://graph.trustline.co/\" target=\"blank\">XRPL Composer</a> app is recommended for creating a new issuing account.\n        //     </p>\n        //     <p>To get started, go to <i>Build</i> and create a new node under <i>Actions</i>. Provide an account identifier and enable the default ripple flag. Upon creation, select the new account. Copy the address under <code>account.address</code> below.</p>\n        //   </>\n        // )\n      }\n    } catch (error) {\n      setError(error);\n      setTransferInProgress(false)\n      setShowTransferModal(false)\n    }\n  }\n\n  /**\n   * @function createIssuer\n   * Creates an issuer in the Bridge contract\n   */\n  const createIssuer = async () => {\n    try {\n      if (library) {\n        setTransferInProgress(true)\n        setLoading(true)\n        let data = await transfer!.createIssuer(issuerAddress)\n        const transactionObject = {\n          to: CONTRACTS[chainId!].BRIDGE.address,\n          from: account,\n          data\n        };\n        const result = await web3.eth.sendTransaction((transactionObject as any))\n        ctx.updateTransactions(result);\n        setTransferStage(\"OUTBOUND_IN_PROGRESS\")\n        setTransferData({\n          ...transferData,\n          stage: \"OUTBOUND_IN_PROGRESS\",\n          issuerAddress: issuerAddress\n        })\n        setTransferModalBody(\n          <>\n            <p>The next step will display a QR code. You can use any wallet that supports the WalletConnect protocol. The <a href=\"https://trustline.co\" target=\"blank\">Trustline</a> app is recommended.</p>\n          </>\n        )\n      }\n    } catch (error) {\n      setLoading(false)\n      setTransferInProgress(false)\n      setShowTransferModal(false)\n      console.error(error)\n    }\n  }\n\n  /**\n   * @function createTrustLine\n   * Creates a trust line with the issuing address via WalletConnect\n   */\n  const createTrustLine = async () => {\n    setShowTransferModal(false)\n    setLoading(false)\n    if (typeof client === \"undefined\") {\n      throw new Error(\"WalletConnect is not initialized\");\n    }\n\n    connect();\n  }\n\n  /**\n   * @function verifyIssuance\n   * Called after issuance transaction / blackholing issuer account\n   */\n    const verifyIssuance = async () => {\n    try {\n      if (library) {\n        setLoading(true)\n        const stateConnector = new Contract(CONTRACTS[chainId!].STATE_CONNECTOR.address, CONTRACTS[chainId!].STATE_CONNECTOR.abi, library.getSigner())\n        let result = await stateConnector.setFinality(true);\n        await result.wait()\n        setTransferModalBody(`Verifying issuance, please wait...`)\n        let data = await transfer!.verifyIssuance(transactionID, issuerAddress)\n        const transactionObject = {\n          to: CONTRACTS[chainId!].BRIDGE.address,\n          from: account,\n          data\n        };\n        result = await web3.eth.sendTransaction((transactionObject as any))\n        ctx.updateTransactions(result);\n        setTransferData(null)\n        setTransferStage(\"OUTBOUND_COMPLETED\")\n        setTransferModalBody(\n          <div className=\"d-flex justify-content-center align-items-center my-5\">\n            Done.\n          </div>\n        )\n      }\n    } catch (error) {\n      console.error(error)\n    }\n    setLoading(false)\n  }\n\n  /**\n   * @function prepareRedemption\n   * Prompts the user for the issuing address\n   */\n  const prepareRedemption = async () => {\n    try {\n      // setLoading(true)\n      // const _transfer = new solaris.Transfer({\n      //   direction: {\n      //     source: \"XRPL\",\n      //     destination: \"FLARE\"\n      //   },\n      //   tokenAddress: CONTRACTS[chainId!].USD.address,\n      //   bridgeAddress: CONTRACTS[chainId!].BRIDGE.address,\n      //   provider: library,\n      //   signer: library!.getSigner() as any\n      // })\n      // setTransfer(_transfer)\n      // setTransferStage(\"INBOUND_REDEMPTION_RESERVATION\")\n      // setTransferModalBody(\n      //   <div className=\"d-flex flex-column justify-content-center align-items-center\">\n      //     {\n      //       verifiedIssuers.length ? (\n      //         <>\n      //           <p>First, please enter a verified issuer.</p>\n      //           <ul>\n      //             {verifiedIssuers.map((issuer: string, index: number) => <li key={index}>{issuer}</li>)}\n      //           </ul>\n      //         </>\n      //       ) : (\n      //         <Alert variant=\"danger\">\n      //           There are no verified issuers yet. To create a verified issuer, please complete the outbound transfer flow.\n      //         </Alert>\n      //       )\n      //     }\n      //   </div>\n      // )\n      // setShowTransferModal(true);\n    } catch (error) {\n      console.log(\"error\", error)\n    }\n    setLoading(false)\n  }\n\n  /**\n   * @function createRedemptionReservation\n   * Creates a window for the initiator to prove a redemption transaction\n   */\n  const createRedemptionReservation = async () => {\n    try {\n      setLoading(true)\n      let data = await transfer!.createRedemptionReservation(account!, issuerAddress)\n      const transactionObject = {\n        to: CONTRACTS[chainId!].BRIDGE.address,\n        from: account,\n        data\n      };\n      const result = await web3.eth.sendTransaction((transactionObject as any))\n      ctx.updateTransactions(result);\n      setTransferData({\n        stage: \"INBOUND_REDEMPTION_TRANSACTION\",\n        reservation: {\n          source: account!,\n          issuer: issuerAddress\n        }\n      })\n      setTransferStage(\"INBOUND_REDEMPTION_TRANSACTION\")\n      setTransferModalBody(<></>)\n    } catch (error) {\n      console.log(\"error\", error)\n    }\n    setLoading(false)\n  }\n\n  /**\n   * @function requestXrplRedemptionTransaction\n   * Displays info about the QR code on the next screen\n   */\n  const requestXrplRedemptionTransaction = async () => {\n    try {\n      setShowTransferModal(true)\n      setTransferStage(\"INBOUND_REDEMPTION_TRANSACTION\")\n      setTransferModalBody(\n        <div className=\"d-flex flex-column justify-content-center align-items-center my-5\">\n          <p>The next screen will display a QR code that establishes a WalletConnect session with a supported smartphone wallet.</p>\n          <p>To scan the QR code from the <a href=\"https://trustline.co\" target=\"blank\">Trustline</a> wallet, go to the Wallet tab → USD → Outbound Transfer. Enter the amount, and scan the code on the next dialog screen.</p>\n          <button className=\"btn btn-primary my-4\" onClick={() => { console.log(\"test\") }}>Continue</button>\n        </div>\n      )\n    } catch (error) {\n      console.log(\"error\", error)\n    }\n  }\n\n  // const completeRedemption = async () => {}\n\n  return (\n    <>\n      {\n        <Modal show={showTransferModal} onHide={handleCloseTransferModal}>\n          <Modal.Header>\n            <Modal.Title>{getStageReadableName()}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body style={{ minHeight: 150 }}>\n            {/* TODO: can we put the modal body text in the elements below? */}\n            {transferModalBody}\n            {/* Forms */}\n            {\n              transferStage === \"INBOUND_APEX_DEMO\" && (\n                <div className=\"d-flex justify-content-center py-5\">\n                  <QRCode value={account || \"\"} />\n                </div>\n              )\n            }\n            {\n              transferStage === \"OUTBOUND_PERMIT\" && (\n                <Form className=\"py-3\">\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Bridge Address</Form.Label>\n                    <Form.Control type=\"text\" readOnly value={CONTRACTS[chainId!].BRIDGE.address} />\n                    <Form.Text className=\"text-muted\">\n                      This is the address of the Bridge contract.\n                    </Form.Text>\n                  </Form.Group>\n                </Form>\n              )\n            }\n            {\n              transferStage === \"OUTBOUND_PENDING\" && (\n                <Form className=\"py-3\">\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Issuing Address</Form.Label>\n                    <Form.Control type=\"text\" placeholder=\"Enter issuing address\" onChange={(event: any) => { setIssuerAddress(event.target.value) }} />\n                    <Form.Text className=\"text-muted\">\n                      This is an XRP Ledger account that you control.\n                    </Form.Text>\n                  </Form.Group>\n                  <Container className=\"mt-3\">\n                    <Row>\n                      <Col />\n                      <Col className=\"d-grid\">\n                        <Button variant=\"primary\" onClick={createIssuer} disabled={loading}>\n                          { loading ? \"Waiting...\" : \"Submit\" }\n                        </Button>\n                      </Col>\n                      <Col />\n                    </Row>\n                  </Container>\n                </Form>\n              )\n            }\n            {\n              transferStage === \"OUTBOUND_IN_PROGRESS\" && (\n                <Container className=\"mt-4\">\n                  <Row>\n                    <Col />\n                    <Col className=\"d-grid\">\n                      <Button variant=\"primary\" onClick={createTrustLine}>\n                        Continue\n                      </Button>\n                    </Col>\n                    <Col />\n                  </Row>\n                </Container>\n              )\n            }\n            {\n              transferStage === \"OUTBOUND_TOKEN_ISSUANCE\" && (\n                <Form className=\"py-3\">\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Transaction ID</Form.Label>\n                    <Form.Control type=\"text\" placeholder=\"Enter transaction ID\" onChange={(event: any) => { setTransactionID(event.target.value) }} />\n                    <Form.Text className=\"text-muted\">\n                      The transaction ID of the issuance.\n                    </Form.Text>\n                  </Form.Group>\n                  <Container className=\"mt-4\">\n                    <Row>\n                      <Col />\n                      <Col className=\"d-grid\">\n                        <Button variant=\"primary\" onClick={verifyIssuance} disabled={loading}>\n                        { loading ? \"Waiting...\" : \"Done\" }\n                        </Button>\n                      </Col>\n                      <Col />\n                    </Row>\n                  </Container>\n                </Form>\n              )\n            }\n            {\n              transferStage === \"INBOUND_REDEMPTION_RESERVATION\" && (\n                <Form className=\"py-3\">\n                  <Form.Group className=\"mb-3\">\n                  <Form.Label>Issuer Address</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Issuing account address (temporary)\"\n                      onChange={(event: any) => { setIssuerAddress(event.target.value) }}\n                    />\n                    <Form.Text className=\"text-muted\">\n                      The address of an issuing account.\n                    </Form.Text>\n                  </Form.Group>\n                  <Container className=\"mt-3\">\n                    <Row>\n                      <Col />\n                      <Col className=\"d-grid\">\n                        <Button variant=\"primary\" disabled={verifiedIssuers.length === 0 || loading} onClick={createRedemptionReservation}>\n                          { loading ? \"Waiting...\" : \"Submit\" }\n                        </Button>\n                      </Col>\n                      <Col />\n                    </Row>\n                  </Container>\n                </Form>\n              )\n            }\n            {\n              transferStage === \"INBOUND_REDEMPTION_TRANSACTION\" && (\n                <Form className=\"py-3\">\n                  <p>Create the redemption transaction to <code>{issuerAddress}</code>.</p>\n                  <Form.Group className=\"mb-3\">\n                  <Form.Label>Transaction ID</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Enter transaction ID\"\n                      onChange={(event: any) => { console.log(event.target.value) }}\n                    />\n                    <Form.Text className=\"text-muted\">\n                      The redemption transaction ID.\n                    </Form.Text>\n                  </Form.Group>\n                  <Container className=\"mt-3\">\n                    <Row>\n                      <Col />\n                      <Col className=\"d-grid\">\n                        <Button variant=\"primary\" disabled={loading} onClick={() => { console.log(\"not implemented\") }}>\n                          { loading ? \"Waiting...\" : \"Submit\" }\n                        </Button>\n                      </Col>\n                      <Col />\n                    </Row>\n                  </Container>\n                </Form>\n              )\n            }\n          </Modal.Body>\n        </Modal>\n      }\n      <header>\n        <h1>Network Transfers</h1>\n        {active && <Info />}\n      </header>\n      <div className=\"text-secondary d-flex mb-3\">\n        <div className=\"d-flex align-items-center me-2\">\n          <span className=\"fa fa-info-circle\"></span>\n        </div>\n        <p className=\"mb-0\">This feature uses the <a href=\"https://walletconnect.com\" target=\"blank\">WalletConnect</a> and <a href=\"https://paystring.org/\" target=\"blank\">PayString</a> protocols to transfer USD between Songbird and the XRP Ledger networks via Trustline's <a href=\"https://trustline.co/bridge\" target=\"blank\">non-custodial bridge</a>. Only recommended for advanced users.</p>\n      </div>\n      <section className=\"border rounded p-5 mb-5 shadow-sm bg-white\">\n        {/* Activity Navigation */}\n        <div>\n          <ul className=\"nav nav-pills nav-justified\">\n            <li className=\"nav-item\">\n              <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/transfers/outbound\"} onClick={() => setActivity(ActivityType.OutboundTransfer)}>Outbound</NavLink>\n            </li>\n            <li className=\"nav-item\">\n              <NavLink className=\"nav-link\" activeClassName=\"active\" to={\"/transfers/inbound\"} onClick={() => setActivity(ActivityType.InboundTransfer)}>Inbound</NavLink>\n            </li>\n          </ul>\n        </div>\n        <hr className=\"mb-4\" />\n        <Activity active={active} activity={activity} error={error}>\n          {\n            activity === ActivityType.OutboundTransfer && (\n              <>\n                <h4 className=\"text-center\">Send USD</h4>\n                <div className=\"row\">\n                  <div className=\"col-xl-8 offset-xl-2 col-lg-12 col-md-12\">\n                    <label className=\"form-label\">Amount</label>\n                    <div className=\"input-group\">\n                      <input type=\"number\" min=\"0.000000000000000000\" placeholder=\"0.000000000000000000\" className=\"form-control\" value={transferAmount ? transferAmount : \"\"} onChange={onTransferAmountChange} />\n                      <span className=\"input-group-text font-monospace\">USD</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row mt-3\">\n                  <div className=\"col-xl-8 offset-xl-2 col-lg-12 col-md-12\">\n                    <label className=\"form-label\">Destination XRP Address</label>\n                    <div className=\"input-group mb-3\">\n                      <input type=\"text\" className=\"form-control\" value={xrpAddress} minLength={25} maxLength={35} onChange={onXrpAddressChange} placeholder=\"rHb9CJAWyB4rj91VRWn96DkukG4bwdtyTh\" aria-label=\"address\" />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-xl-8 offset-xl-2 col-lg-12 col-md-12\">\n                    <Form.Group controlId=\"custodial\">\n                      <Form.Check type=\"checkbox\" label=\"Custodial Mode\" checked disabled />\n                    </Form.Group>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-xl-8 offset-xl-2 col-lg-12 col-md-12 mt-2 d-grid\">\n                    <button\n                      className=\"btn btn-primary btn-lg mt-4\"\n                      onClick={openOutboundTransferModal}\n                      disabled={transferAmount === 0 || xrpAddress === \"\" || transferInProgress}\n                    >\n                      {transferInProgress ? <i className=\"fa fa-spin fa-spinner\" /> : \"Confirm\"}\n                    </button>\n                  </div>\n                </div>\n              </>\n            )\n          }\n          {\n            activity === ActivityType.InboundTransfer && (\n              <>\n                <h4 className=\"text-center\">Receive USD</h4>\n                <div className=\"row mt-4\">\n                  <div className=\"col-xl-8 offset-xl-2 col-lg-12 col-md-12\">\n                    <Form.Group controlId=\"custodial\">\n                      <Form.Check type=\"checkbox\" label=\"Custodial Mode\" checked disabled />\n                    </Form.Group>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-xl-8 offset-xl-2 col-lg-12 col-md-12 my-4 d-grid\">\n                    <button\n                      className=\"btn btn-primary btn-lg\"\n                      onClick={openInboundTransferModal}\n                    ><i className=\"fa fa-qrcode\"/> Press for QR Code</button>\n                  </div>\n                </div>\n              </>\n            )\n          }\n        </Activity>\n      </section>\n    </>\n  )\n}","import React, { useEffect } from \"react\";\nimport Pagination from \"react-bootstrap/Pagination\";\nimport { scrollToTop } from \"../../utils\";\nimport PropTypes from \"prop-types\";\n\nconst PaginationComponent = ({\n  itemsCount,\n  itemsPerPage,\n  currentPage,\n  setCurrentPage,\n  alwaysShown = true\n}: any) => {\n  const pagesCount = Math.ceil(itemsCount / itemsPerPage);\n  const isPaginationShown = alwaysShown ? true : pagesCount > 1;\n  const isCurrentPageFirst = currentPage === 1;\n  const isCurrentPageLast = currentPage === pagesCount;\n\n  const changePage = (page: any) => {\n    if (currentPage === page) return;\n    setCurrentPage(page);\n    scrollToTop();\n  };\n\n  const onPageNumberClick = (pageNumber: number) => {\n    changePage(pageNumber);\n  };\n\n  const onPreviousPageClick = () => {\n    changePage((currentPage: number) => currentPage - 1);\n  };\n\n  const onNextPageClick = () => {\n    changePage((currentPage: any) => currentPage + 1);\n  };\n\n  const setLastPageAsCurrent = () => {\n    if (currentPage > pagesCount) {\n      setCurrentPage(pagesCount);\n    }\n  };\n\n  let isPageNumberOutOfRange: boolean;\n\n  const pageNumbers = [...new Array(pagesCount)].map((_, index) => {\n    const pageNumber = index + 1;\n    const isPageNumberFirst = pageNumber === 1;\n    const isPageNumberLast = pageNumber === pagesCount;\n    const isCurrentPageWithinTwoPageNumbers =\n      Math.abs(pageNumber - currentPage) <= 2;\n\n    if (\n      isPageNumberFirst ||\n      isPageNumberLast ||\n      isCurrentPageWithinTwoPageNumbers\n    ) {\n      isPageNumberOutOfRange = false;\n      return (\n        <Pagination.Item\n          key={pageNumber}\n          onClick={() => onPageNumberClick(pageNumber)}\n          active={pageNumber === currentPage}\n        >\n          {pageNumber}\n        </Pagination.Item>\n      );\n    }\n\n    if (!isPageNumberOutOfRange) {\n      isPageNumberOutOfRange = true;\n      return <Pagination.Ellipsis key={pageNumber} className=\"muted\" />;\n    }\n\n    return null;\n  });\n\n  useEffect(setLastPageAsCurrent, [pagesCount, currentPage, setCurrentPage]);\n\n  return (\n    <>\n      {isPaginationShown && (\n        <Pagination>\n          <Pagination.Prev\n            onClick={onPreviousPageClick}\n            disabled={isCurrentPageFirst}\n          />\n          {pageNumbers}\n          <Pagination.Next\n            onClick={onNextPageClick}\n            disabled={isCurrentPageLast}\n          />\n        </Pagination>\n      )}\n    </>\n  );\n};\n\nPaginationComponent.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  itemsPerPage: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  setCurrentPage: PropTypes.func.isRequired,\n  alwaysShown: PropTypes.bool\n};\n\nexport default PaginationComponent;","import { useEffect, useState } from \"react\";\nimport numbro from \"numbro\"\nimport web3 from \"web3\"\nimport { scrollToTop } from \"../../utils\"\nimport { utils } from \"ethers\";\nimport Pagination from \"../../components/Pagination\"\nimport Activity from \"../../containers/Activity\";\nimport { CONTRACTS } from '../../constants';\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Contract } from \"ethers\";\nimport { Activity as ActivityType } from \"../../types\";\nimport { getAssetId } from \"../../utils\";\nimport { formatOptions } from \"../../constants\";\n\nfunction Auctions({ assetPrice }: { assetPrice: number }) {\n  const [loading, setLoading] = useState(false);\n  const [metamaskLoading, setMetamaskLoading] = useState(false)\n  const [bidPrice, setBidPrice] = useState<number>(0.00)\n  const [bidLot, setBidLot] = useState<number>(0.00)\n  const [lot, setLot] = useState<number>(0.00)\n  const [maxPrice, setMaxPrice] = useState<number>(0.00)\n  const [auctions, setAuctions] = useState<any[]>([]);\n  const [totalAuctions, setTotalAuctions] = useState(0)\n  const { library, active, chainId } = useWeb3React<Web3Provider>()\n  const [error, setError] = useState<any|null>(null);\n  const [auctionsPerPage] = useState<number>(10)\n  const [currentPage, setCurrentPage] = useState<number>(1)\n  const lastAuctionId = currentPage * auctionsPerPage\n  const firstAuctionId = Math.max(0, lastAuctionId - auctionsPerPage)\n  const AUCTIONEER = CONTRACTS[chainId!].AUCTIONEER\n  const RESERVE_POOL = CONTRACTS[chainId!].RESERVE_POOL\n\n  /**\n   * Sets auction count\n   */\n  useEffect(() => {\n    if (library) {\n      (async () => {\n        setLoading(true)\n        const auctioneer = new Contract(AUCTIONEER.address, AUCTIONEER.abi, library.getSigner())\n        const _totalAuctions = await auctioneer.totalAuctions()\n        setTotalAuctions(_totalAuctions.toNumber());\n        setCurrentPage(1)\n        setLoading(false)\n      })()\n    }\n  }, [library, AUCTIONEER.abi, AUCTIONEER.address])\n\n  /**\n   * Fetches the auctions\n   */\n  useEffect(() => {\n    if (library && totalAuctions) {\n      (async () => {\n        setLoading(true)\n        const auctioneer = new Contract(AUCTIONEER.address, AUCTIONEER.abi, library.getSigner())\n        const _auctions = []\n        for (let id = firstAuctionId; id < Math.min(lastAuctionId, totalAuctions); id++) {\n          let auction: any = await auctioneer.auctions(id)\n          const HEAD = \"0x0000000000000000000000000000000000000001\"\n          let _nextHighestBidder = await auctioneer.nextHighestBidder(id, HEAD)\n          let highestBid\n          if (_nextHighestBidder === \"0x0000000000000000000000000000000000000000\") {\n            highestBid = null\n          } else {\n            highestBid = await auctioneer.bids(id, _nextHighestBidder)\n          }\n          const currentPrice = await auctioneer.callStatic.calculatePrice(id)\n          _auctions.push({ ...auction, id, highestBid, currentPrice })\n        }\n        setAuctions(_auctions);\n        setLoading(false)\n      })()\n    }\n  }, [library, totalAuctions, currentPage, firstAuctionId, lastAuctionId, AUCTIONEER.abi, AUCTIONEER.address])\n\n  const onChangeBidPrice = (event: any) => {\n    const { value } = event.target\n    setBidPrice(value)\n  }\n\n  const onChangeBidLot = (event: any) => {\n    const { value } = event.target\n    setBidLot(value)\n  }\n\n  const onChangeMaxPrice = (event: any) => {\n    const { value } = event.target\n    setMaxPrice(value)\n  }\n\n  const onChangeLot = (event: any) => {\n    const { value } = event.target\n    setLot(value)\n  }\n\n  const placeBid = async (auctionId: number) => {\n    try {\n      const auctioneer = new Contract(AUCTIONEER.address, AUCTIONEER.abi, library!.getSigner())\n      const args = [\n        auctionId,\n        utils.parseUnits(String(bidPrice), 27),\n        utils.parseEther(String(bidLot)),\n      ]\n      const tx = await auctioneer.placeBid(...args)\n      setMetamaskLoading(true)\n      await tx.wait()\n      setMetamaskLoading(false)\n    } catch (error) {\n      console.log(error)\n      setError(error)\n      scrollToTop()\n    }\n  }\n\n  const buyNow = async (auctionId: number, lot: number|string, maxPrice: number|string) => {\n    try {\n      const auctioneer = new Contract(AUCTIONEER.address, AUCTIONEER.abi, library!.getSigner())\n      const args = [\n        auctionId,\n        utils.parseUnits(String(maxPrice), 27),\n        utils.parseEther(String(lot)),\n        {\n          gasLimit: web3.utils.toWei('300000', 'wei'),\n          maxFeePerGas: 25 * 1e9,\n        }\n      ]\n      console.log(\n        utils.parseUnits(String(maxPrice), 27).toString(),\n        utils.parseEther(String(lot)).toString()\n      )\n      await auctioneer.callStatic.buyItNow(...args)\n      const tx = await auctioneer.buyItNow(...args)\n      setMetamaskLoading(true)\n      await tx.wait()\n      setMetamaskLoading(false)\n    } catch (error) {\n      console.log(error)\n      setError(error)\n      scrollToTop()\n    }\n  }\n\n  const finalizeSale = async (auctionId: number) => {\n    try {\n      const auctioneer = new Contract(AUCTIONEER.address, AUCTIONEER.abi, library!.getSigner())\n      const tx = await auctioneer.finalizeSale(auctionId)\n      setMetamaskLoading(true)\n      await tx.wait()\n      setMetamaskLoading(false)\n    } catch (error) {\n      console.log(error)\n      setError(error)\n      scrollToTop()\n    }\n  }\n\n  return (\n    <Activity active={active} activity={ActivityType.Auction} error={error}>\n      <h1>Auctions</h1>\n      {\n        loading ? (\n          <div className=\"d-flex justify-content-center align-items-center py-5\">\n            Loading...\n          </div>\n        ) : auctions.length === 0 ? (\n          <div className=\"d-flex justify-content-center align-items-center py-5\">\n            No auctions running\n          </div>\n        ) : \n          <>\n            <div className=\"alert alert-info\">\n              <code>{RESERVE_POOL.address}</code> is the Reserve Pool's address.\n            </div>\n            {auctions.map((auction: any, index: number) => {\n              const collId = getAssetId(auction?.assetId)\n              return (\n                <div className=\"card my-3\" key={index}>\n                  <div className=\"card-body\">\n                    <h6>Details</h6>\n                    <div className=\"row\">\n                      <div className=\"col-lg-8 col-md-8\">\n                        <div className=\"row mb-1\">\n                          <div className=\"col-3\">\n                            ID\n                          </div>\n                          <div className=\"col-9\">\n                            {auction.id}\n                          </div>\n                        </div>\n                        <div className=\"row mb-1\">\n                          <div className=\"col-3\">\n                            Start Time\n                          </div>\n                          <div className=\"col-9\">\n                            {((new Date(auction?.startTime?.toNumber() * 1000))).toLocaleString()}\n                          </div>\n                        </div>\n                        <div className=\"row mb-1\">\n                          <div className=\"col-3\">\n                            Debt\n                          </div>\n                          <div className=\"col-9\">\n                            {numbro(utils.formatUnits(auction?.debt, 45)).format({ ...formatOptions, mantissa: 18 })} USD\n                          </div>\n                        </div>\n                        <div className=\"row mb-1\">\n                          <div className=\"col-3\">\n                            Lot\n                          </div>\n                          <div className=\"col-9\">\n                            {numbro(utils.formatEther(auction?.lot)).format(formatOptions)} {collId}\n                          </div>\n                        </div>\n                        <div className=\"row mb-1\">\n                          <div className=\"col-3\">\n                            Start Price\n                          </div>\n                          <div className=\"col-9\">\n                            {numbro(utils.formatUnits(auction?.startPrice, 27)).format({ ...formatOptions, mantissa: 27 })} USD\n                          </div>\n                        </div>\n                        <div className=\"row mb-1\">\n                          <div className=\"col-3\">\n                            Current Price\n                          </div>\n                          <div className=\"col-9\">\n                            {numbro(utils.formatUnits(auction?.currentPrice, 27)).format({ ...formatOptions, mantissa: 27 })} USD\n                          </div>\n                        </div>\n                        <div className=\"row mb-1\">\n                          <div className=\"col-3\">\n                            Owner\n                          </div>\n                          <div className=\"col-9\">\n                            <span className=\"font-monospace\">{auction?.owner}</span>\n                          </div>\n                        </div>\n                        <div className=\"row mb-1\">\n                          <div className=\"col-3\">\n                            Beneficiary\n                          </div>\n                          <div className=\"col-9\">\n                            <span className=\"font-monospace\">{auction?.beneficiary}</span>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"col-lg-4 col-md-4 d-flex justify-content-center align-items-center\">\n                        <div>\n                          <div className=\"my-3\">\n                            <label>Lot ({collId})</label>\n                            <input className=\"form-control\" placeholder=\"0.00\" onChange={onChangeLot} />\n                          </div>\n                          <div className=\"my-3\">\n                            <label>Max Price (USD)</label>\n                            <input className=\"form-control\" placeholder=\"0.00\" onChange={onChangeMaxPrice} />\n                          </div>\n                          <button disabled={auction?.isOver} className=\"btn btn-outline-primary my-3 w-100\" onClick={() => buyNow(auction.id, lot, maxPrice)}>\n                            Buy Now\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                    <hr className=\"my-3\" />\n                    <h6>Bidding</h6>\n                    <div className=\"row\">\n                      <div className=\"col-8 d-flex justify-content-center align-items-center text-center\">\n                        <div>\n                          <h6>Current High Bid</h6>\n                          {\n                            auction.highestBid ? (\n                              <div className=\"text-muted\">{String(utils.formatEther(String(auction.highestBid?.lot)))} {collId} for {String(utils.formatUnits(String(auction.highestBid?.price), 27))} USD</div>\n                            ) : (\n                              <p className=\"text-muted\">No bids</p>\n                            )\n                          }\n                        </div>\n                      </div>\n                      <div className=\"col-4 d-flex justify-content-center align-items-center\">\n                        <div>\n                          <div className=\"my-3\">\n                            <label>Bid Lot ({collId})</label>\n                            <input className=\"form-control\" placeholder=\"0.00\" onChange={onChangeBidLot} />\n                          </div>\n                          <div className=\"my-3\">\n                            <label>Bid Price (USD)</label>\n                            <input className=\"form-control\" placeholder=\"0.00\" onChange={onChangeBidPrice} />\n                          </div>\n                          <button className=\"btn btn-primary w-100\" disabled={metamaskLoading || (!bidPrice || !bidLot)} onClick={(event) => placeBid(auction.id)}>\n                            { metamaskLoading ? <i className=\"fa fa-spinner fa-spin\"></i> : \"Place Bid\" }\n                          </button>\n                          <button className=\"btn btn-outline-secondary w-100 my-3\" disabled={false} onClick={() => finalizeSale(auction.id)}>\n                            Finalize Sale\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  {\n                    auction?.isOver && (\n                      <div className=\"card-footer border-warning\">\n                        This auction has ended.\n                      </div>   \n                    )\n                  }\n                </div>\n              )\n            })}\n        </>\n      }\n      <div className=\"d-flex justify-content-center\">\n        <Pagination\n          itemsCount={totalAuctions}\n          itemsPerPage={auctionsPerPage}\n          currentPage={currentPage}\n          setCurrentPage={setCurrentPage}\n          alwaysShown={false}\n        />\n      </div>\n    </Activity>\n  )\n}\n\nexport default Auctions;","export default __webpack_public_path__ + \"static/media/logo.8d586bb8.png\";","import { useState } from \"react\"\nimport { Card } from \"react-bootstrap\"\nimport { useHistory, Link } from \"react-router-dom\"\nimport { Activity as ActivityType } from \"../../types\";\nimport Activity from \"../../containers/Activity\";\nimport logo from \"../../assets/logo.png\"\nimport axios from \"axios\";\n\nexport default function Register(props: any) {\n  const [name, setName] = useState<string>()\n  const [email, setEmail] = useState<string>()\n  const [password, setPassword] = useState<string>()\n  const history = useHistory()\n\n  const register = async () => {\n    const response = await axios(\"http://localhost:8080/v1/users/register\", {\n      method: \"POST\",\n      data: {\n        legal_name: name,\n        email,\n        password\n      }\n    })\n    if (response.status === 200) {\n      props.setAuth(response.data)\n      history.push(\"/profile\")\n    }\n  }\n\n  return (\n    <div className=\"h-100 d-flex flex-column justify-content-evenly\">\n      <Activity active={true} activity={ActivityType.Login} error={props.error}>\n        <div className=\"d-flex justify-content-center align-items-center\">\n          <Card className=\"w-100\">\n            <Card.Body>\n              <div className=\"row mt-3\">\n                <div className=\"col-12 text-center\">\n                  <img src={logo} height=\"100\" width=\"100\" alt=\"Probity\" className=\"border rounded\" />\n                  <h1 className=\"my-4\">Probity</h1>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"offset-2 col-8\">\n                  <hr />\n                </div>\n              </div>\n              <div className=\"row my-5\">\n                <div className=\"col-4 offset-4\">\n                  <form>\n                    <div className=\"mb-3\">\n                      <label className=\"form-label\">Legal Name</label>\n                      <input type=\"email\" className=\"form-control\" onChange={(event) => setName(event.target.value)} />\n                    </div>\n                    <div className=\"mb-3\">\n                      <label className=\"form-label\">Email address</label>\n                      <input type=\"email\" className=\"form-control\" onChange={(event) => setEmail(event.target.value)} />\n                    </div>\n                    <div className=\"mb-3\">\n                      <label className=\"form-label\">Password</label>\n                      <input type=\"password\" className=\"form-control\" onChange={(event) => setPassword(event.target.value)} />\n                    </div>\n                    <div className=\"d-grid gap-2 mb-2\">\n                      <button type=\"button\" onClick={register} className=\"btn btn-primary\">Register</button>\n                    </div>\n                    <small>Already have an account? <Link to=\"/login\">Login</Link></small>\n                  </form>\n                </div>\n              </div>\n            </Card.Body>\n          </Card>\n        </div>\n      </Activity>\n    </div>\n  )\n}","import { useEffect, useState, useContext } from \"react\";\nimport { utils } from \"ethers\";\nimport Activity from \"../../containers/Activity\";\nimport { CONTRACTS, RAY } from '../../constants';\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Contract } from \"ethers\";\nimport { Activity as ActivityType } from \"../../types\";\nimport numbro from \"numbro\";\nimport EventContext from \"../../contexts/TransactionContext\"\nimport AssetContext from \"../../contexts/AssetContext\"\nimport { getNativeTokenSymbol } from \"../../utils\";\nimport { formatOptions } from \"../../constants\";\n\nfunction Monitor({ assetPrice }: { assetPrice: number }) {\n  const [loading, setLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [positions, setPositions] = useState<any>([]);\n  const { library, active, chainId } = useWeb3React<Web3Provider>()\n  const [error, setError] = useState<any|null>(null);\n  const eventContext = useContext(EventContext)\n  const assetContext = useContext(AssetContext)\n  const nativeTokenSymbol = getNativeTokenSymbol(chainId!)\n  const currentAsset = assetContext.asset || nativeTokenSymbol\n\n  useEffect(() => {\n    if (library) {\n      (async () => {\n        const vault = new Contract(CONTRACTS[chainId!].VAULT_ENGINE.address, CONTRACTS[chainId!].VAULT_ENGINE.abi, library.getSigner())\n        const _users = await vault.getVaultList();\n        setUsers(_users);\n      })()\n    }\n  }, [library, chainId])\n\n  useEffect(() => {\n    if (library) {\n      (async () => {\n        setLoading(true)\n        const _positions: any[] = [];\n        for (let address of users) {\n          const vaultEngine = new Contract(CONTRACTS[chainId!].VAULT_ENGINE.address, CONTRACTS[chainId!].VAULT_ENGINE.abi, library.getSigner())\n          const {\n            underlying,\n            normEquity,\n            normDebt,\n            collateral,\n            initialEquity\n          } = await vaultEngine.vaults(utils.id(\"XRP\"), address);\n          const { adjustedPrice } = await vaultEngine.assets(utils.id(\"XRP\"));\n          const debtAccumulator = await vaultEngine.debtAccumulator();\n          const equityAccumulator = await vaultEngine.equityAccumulator();\n\n          const _debt = normDebt.mul(debtAccumulator)\n\n          // Get collateral ratio\n          let collateralRatio\n          if (_debt.toString() !== \"0\") {\n            const numerator = Number(utils.formatEther(String(collateral))) * assetPrice\n            const denominator = Number(utils.formatUnits(String(_debt), 45))\n            collateralRatio = `${((numerator / denominator) * 100).toFixed(4)}%`\n          } else {\n            collateralRatio = \"0%\"\n          }\n\n          // Get underlying ratio\n          let underlyingRatio\n          if (initialEquity.toString() !== \"0\") {\n            const numerator = Number(utils.formatEther(String(underlying))) * assetPrice\n            const denominator = Number(utils.formatUnits(String(initialEquity), 45))\n            underlyingRatio = `${((numerator / denominator) * 100).toFixed(4)}%`\n          } else {\n            underlyingRatio = \"0%\"\n          }\n\n          // Check if it's liquidation eligible\n          const liquidationEligible = _debt.gt(collateral.mul(adjustedPrice))\n          _positions.push({\n            address: address,\n            debt: `${numbro(utils.formatEther(normDebt.mul(debtAccumulator).div(RAY)).toString()).format(formatOptions)} USD`,\n            equity: `${numbro(utils.formatEther(normEquity.mul(equityAccumulator).div(RAY)).toString()).format(formatOptions)} USD`,\n            collateralRatio,\n            underlyingRatio,\n            liquidationEligible,\n            underlying: `${numbro(utils.formatEther(underlying).toString()).format(formatOptions)} ${currentAsset}`,\n            collateral: `${numbro(utils.formatEther(collateral).toString()).format(formatOptions)} ${currentAsset}`\n          });\n        }\n        setPositions(_positions);\n        setLoading(false)\n      })()\n    }\n  }, [library, users, assetPrice, chainId, currentAsset])\n\n  const liquidate = async (vault: any, index: number) => {\n    if (library) {\n      const liquidator = new Contract(CONTRACTS[chainId!].LIQUIDATOR.address, CONTRACTS[chainId!].LIQUIDATOR.abi, library.getSigner())\n\n      try {\n        const result = await liquidator.liquidateVault(utils.id(process.env.REACT_APP_NATIVE_TOKEN!), vault.address);\n        const data = await result.wait();\n        eventContext.updateTransactions(data);\n        const _positions = positions\n        _positions[index] = {\n          ...vault,\n          debt: \"$0.00\",\n          equity: \"$0.00\",\n          collateralRatio: \"0%\",\n          liquidationEligible: false,\n        }\n        setPositions(_positions)\n      } catch (error) {\n        console.error(error)\n        setError(error);\n      }\n    }\n  }\n\n  const liquidationEligiblePositions = positions.filter((vault: any) => vault.liquidationEligible).map((vault: any, index: number) => {\n    return (\n      <div className=\"card my-3 px-2\" key={index}>\n        <div className=\"card-body\">\n          <div className=\"row\">\n            <div className=\"col-8 border\">\n              <pre className=\"mt-3\">{JSON.stringify(vault, null, 2)}</pre>\n            </div>\n            <div className=\"col-4 d-flex justify-content-center align-items-center\">\n              <div>\n                <button className=\"btn btn-primary w-100\" disabled={!vault.liquidationEligible} onClick={() => liquidate(vault, index)}>\n                  {loading ? (<i className=\"fa fa-spinner fa-spin\" />) : \"Liquidate Position\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  })\n\n  const nonEligiblePositions = positions.filter((vault: any) => !vault.liquidationEligible).map((vault: any, index: number) => {\n    return (\n      <div className=\"card my-3\" key={index}>\n        <div className=\"card-body text-center\">\n          <div className=\"row mb-3\">\n            <div className=\"col-12\">\n              <div className=\"input-group mb-3\">\n                <span className=\"input-group-text\" id=\"basic-addon1\"><i className=\"fa fa-vault\"></i></span>\n                <input className=\"form-control\" type=\"text\" value={vault.address} readOnly />\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-4\">\n              <h5>Equity</h5>\n              {vault.equity}\n            </div>\n            <div className=\"col-4\">\n              <h5>Underlying</h5>\n              {vault.underlying}\n            </div>\n            <div className=\"col-4\">\n              <h5>Supply Ratio</h5>\n              {vault.underlyingRatio}\n            </div>\n          </div>\n          <div className=\"row mt-4\">\n            <div className=\"col-4\">\n              <h5>Debt</h5>\n              {vault.debt}\n            </div>\n            <div className=\"col-4\">\n              <h5>Collateral</h5>\n              {vault.collateral}\n            </div>\n            <div className=\"col-4\">\n              <h5>Collateral Ratio</h5>\n              {vault.collateralRatio}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  })\n\n  return (\n    <>\n      <h1>Health Monitor</h1>\n      <Activity active={active} activity={ActivityType.Monitor} error={error}>\n        <h4>Eligible for Liquidation</h4>\n        {\n          loading ? (\n            <div className=\"d-flex justify-content-center align-items-center py-5\">\n              Loading...\n            </div>\n          ) : liquidationEligiblePositions.length === 0 ? (\n            <div className=\"d-flex justify-content-center align-items-center py-5\">\n              No collateral is currently eligible for liquidation\n            </div>\n          ) : liquidationEligiblePositions\n        }\n        <div className=\"py-1\" />\n        <h4>Non-Eligible Positions</h4>\n        {\n          loading ? (\n            <div className=\"d-flex justify-content-center align-items-center py-5\">\n              Loading...\n            </div>\n          ) : nonEligiblePositions.length === 0 ? (\n            <div className=\"d-flex justify-content-center align-items-center py-5\">\n              There are no positions to display.\n            </div>\n          ) : nonEligiblePositions\n        }\n      </Activity>\n    </>\n  )\n}\n\nexport default Monitor;","import React from 'react';\nimport { useWeb3React } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers';\nimport { Contract } from \"ethers\";\nimport { CONTRACTS } from '../../constants';\n\nfunction Contracts() {\n  const [loading, setLoading] = React.useState(false);\n  const { library, chainId } = useWeb3React<Web3Provider>()\n  const [contracts, setContracts] = React.useState<{ [key: string]: Contract|null}>({\n    \"USD\": null,\n    \"USD_MANAGER\": null,\n    \"AUCTIONEER\": null,\n    \"BRIDGE\": null,\n    \"LIQUIDATOR\": null,\n    \"PRICE_FEED\": null,\n    \"NATIVE_ASSET_MANAGER\": null,\n    \"REGISTRY\": null,\n    \"PBT\": null,\n    \"RESERVE_POOL\": null,\n    \"TELLER\": null,\n    \"TREASURY\": null,\n    \"VAULT_ENGINE\": null,\n  })\n  const [fetched, setFetched] = React.useState(false)\n\n  const objectZip = (keys: any, values: any) =>\n    keys.reduce(\n      (others: any, key: any, index: any) => ({\n        ...others,\n        [key]: values[index],\n      }),\n      {}\n  );\n\n  React.useEffect(() => {\n    if (library && !fetched) {\n      (async () => {\n        setLoading(true)\n        const responses: { [key: string]: Contract } = {}\n        for (let contract in contracts) {\n          responses[contract] = new Contract(CONTRACTS[chainId!][contract].address, CONTRACTS[chainId!][contract].abi, library.getSigner(chainId))\n        }\n        const _contracts = objectZip(Object.keys(contracts), await Promise.all(Object.values(responses)))\n        console.log(\"_contracts\", _contracts)\n        setContracts(_contracts)\n        setLoading(false)\n        setFetched(true)\n      })()\n    }\n  }, [library, fetched, contracts, chainId])\n\n  const rows = Object.keys(contracts).map(contract => {\n\n    return (\n      <tr key={contract}>\n        <td><code>{contract}</code></td>\n        <td>\n          {contracts[contract]?.address ? (\n            <code className=\"text-truncate\">{contracts[contract]?.address}</code>\n          ) : (\n            <span className=\"badge bg-danger rounded-pill\">OFFLINE</span>\n          )}\n        </td>\n      </tr>\n    )\n  })\n\n  return (\n    <>\n      {!loading ? (\n        <>\n          <h1>Contracts</h1>\n          <div className=\"table-responsive\">\n            <table className=\"table table-bordered\">\n              <tbody>\n                {rows}\n              </tbody>\n            </table>\n          </div>\n        </>\n      ) : (\n        <div className=\"d-flex justify-content-center align-items-center h-100\">\n          <i className=\"fa fa-spin fa-spinner fa-2x\"></i>\n        </div>\n      )}\n      Admin Account: <code>0xDEc68161D56397B682841a4666706c1Dfc4F63a8</code>\n    </>\n  );\n}\n\nexport default Contracts;\n","import { useState } from \"react\"\nimport { Card } from \"react-bootstrap\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { Activity as ActivityType } from \"../../types\";\nimport Activity from \"../../containers/Activity\";\nimport logo from \"../../assets/logo.png\"\nimport axios from \"axios\";\n\nexport default function Login(props: any) {\n  const [email, setEmail] = useState<string>()\n  const [password, setPassword] = useState<string>()\n  const history = useHistory()\n\n  const login = async () => {\n    const response = await axios(\"http://localhost:8080/v1/users/login\", {\n      method: \"POST\",\n      data: {\n        email,\n        password\n      }\n    })\n    if (response.status === 200) {\n      props.setAuth(response.data)\n      history.push(\"/profile\")\n    }\n  }\n\n  return (\n    <div className=\"h-100 d-flex flex-column justify-content-evenly\">\n      <Activity active={true} activity={ActivityType.Login} error={props.error}>\n        <div className=\"d-flex justify-content-center align-items-center\">\n          <Card className=\"w-100\">\n            <Card.Body>\n              <div className=\"row mt-3\">\n                <div className=\"col-12 text-center\">\n                  <img src={logo} height=\"100\" width=\"100\" alt=\"Probity\" className=\"border rounded\" />\n                  <h1 className=\"my-4\">Probity</h1>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"offset-2 col-8\">\n                  <hr />\n                </div>\n              </div>\n              <div className=\"row my-5\">\n                <div className=\"col-4 offset-4\">\n                  <form>\n                    <div className=\"mb-3\">\n                      <label className=\"form-label\">Email address</label>\n                      <input type=\"email\" className=\"form-control\" onChange={(event) => setEmail(event.target.value)} />\n                    </div>\n                    <div className=\"mb-3\">\n                      <label className=\"form-label\">Password</label>\n                      <input type=\"password\" className=\"form-control\" onChange={(event) => setPassword(event.target.value)} />\n                    </div>\n                    <div className=\"d-grid gap-2 mb-2\">\n                      <button type=\"button\" onClick={login} className=\"btn btn-primary\">Submit</button>\n                    </div>\n                    <small>Don't have an account? <Link to=\"/register\">Register</Link></small>\n                  </form>\n                </div>\n              </div>\n            </Card.Body>\n          </Card>\n        </div>\n      </Activity>\n    </div>\n  )\n}","import { useEffect, useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useLocation,\n  useHistory\n} from \"react-router-dom\";\nimport useSWR from 'swr';\nimport { Alert } from \"react-bootstrap\"\nimport useLocalStorageState from \"use-local-storage-state\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { Contract, utils } from \"ethers\";\nimport { Helmet, HelmetProvider } from \"react-helmet-async\";\nimport fetcher from \"../../fetcher\";\nimport ConnectorModal from \"../../components/ConnectorModal\"\nimport { CONTRACTS } from '../../constants';\nimport Navbar from \"../../components/Navbar\";\nimport Balances from \"../../components/Balances\";\nimport Lend from \"../../pages/Investment\";\nimport Loans from \"../../pages/Loans\";\nimport Exchange from \"../../pages/Exchange\";\nimport Cash from \"../../pages/Cash\";\nimport Crypto from \"../../pages/Crypto\";\nimport Assets from \"../../pages/Collateral\";\nimport Profile from \"../../pages/Profile\";\nimport Transactions from \"../../pages/Transactions\";\nimport Transfers from \"../../pages/Transfers\";\nimport Auctions from \"../../pages/Auctions\";\nimport Register from \"../../pages/Register\";\nimport Monitor from \"../../pages/Monitor\";\nimport Contracts from \"../../pages/Contracts\";\nimport { VERSION } from '../../constants';\nimport ExternalSites from \"../../components/ExternalSites\";\nimport EventContext from \"../../contexts/TransactionContext\"\nimport AssetContext from \"../../contexts/AssetContext\"\nimport Login from \"../../pages/Login\";\nimport axios from \"axios\";\nimport \"./index.css\";\n\nfunction App() {\n  const [showConnectorModal, setShowConnectorModal] = useState(false);\n  const [auth, setAuth] = useState(() => {\n    // Local storage variables are prefixed with probity__ and are snake case\n    const value = localStorage.getItem(\"probity__auth\");\n    const initialValue = JSON.parse(value!);\n    return initialValue || \"\";\n  });\n  const [user, setUser] = useState()\n  const handleClose = () => setShowConnectorModal(false);\n  const handleShow = () => setShowConnectorModal(true);\n  const [mobileDevice, setMobileDevice] = useState(false);\n  const [assetPrice, setAssetPrice] = useState(0.00);\n  const { active, chainId, library, error } = useWeb3React<Web3Provider>()\n  const [displayInfoAlert, setDisplayInfoAlert] = useLocalStorageState(\n    \"displayInfoAlert\",\n    true\n  );\n  const [transactions, setTransactions]: any = useState(localStorage.getItem(\"probity-txs\") ? JSON.parse(localStorage.getItem(\"probity-txs\")!) : [])\n  const [asset, setAsset] = useState<string>(\"USD\")\n  const address = CONTRACTS[chainId!]?.USD.address\n  const updateTransactions = (transaction: any) => {\n    const newTxs = [...transactions, transaction]\n    localStorage.setItem(\"probity-txs\", JSON.stringify(newTxs))\n    setTransactions(newTxs);\n  };\n  const updateAsset = (asset: string) => {\n    setAsset(asset)\n  }\n  const { data: price, mutate } = useSWR([CONTRACTS[chainId!]?.PRICE_FEED?.address, 'getPrice', utils.id(asset)], {\n    fetcher: fetcher(library, CONTRACTS[chainId!]?.PRICE_FEED?.abi),\n  })\n\n  /**\n   * Save auth token to local storage\n   */\n  useEffect(() => {\n    (async () => {\n      if (auth) {\n        try {\n          setUser(auth.user)\n          localStorage.setItem(\"probity__auth\", JSON.stringify(auth));\n        } catch (error) {\n          console.error(error)\n        }\n      }\n    })()\n  }, [auth]);\n\n  /**\n   * Update asset price\n   */\n  useEffect(() => {\n    ;(async () => {\n      try {\n        if (price !== undefined) {\n          setAssetPrice((Number(utils.formatUnits(String(price), 27).toString())));\n        } else {\n          if (library) {\n            try {\n              const priceFeed = new Contract(CONTRACTS[chainId!].PRICE_FEED.address, CONTRACTS[chainId!].PRICE_FEED.abi, library.getSigner())\n              const result = await priceFeed.callStatic.getPrice(utils.id(asset));\n              setAssetPrice((Number(utils.formatUnits(String(result), 27).toString())));\n            } catch (error) {\n              console.error(error)\n            }\n          }\n        }\n      } catch (error) {\n        console.error(error)\n      }\n    })()\n  }, [library, price, asset, chainId]);\n\n  /**\n   * Set block listener\n   */\n  useEffect(() => {\n    if (library) {\n      library.on(\"block\", () => {\n        mutate(undefined, true);\n      });\n\n      return () => {\n        library.removeAllListeners(\"block\");\n      };\n    }\n  }, [library, mutate]);\n\n  /**\n   * Detect mobile device\n   */\n  useEffect(() => {\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n    if (/Mobi|Android/i.test(navigator.userAgent)) {\n      setMobileDevice(true);\n    }\n  }, []);\n\n  return (\n    <HelmetProvider>\n      <Router>\n        <div className=\"App\">\n          <Helmet>\n            <title>Probity</title>\n          </Helmet>\n          <ConnectorModal show={showConnectorModal} handleClose={handleClose} />\n          {\n            // (process.env.REACT_APP_REQUIRE_AUTH === \"true\" ? (auth && new Date(auth?.expiresAt) > new Date()) : true) ? (\n            (process.env.REACT_APP_REQUIRE_AUTH === \"true\" ? (auth && user) : true) ? (\n              <>\n                <div className=\"d-flex main-container min-vh-100\">\n                  <div className=\"min-vh-100 left-nav\">\n                    <EventContext.Provider value={{ transactions, updateTransactions }}>\n                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                        <Navbar setAuth={setAuth} />\n                      </AssetContext.Provider>\n                    </EventContext.Provider>\n                  </div>\n                  <div className=\"flex-grow-1 min-vh-100 page-container py-2 px-md-3\">\n                    <div className=\"container-fluid\">\n                      <div className=\"row\">\n                        <div className=\"col-12\">\n                          {displayInfoAlert ? (\n                            <Alert variant=\"info\" className=\"d-flex justify-content-between\">\n                              <div>\n                                <strong>\n                                  <i className=\"fas fa-exclamation-circle\"></i> Notice\n                                </strong>{\" \"}\n                                This app is for demo purposes only.\n                              </div>\n                              <button\n                                type=\"button\"\n                                className=\"btn-close\"\n                                data-bs-dismiss=\"alert\"\n                                aria-label=\"Close\"\n                                onClick={() => {\n                                  setDisplayInfoAlert(false);\n                                }}\n                              ></button>\n                            </Alert>\n                          ) : null}\n                        </div>\n                      </div>\n\n                      {!active && (\n                        <div className=\"row h-100\">\n                          <div className=\"offset-md-3 offset-lg-3 col-lg-6 col-md-6  col-sm-12\">\n                            {mobileDevice ? (\n                              <div\n                                className=\"alert alert-primary alert-dismissible fade show\"\n                                role=\"alert\"\n                              >\n                                {\" \"}\n                                <strong>\n                                  <i className=\"fas fa-mobile\"></i>\n                                </strong>\n                                &nbsp;Mobile device detected. Please use the Metamask\n                                app to connect your wallet.\n                              </div>\n                            ) : (\n                                <div className=\"shadow-sm border p-5 mt-5 bg-white rounded text-center\">\n                                <h3>Connect a wallet to enter</h3>\n                                {\n                                  (() => {\n                                    switch (error?.name) {\n                                      case \"UnsupportedChainIdError\":\n                                        return <span className=\"text-danger\">{error.message}</span>\n                                      case \"TransportError\":\n                                        return <span className=\"text-danger\">{error.message}</span>\n                                      case \"NoEthereumProviderError\":\n                                        return <span className=\"text-danger\">{error.message}</span>\n                                      case undefined:\n                                        return <span className=\"text-danger\">{error?.message}</span>\n                                      default:\n                                        if (error?.message)\n                                          return <span className=\"text-danger\">{error?.message}</span>\n                                        return JSON.stringify(error)\n                                    }\n                                  })()\n                                }\n                                <br />\n                                <br />\n                                <button\n                                  className=\"btn btn-outline-success\"\n                                  type=\"button\"\n                                  onClick={handleShow}\n                                >\n                                  <i className=\"fas fa-wallet mr-2\" /> Connect wallet\n                                </button>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      )}\n\n                      {active ? (\n                        <div className=\"row pt-3\">\n                          <EventContext.Provider value={{ transactions, updateTransactions }}>\n                            <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                              <Switch>\n                                {/* Profile Management */}\n                                <Route path=\"/profile\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-6 col-md-12\">\n                                    <Profile user={user} auth={auth} />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-6 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Cash Management */}\n                                <Route path=\"/cash-management\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-6 col-md-12\">\n                                    <Cash user={user} auth={auth} />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-6 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Crypto Management */}\n                                <Route path=\"/crypto-management\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-6 col-md-12\">\n                                    <Crypto user={user} auth={auth} />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-6 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Exchange */}\n                                <Route path=\"/exchange\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-8 col-md-12\">\n                                    <Exchange />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-4 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Investment Management */}\n                                <Route path=\"/investment\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-8 col-md-12\">\n                                    <Lend assetPrice={assetPrice} />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-4 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"equity\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Collateral Management */}\n                                <Route path=\"/collateral-management\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-6 col-md-12\">\n                                    <Assets />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-6 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"assets\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Loan Management */}\n                                <Route path=\"/loans\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-6 col-md-12\">\n                                    <Loans assetPrice={assetPrice} />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-6 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"debt\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Transfers */}\n                                <Route path=\"/transfers\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-6 col-md-12\">\n                                    <Transfers />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-6 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"currencies\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Health Monitor */}\n                                <Route path=\"/monitor\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-8 col-md-12\">\n                                    <Monitor assetPrice={assetPrice} />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-4 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"currencies\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                {/* Auctions */}\n                                <Route path=\"/auctions\">\n                                  <div className=\"col-xl-9 col-lg-12 col-md-12\">\n                                    <Auctions assetPrice={assetPrice} />\n                                  </div>\n                                  <div className=\"col-xl-3 col-lg-6 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"currencies\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                <Route path=\"/transactions\">\n                                  <div className=\"col-xl-8 col-lg-12 col-md-12\">\n                                    <Transactions />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-4 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                                <Route path=\"/contracts\">\n                                  <div className=\"offset-xl-1 col-xl-6 col-lg-8 col-md-12\">\n                                    <Contracts />\n                                  </div>\n                                  <div className=\"col-xl-4 col-lg-4 col-md-12\">\n                                    {active && (\n                                      <AssetContext.Provider value={{ asset, address, updateAsset }}>\n                                        <Balances newActiveKey=\"\" />\n                                      </AssetContext.Provider>\n                                    )}\n                                  </div>\n                                </Route>\n                              </Switch>\n                            </AssetContext.Provider>\n                          </EventContext.Provider>\n                        </div>\n                      ) : (\n                        <div className=\"row d-lg-none\">\n                          <div className=\"col-md-12 mt-5\">\n                            <div className=\"text-center\">\n                              <ExternalSites />\n                              <div className=\"spacer spacer-1\" />\n                              <small className=\"container-fluid text-muted\" id=\"version\">\n                                v{VERSION}\n                              </small>\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"main-container vh-100\">\n                <div className=\"vh-100 d-flex align-items-center\">\n                  <Switch>\n                    <Route path=\"/login/callback\">\n                      <LoginCallback setAuth={setAuth} />\n                    </Route>\n                    <Route path=\"/register\">\n                      <div className=\"offset-xl-3 col-xl-6 offset-lg-2 col-lg-8 col-md-12\">\n                        <Register error={null} setAuth={setAuth} />\n                      </div>\n                    </Route>\n                    <Route path=\"*\">\n                      <div className=\"offset-xl-3 col-xl-6 offset-lg-2 col-lg-8 col-md-12\">\n                        <Login error={null} setAuth={setAuth} />\n                      </div>\n                    </Route>\n                  </Switch>\n                </div>\n              </div>\n            )\n          }\n        </div>\n      </Router>\n    </HelmetProvider>\n  );\n}\n\nconst LoginCallback = ({ setAuth }: any) => {\n  const location = useLocation()\n  const history = useHistory()\n\n  /**\n   * Detect auth code for login\n   */\n  useEffect(() => {\n    (async () => {\n      try {\n        const params = new URLSearchParams(location.search);\n        const code = params.get(\"code\")\n\n        // Get auth token\n        let url;\n        if (process.env.NODE_ENV === \"production\")\n          url = `https://api.trustline.co/v1/auth/token`\n        else\n          url = `http://localhost:8080/v1/auth/token`\n        let response = await axios({\n          method: \"GET\",\n          url,\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          params: { code }\n        })\n\n        const { access_token: accessToken, id_token: idToken, expires_in: expiresIn } = response.data\n        const expiresAt = new Date()\n        expiresAt.setSeconds(expiresAt.getSeconds() + Number(expiresIn))\n\n        if (accessToken) {\n          response = await axios({\n            method: \"GET\",\n            url: \"https://api.global.id/v1/identities/me\",\n            headers: {\n              Accept: \"application/json\",\n              Authorization: `Bearer ${accessToken}`\n            }\n          })\n\n          if (response.status === 200) {\n            setAuth({ accessToken, idToken, expiresAt })\n            history.push(\"/profile\")\n          } else {\n            console.error(response)\n          }\n        } else {\n          history.push(\"/login\", { error: \"There was an error.\" })\n        }\n      } catch (error: any) {\n        console.log(\"Failed to fetch identity.\")\n        console.error(error)\n\n        if (error?.response?.status === 401) {\n          history.push(\"/login\", { error: \"Unauthorized.\" })\n        } else {\n          history.push(\"/login\", { error: error.toString() })\n        }\n      }\n    })()\n  }, [location, history, setAuth])\n\n  return (\n    <div className=\"d-flex justify-content-center align-items-center\">\n      <span className=\"fa fa-spin fa-spinner fa-3x\" />\n    </div>\n  )\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Web3ReactProvider } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { utils } from 'ethers'\nimport './index.css';\nimport App from './containers/App';\nimport reportWebVitals from './reportWebVitals';\n\nutils.Logger.setLogLevel(utils.Logger.levels.ERROR);\n\nfunction getLibrary(provider: any, connector: any): Web3Provider {\n  const library = new Web3Provider(provider)\n  library.pollingInterval = 5000\n  return library\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Web3ReactProvider getLibrary={getLibrary}>\n      <App />\n    </Web3ReactProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}